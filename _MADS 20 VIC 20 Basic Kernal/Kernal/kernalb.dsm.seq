*=$DFFF;********************************; EXTERNAL ADDRESS EQUATES;********************************MEMTOP=$FF99MEMBOT=$FF9CREADST=$FFB7SETLFS=$FFBASETNAM=$FFBDOPEN=$FFC0CLOSE=$FFC3CHKIN=$FFC6CHKOUT=$FFC9CLRCHN=$FFCCCHRIN=$FFCFCHROUT=$FFD2LOAD=$FFD5SAVE=$FFD8STOP=$FFE1GETIN=$FFE4UDTIM=$FFEAIOBASE=$FFF3;********************************       JSR $DC0F       LDA $61       CMP #$88       BCC XXE00BXXE008 JSR $DAD4XXE00B JSR $DCCC       LDA $07       CLC        ADC #$81       BEQ XXE008       SEC        SBC #$01       PHA        LDX #$05XXE01B LDA $69,X       LDY $61,X       STA $61,X       STY $69,X       DEX        BPL XXE01B       LDA $56       STA $70       JSR $D853       JSR $DFB4       LDA #$C4       LDY #$DF       JSR $E056       LDA #$00       STA $6F       PLA        JSR $DAB9       RTS ;********************************XXE040 STA $71       STY $72       JSR $DBCA       LDA #$57      ;'W'       JSR $DA28       JSR $E05A       LDA #$57      ;'W'       LDY #$00       JMP $DA28;********************************XXE056 STA $71       STY $72XXE05A JSR $DBC7       LDA ($71),Y       STA $67       LDY $71       INY        TYA        BNE XXE069       INC $72XXE069 STA $71       LDY $72XXE06D JSR $DA28       LDA $71       LDY $72       CLC        ADC #$05       BCC XXE07A       INY XXE07A STA $71       STY $72       JSR $D867       LDA #$5C      ;'\'       LDY #$00       DEC $67       BNE XXE06D       RTS ;********************************;********************************       .BYTE $98       .BYTE $35       .BYTE $44       .BYTE $7A       .BYTE $00       .BYTE $68       .BYTE $28       .BYTE $B1       .BYTE $46       .BYTE $00;********************************       JSR $DC2B       BMI XXE0D0       BNE XXE0BB       JSR IOBASE       STX $22       STY $23       LDY #$04       LDA ($22),Y       STA $62       INY        LDA ($22),Y       STA $64       LDY #$08       LDA ($22),Y       STA $63       INY        LDA ($22),Y       STA $65       JMP $E0E0;********************************XXE0BB LDA #$8B       LDY #$00       JSR $DBA2       LDA #$8A       LDY #$E0       JSR $DA28       LDA #$8F       LDY #$E0       JSR $D867XXE0D0 LDX $65       LDA $62       STA $65       STX $62       LDX $63       LDA $64       STA $63       STX $64XXE0E0 LDA #$00       STA $66       LDA $61       STA $70       LDA #$80       STA $61       JSR $D8D7       LDX #$8B       LDY #$00XXE0F3 JMP $DBD4;********************************XXE0F6 CMP #$F0       BNE XXE101       STY $38       STX $37       JMP $C663;********************************XXE101 TAX        BNE XXE106       LDX #$1EXXE106 JMP $C437;********************************       JSR CHROUT       BCS XXE0F6       RTS ;********************************       JSR CHRIN       BCS XXE0F6       RTS ;********************************       JSR CHKOUT       BCS XXE0F6       RTS ;********************************       JSR CHKIN       BCS XXE0F6       RTS ;********************************       JSR GETIN       BCS XXE0F6       RTS ;********************************       JSR $CD8A       JSR $D7F7       LDA #$E1       PHA        LDA #$43      ;'C'       PHA        LDA $030F       PHA        LDA $030C       LDX $030D       LDY $030E       PLP        JMP ($0014);********************************       PHP        STA $030C       STX $030D       STY $030E       PLA        STA $030F       RTS ;********************************       JSR $E1D1       LDX $2D       LDY $2E       LDA #$2B      ;'+'       JSR SAVE       BCS XXE0F6       RTS ;********************************       LDA #$01       BIT $00A9       STA $0A       JSR $E1D1       LDA $0A       LDX $2B       LDY $2C       JSR LOAD       BCS XXE1CE       LDA $0A       BEQ XXE195       LDX #$1C       JSR READST       AND #$10       BEQ XXE187       JMP $C437;********************************XXE187 LDA $7A       CMP #$02       BEQ XXE194       LDA #$64       LDY #$C3       JMP $CB1E;********************************XXE194 RTS ;********************************XXE195 JSR READST       AND #$BF       BEQ XXE1A1       LDX #$1D       JMP $C437;********************************XXE1A1 LDA $7B       CMP #$02       BNE XXE1B5       STX $2D       STY $2E       LDA #$76       LDY #$C3       JSR $CB1E       JMP $C52A;********************************XXE1B5 JSR $C68E       JMP $E476;********************************       JSR $E216       JSR OPEN       BCS XXE1CE       RTS ;********************************       JSR $E216       LDA $49       JSR CLOSE       BCC XXE194XXE1CE JMP $E0F6;********************************XXE1D1 LDA #$00       JSR SETNAM       LDX #$01       LDY #$00       JSR SETLFS       JSR $E203       JSR $E254       JSR $E203       JSR $E1FD       LDY #$00       STX $49       JSR SETLFS       JSR $E203       JSR $E1FD       TXA        TAY        LDX $49       JMP SETLFS;********************************XXE1FD JSR $E20B       JMP $D79E;********************************XXE203 JSR $0079       BNE XXE20A       PLA        PLA XXE20A RTS ;********************************XXE20B JSR $CEFDXXE20E JSR $0079       BNE XXE20A       JMP $CF08;********************************XXE216 LDA #$00       JSR SETNAM       JSR $E20E       JSR $D79E       STX $49       TXA        LDX #$01       LDY #$00       JSR SETLFS       JSR $E203       JSR $E1FD       STX $4A       LDY #$00       LDA $49       CPX #$03       BCC XXE23C       DEY XXE23C JSR SETLFS       JSR $E203       JSR $E1FD       TXA        TAY        LDX $4A       LDA $49       JSR SETLFS       JSR $E203       JSR $E20BXXE254 JSR $CD9E       JSR $D6A3       LDX $22       LDY $23       JMP SETNAM;********************************       LDA #$DD       LDY #$E2       JSR $D867XXE268 JSR $DC0C       LDA #$E2       LDY #$E2       LDX $6E       JSR $DB07       JSR $DC0C       JSR $DCCC       LDA #$00       STA $6F       JSR $D853       LDA #$E7       LDY #$E2       JSR $D850       LDA $66       PHA        BPL XXE29A       JSR $D849       LDA $66       BMI XXE29D       LDA $12       EOR #$FF       STA $12XXE29A JSR $DFB4XXE29D LDA #$E7       LDY #$E2       JSR $D867       PLA        BPL XXE2AA       JSR $DFB4XXE2AA LDA #$EC       LDY #$E2       JMP $E040;********************************       JSR $DBCA       LDA #$00       STA $12       JSR $E268       LDX #$4E      ;'N'       LDY #$00       JSR $E0F3       LDA #$57      ;'W'       LDY #$00       JSR $DBA2       LDA #$00       STA $66       LDA $12       JSR $E2D9       LDA #$4E      ;'N'       LDY #$00       JMP $DB0F;********************************XXE2D9 PHA        JMP $E29A;********************************;********************************       .BYTE $81       .BYTE $49       .BYTE $0F       .BYTE $DA       .BYTE $A2       .BYTE $83       .BYTE $49       .BYTE $0F       .BYTE $DA       .BYTE $A2       .BYTE $7F       .BYTE $00       .BYTE $00       .BYTE $00       .BYTE $00       .BYTE $05       .BYTE $84       .BYTE $E6       .BYTE $1A       .BYTE $2D       .BYTE $1B       .BYTE $86       .BYTE $28       .BYTE $07       .BYTE $FB       .BYTE $F8       .BYTE $87       .BYTE $99       .BYTE $68       .BYTE $89       .BYTE $01       .BYTE $87       .BYTE $23       .BYTE $35       .BYTE $DF       .BYTE $E1       .BYTE $86       .BYTE $A5       .BYTE $5D       .BYTE $E7       .BYTE $28       .BYTE $83       .BYTE $49       .BYTE $0F       .BYTE $DA       .BYTE $A2;********************************       LDA $66       PHA        BPL XXE313       JSR $DFB4XXE313 LDA $61       PHA        CMP #$81       BCC XXE321       LDA #$BC       LDY #$D9       JSR $DB0FXXE321 LDA #$3B      ;';'       LDY #$E3       JSR $E040       PLA        CMP #$81       BCC XXE334       LDA #$DD       LDY #$E2       JSR $D850XXE334 PLA        BPL XXE33A       JMP $DFB4;********************************XXE33A RTS ;********************************;********************************       .BYTE $0B       .BYTE $76       .BYTE $B3       .BYTE $83       .BYTE $BD       .BYTE $D3       .BYTE $79       .BYTE $1E       .BYTE $F4       .BYTE $A6       .BYTE $F5       .BYTE $7B       .BYTE $83       .BYTE $FC       .BYTE $B0       .BYTE $10       .BYTE $7C       .BYTE $0C       .BYTE $1F       .BYTE $67       .BYTE $CA       .BYTE $7C       .BYTE $DE       .BYTE $53       .BYTE $CB       .BYTE $C1       .BYTE $7D       .BYTE $14       .BYTE $64       .BYTE $70       .BYTE $4C       .BYTE $7D       .BYTE $B7       .BYTE $EA       .BYTE $51       .BYTE $7A       .BYTE $7D       .BYTE $63       .BYTE $30       .BYTE $88       .BYTE $7E       .BYTE $7E       .BYTE $92       .BYTE $44       .BYTE $99       .BYTE $3A       .BYTE $7E       .BYTE $4C       .BYTE $CC       .BYTE $91       .BYTE $C7       .BYTE $7F       .BYTE $AA       .BYTE $AA       .BYTE $AA       .BYTE $13       .BYTE $81       .BYTE $00       .BYTE $00       .BYTE $00       .BYTE $00;********************************       JSR $E45B       JSR $E3A4       JSR $E404       LDX #$FB       TXS        JMP $C474;********************************XXE387 INC $7A       BNE XXE38D       INC $7BXXE38D LDA $EA60       CMP #$3A      ;':'       BCS XXE39E       CMP #$20      ;' '       BEQ XXE387       SEC        SBC #$30      ;'0'       SEC        SBC #$D0XXE39E RTS ;********************************;********************************       .BYTE $80       .BYTE $4F       .BYTE $C7       .BYTE $52       .BYTE $58;********************************XXE3A4 LDA #$4C      ;'L'       STA $54       STA $00       LDA #$48      ;'H'       LDY #$D2       STA $01       STY $02       LDA #$91       LDY #$D3       STA $05       STY $06       LDA #$AA       LDY #$D1       STA $03       STY $04       LDX #$1CXXE3C4 LDA $E387,X       STA $73,X       DEX        BPL XXE3C4       LDA #$03       STA $53       LDA #$00       STA $68       STA $13       STA $18       LDX #$01       STX $01FD       STX $01FC       LDX #$19       STX $16       SEC        JSR MEMBOT       STX $2B       STY $2C       SEC        JSR MEMTOP       STX $37       STY $38       STX $33       STY $34       LDY #$00       TYA        STA ($2B),Y       INC $2B       BNE XXE403       INC $2CXXE403 RTS ;********************************XXE404 LDA $2B       LDY $2C       JSR $C408       LDA #$36      ;'6'       LDY #$E4       JSR $CB1E       LDA $37       SEC        SBC $2B       TAX        LDA $38       SBC $2C       JSR $DDCD       LDA #$29      ;')'       LDY #$E4       JSR $CB1E       JMP $C644;********************************;********************************       .BYTE ' BYTES FREE'       .BYTE $0D       .BYTE $00       .BYTE $93       .BYTE '**** CBM BASIC V2 ****'       .BYTE $0D       .BYTE $00;********************************;********************************XXE44F .WORD $C43A       .WORD $C483       .WORD $C57C       .WORD $C71A       .WORD $C7E4       .WORD $CE86;********************************XXE45B LDX #$0BXXE45D LDA $E44F,X       STA $0300,X       DEX        BPL XXE45D       RTS ;********************************       JSR CLRCHN       LDA #$00       STA $13       JSR $C67A       CLI        JMP $C474;********************************;********************************       .BYTE $E8;********************************XXE476 JSR $C533       JMP $C677;********************************;********************************       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF;********************************XXE4A0 LDA $912C       AND #$DF       STA $912C       RTS ;********************************XXE4A9 LDA $912C       ORA #$20      ;' '       STA $912C       RTS ;********************************XXE4B2 LDA $911F       CMP $911F       BNE XXE4B2       LSR A       RTS ;********************************XXE4BC LDX $B9       JMP $F647;********************************XXE4C1 TXA        BNE XXE4CC       LDA $C3       STA $AE       LDA $C4       STA $AFXXE4CC JMP $F66A;********************************XXE4CF JSR $F8E3       BCC XXE4D7       PLA        LDA #$00XXE4D7 JMP $F39E;********************************;********************************       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF       .BYTE $FF;********************************XXE500 LDX #$10       LDY #$91       RTS ;********************************XXE505 LDX #$16       LDY #$17       RTS ;********************************XXE50A BCS XXE513       STX $D6       STY $D3       JSR $E587XXE513 LDX $D6       LDY $D3       RTS ;********************************XXE518 JSR $E5BB       LDA $0288       AND #$FD       ASL A       ASL A       ORA #$80       STA $9005       LDA $0288       AND #$02       BEQ XXE536;********************************.END