KKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK
STA STATUS       LDY #$03;********************************RFILNM STY FNLEN       JSR ACPTR       STA TEMP0       LDY STATUS       BNE XX06E1;********************************       JSR ACPTR       STA TEMP1       LDY STATUS       BNE XX06E1;*#$00       BEQ XX070B       JSR CHROUT       JSR STOP       BEQ ENDER;********************************       JSR GETIN       BEQ XX06E8       CMP #$20      ;' '       BNE XX06E8XX0704 JSR GETIN       BEQ XX0704       BNE XX06E8XX070B LDA #$0       PLA        ;PULL RTS ADDRESS       PLA       JMP WARMBS;********************************; /FILENAME - LOAD FILENAME;********************************LOADIT LDA #$0E       LDY #$00       JSR SETLFS       LDA #$00       LDX TXTTAB       L IS THE BASIC; TEXT AREA IS SAVED DISK WITH; USER GIVEN FILENAME. THE FILE; WILL BE A PRG (PROGRAM) TYPE.; THE SAVE COMMAND HAS THE FORM:;; %FILENAME;; THE DRIVE STATUS IS RETURNED; FOLLOWING THE SAVE;;********************************SAVEIT JOM SERIAL BUS; AND PRINT THEM TO THE SCREEN; UNTILL A CARRIDGE RETURN IS; RECEIVED THEN UNTALK DEVICE;;*********************************ERROR LDA FA     ;GET DEVICE JSR TALK        ;TALK DEVICE LDA #$0F+$60    ;SEC+$60 STA SA          ;PLACE SECRN;********************************; PRINT STARTUP BANNER;********************************PRMESS LDX #$00STMSG  LDA BANNER,X       BEQ DONE       JSR CHROUT       INX       BNE STMSGDONE   RTS;********************************; STARTUP BANNERBYTE 'BYE',$0D,$00;*********************************; DISABLE WEDGE (@Q);; REMOVE WEDGE FROM CHRGET BY; COPYING OVER THREE BYTE PATCH; WITH CORRECT BYTES FROM ROM;;*********************************QUITER LDX #$02        ;SET COUNTERROM    LDA C ENDKK*******************************       LDY FNLEN       DEY        BNE RFILNM;********************************       LDX TEMP0       LDA TEMP1       JSR LINPRT       LDA #$20      ;' '       BNE XX06E5;********************************; LOAD FILE MORE CHARACTERS;********************************XX06E3 BNE RFILNM;********************************;;********************************XX06E5 JSR CHROUTXX06E8 JSR ACPTR       LDX STATUS       BNE ENDER;********************************       CMP D       JSR CHROUT       LDY #$02       BNE XX06E3;********************************; DONE CLOSE CLEAR AND CLOSE CHANNEL;********************************ENDER  JSR CLRCHN ;CLEAT I/O CHANNELS       LDA #$0E   ;DRIVE CHANNEL       JSR CLOSE  ;CLOSEDY TXTTAB+1       JSR LOAD;********************************; BASIC CLEANUP AFTER LOAD;********************************       JMP CLOAD;********************************; %FILENAME - SAVE FILENAME;; EXECUTE RELOCATABLE SAVE;; THE CURRENT PROGRAMSR SAVET;       LDA #$0D       JMP ENDER;       JSR PRT     ;PRINT CHAR       JMP ERROR   ;DISPLAY STATUS;*********************************; READ DISK ERROR STATUS (@);; COMMAND DEVICE TO TALK, USING; THE COMMAND CHANNEL (15),; INPUT BYTES FR JSR TKSA        ;SEND SEC;ERR1 JSR ACPTR   ;GET BYTE CMP #$0D        ;IS IF CR? BEQ ERR2        ;IF SO DONE JSR PRT         ;PRINT CHAR JMP ERR1        ;NEXT BYTE;ERR2 JSR PRT     ;PRINT CR JSR UNTLK       ;UNTALK DEVICEEEXIT JMP CHRGOT ;RETU;********************************BANNER .BYTE $93 ; CLEAR SCREEN.BYTE $0D,$0D.BYTE '   VIC  DOS MANAGER',$0D.BYTE '    V4.1/071382',$0D,$0D.BYTE '  (C) 1982 COMMODORE',$0D.BYTE '   BUSINESS MACHINES',$0D,$00;*********************************BYE .HRCPY,X    ;GET ROM BYTE       STA CHRGET,X    ;PUT IN CHRGET       DEX             ;COUNT-1       BPL ROM         ;MOVE 3 BYTES;             LDX #BYE-BANNER       JSR STMSG;      JMP BASSFT      ;BACK TO BASIC;********************************.KK;********************************LOADE1 LDA LSFLAG       BNE SAVE1       JMP LOADIT;SAVE1  JMP SAVEIT;********************************; DONE.;********************************XX06E1 BNE ENDER;********************************; LOOP BACK TO READ
;********************************       CMP #'Q'       BEQ QUIT;********************************; CHECK STATUS COMMAND ONLY;********************************       BNE XX064D;********************************; NO COMMAND - PASS BACK TO PROCESSING LDA DEVICE  ;#$08       JSR TALK       LDA #$0F+$60 ;SEC ORED WITH $60       STA SA       ;SET SECONDARY ADRS       JSR TKSA;********************************; READ IN STATUS BYTES 00, OK,00,00;********************************XX0677 JSR ACPTR          BEQ LOADS;SAVER  LDA #$FF       STA LSFLAG       ;LOADS  INY        LDA (TXTPTR),Y       BNE LOADS       DEY        TYA        LDX #$01       LDY #$02       JSR SETNAM;********************************       LDX DEVICE ;#$08       LDA  TEMP       BNE LOADE1;       LDA #$0E       LDY #$60       JSR SETLFS;********************************       JSR OPEN;********************************       LDA DEVICE ;#$08       JSR TALK       LDA #$60       JSR TKSA       LDA #$00        783738843+,"#78$%"$0"$%# Ls78tu`z 2    hhLg   +, L0"$%# Ls78tu`z "      VIC WEDGE 4 "   BY DAVID A. HOOK Q " >        DISK STATUS m " @         OR COMMAND  " >$       DIRECTORY":" @$  " /FILE    LOAD  "DEVICE  8";D  A(43)256(44):A589,D:A621,D:A667,D:A683,D 	 Az{6/z({" z>@	/Uz,$JLy Ly  o z z P Pz o   BP B Ly z >`   `      @1  %    JSR TKSA        ;SEND SEC;ERR1 JSR ACPTR   ;GET BYTE CMP #$0D        ;IS IF CR? BEQ ERR2        ;IF SO DONE JSR PRT         ;PRINT CHAR JMP ERR1        ;NEXT BYTE;ERR2 JSR PRT     ;PRINT CR JSR UNTLK       ;UNTALK DEVICEEEXIT JMP CHRGOT ;RETU ;********************************BANNER .BYTE $93 ; CLEAR SCREEN.BYTE $0D,$0D.BYTE '   VIC  DOS MANAGER',$0D.BYTE '    V4.1/071382',$0D,$0D.BYTE '  (C) 1982 COMMODORE',$0D.BYTE '   BUSINESS MACHINES',$0D,$00;*********************************BYE .OOP;********************************XX0645 JMP CHRGOT;********************************; EXIT;********************************QUIT   JMP QUITER;********************************; NOT OUR COMMAND ; RETURN TO CHRGET TO PROCESS COMMAND;*************   STA SA       ;SET SECONDARY ADRS       JSR SECOND;XX0657 INC TXTPTR       LDY #$00       LDA (TXTPTR),Y       BEQ XX0665       JSR CIOUT       CLV        BVC XX0657;XX0665 JSR UNLSN       CLV        BVC XX068A;XX066B STY TXTPTR       L  CMP #$0D       BEQ XX0684       JSR PRT       CLV        BVC XX0677XX0684 JSR PRT       JSR UNTLKXX068A JMP CHRGOT;********************************; @$ OR /$ LIST DIRECTORY;********************************LOADER LDA #$00       STA LSFLAG   0E420E4FFF0FBD0DDA90D20D2FFA002D0CF20CCFFA90E10C6;18BE1020C3FF68684C67E4A90EA00020BAFFA900A62BA42C20D5FF0C9D;03BE284C95E102AB;00001800188BD68FFA96F2096FF20A5FFC90DF0062042E7B850F32042E720AB0DF1;18BD80FF4C7900C8B17AD0FB8898A201A00220BDFFA208A59BD03E0{6/z({" z>@	/Uz,$JLy Ly  o z z P Pz o   BP B Ly z >`   `      @1  %     #$00       BEQ XX070B       JSR CHROUT       JSR STOP       BEQ ENDER;********************************       JSR GETIN       BEQ XX06E8       CMP #$20      ;' '       BNE XX06E8XX0704 JSR GETIN       BEQ XX0704       BNE XX06E8XX070B LDA #$0266:      783738843+,"#78$%"$0"$%# Ls78tu` <      hhLg   +, L0"$%# Ls78tu`OM SERIAL BUS; AND PRINT THEM TO THE SCREEN; UNTILL A CARRIDGE RETURN IS; RECEIVED THEN UNTALK DEVICE;;*********************************ERROR LDA FA     ;GET DEVICE JSR TALK        ;TALK DEVICE LDA #$0F+$60    ;SEC+$60 STA SA          ;PLACE SEC	RN;********************************; PRINT STARTUP BANNER;********************************PRMESS LDX #$00STMSG  LDA BANNER,X       BEQ DONE       JSR CHROUT       INX       BNE STMSGDONE   RTS;********************************; STARTUP BANNER*******************XX0648 LDX TEMP ; RECOVERY X REG       JMP CHRGOT;********************************; @ OR / READ DRIVE STATUS;********************************XX064D LDA DEVICE    ;#$08       JSR LISTEN       LDA #$0F+$60 ;SEC ORED WITH $60    
.PAGE 'DOS 4.1E DISK WEDGE'.OPT LIST;********************************** = $BC00   ; SYS 48128;*********************************;;       DOS 4.1E DISK WEDGE;;      VERSION V4.1/071382;      BY BOB FAIRBAIRN;        COPYRIGHT 1982;  COMMODORE BU ****XX063A INY        LDA (TXTPTR),Y       BEQ XX066B;********************************; CHECK DIRECTORY COMMAND $;********************************       CMP #$24      ;'$'       BEQ LOADER;********************************; CHECK QUIT COMMAND Q BUSINESS MACHINES;;  DOCUMENTED BY DENTON MARLOWE;;*********************************; MAIN BODY OF CODE;*********************************.FIL DOS41E.ASM;*********************************.END$3E,$24,$20,$20,$20,$20; .BYTE $20,$20,$20,$44,$49,$52TEM EQUATES;*********************************; BASIC TEXT AREA POINTERS;*********************************TXTTAB = $2B ;START OF BASIC TEXTVARTAB = $2D ;START OF BASIC STORAGE;*********************************; CHRGET ADDRESSES;*******************GTH OF FILENAMESA     = $B9 ;SECONDARY ADDRESSFA     = $BA ;DEVICE NUMBER;*********************************; TEMPOARY STORGAE;*********************************TEMP   = $9B ;TEMP0  = $B0 ;TEMP1  = $B1 ;;*********************************;;******RINT LINE NUMBERSAVET  = $E156 ;SAVE (PARAMS SET)CLOAD  = $E195CHRCPY = $E387 ;ROM COPY OF CHRGETWARMBS = $E467PRT    = $E742;*********************************; KERNAL JUMP TABLE;*********************************SECOND = $FF93TKSA   = $FF96ACP**; ENTRY POINT;*********************************DOSWDG JMP START ;JMP PAST DATA;*********************************; DEVICE NUMBER;*********************************DEVICE .BYTE $AA;*********************************; LOAD/SAVE FLAG;**************'S CURRENT DEVICE; NUMBER, AND PRINT COPYRIGHT;;*********************************START LDX #$02     ;SET COUNTERS1    LDA PATCH,X  ;GET WEDGE      STA CHRGET,X ;STORE WEDGE      DEX          ;COUNT-1      BPL S1       ;LOOP 3 TIMES;      LDA FA*************************; CHECK WHERE WE WERE CALLED FROM; $C48D - 1 CALL TO CHRGET FROM; $C483 BASIC WARM START;********************************       LDA STACK+1,X       CMP #<CHRGEC-1 ;#$8C $C48C       BNE XX0648       LDA STACK+2,X       CM2    ;DIRECT MODE       BNE XX0645  ;NO EXIT;       LDY #$00   ;SET INDEX=0       STY TEMP   ;SAVE;********************************; CHECK COMMAND; @ OR > OR /;********************************       LDA (TXTPTR),Y       CMP #$3E      ;'>'      SINESS MACHINES;;  DOCUMENTED BY DENTON MARLOWE;;*********************************; MAIN BODY OF CODE;*********************************.FIL DOS41E.ASM;*********************************.END*********************;1 PRINT"{CLEAR}{DOWN}      VIC WED @
  BOOT DOS * A0A1:"DOS41",8,1 < A148128:    ;9 SYSA+266:NEW ;********************************;1 PRINT"{CLEAR}{DOWN}      VIC WEDGE"; .WORD $0419; .WORD $0001; .BYTE $99,$22,$93,$11,$20,$20,$20,$20,$20,$20; .BYTE $56,$49,$43,$20.PAGE 'DOS 4.1E DISK WEDGE'.OPT NOLIST;********************************** = $BC00   ; SYS 48128;*********************************;;       DOS 4.1E DISK WEDGE;;      VERSION V4.1/071382;      BY BOB FAIRBAIRN;        COPYRIGHT 1982;  COMMODORE ;*********************************;;       DOS 4.1 DISK WEDGE;;      VERSION V4.1/071382;      BY BOB FAIRBAIRN;        COPYRIGHT 1982;  COMMODORE BUSINESS MACHINES;;  DOCUMENTED BY DENTON MARLOWE;;*********************************; VIC20 SYS**************CHRGET = $73 ;BASIC INPUT PROCESSORCHRGOT = $79 ;GET CURRENT CHARACTERTXTPTR = $7A ;CHRGET POINTER;*********************************; DISK I/O ADDRESS;*********************************STATUS = $90 ;KERNAL I/O STATUSFNLEN  = $B7 ;LEN***************************STACK  = $0100 ;6502 PROCESSOR STACK;*********************************; BASIC ROM ADDRESSES;*********************************BASSFT = $C480 ;RETURN TO BASICCHRGEC = $C48D ;CALL TO CHRGET FROM DIRECT MODELINPRT = $DDCD ;PTR  = $FFA5CIOUT  = $FFA8UNTLK  = $FFABUNLSN  = $FFAELISTEN = $FFB1TALK   = $FFB4SETLFS = $FFBASETNAM = $FFBDOPEN   = $FFC0CLOSE  = $FFC3CLRCHN = $FFCCCHROUT = $FFD2LOAD   = $FFD5STOP   = $FFE1GETIN  = $FFE4;**************************************************LSFLAG .BYTE $AA;*********************************; WEDGE CHRGET PATCH;*********************************PATCH JMP WEDGE;*********************************; WEDGE ACTIVATION ROUTINE;; PATCH INTO CHRGET IN ZEROPAGE,; DEFINE USER       ;STORE CURRENT      STA DEVICE   ;DEVICE NUMBER;      JMP PRMESS   ;PRINT MESSAGE;********************************;;********************************WEDGE  INC TXTPTR       BNE XX0608       INC TXTPTR+1XX0608 STX TEMP       TSX ;*******	P #>CHRGEC   ;#$C4 $C48C       BNE XX0648     ;NOT OUR COMMAND;********************************; CHECK COMMAND;********************************       LDA TXTPTR       BNE XX0645  ;IF HIBYTE POINTER NON ZERO EXIT;       LDA TXTPTR+1       CMP #$0  BEQ XX063A;       CMP #$40      ;'@'       BEQ XX063A;       INY        STA TEMP       CMP #$2F      ;'/'       BEQ LOADER;       CMP #'%'       BEQ SAVER;       BNE XX0645;********************************;;****************************A         	VIC DOS 4.12ATEST             BCDOS41E.ASM            BCDOS41ENL.ASM            DOS41E.ASM         )    BCDOS41E.OBJ            BCDOS41E            TESTS             TEST          KK   BCDOS41E.ASM             BCDOS41ENL.ASM              DOS41E.ASM             BDOS41E.OBJ         	    BDOS41E                                                                                                          KKKKKKKKKKKKKK
;18BC004C08BCAAAA4C1ABCA202BD05BC9573CA10F8A5BA8D03BC4C0C4D;18BC18A4BDE67AD002E67B869BBABD0101C98CD041BD0201C9C4D00DFD;18BC303AA57AD030A57BC902D02AA000849BB17AC93EF011C940F00D2D;18BC480DC8859BC92FF066C925F069D00FC8B17AF036C924F057C90E9B;18BC6051F005D1A00220BDFFAE03BCA59BD03FA90EB8;18BCD80EA06020BAFF20C0FFAD03BC20B4FFA9602096FFA90085900E2D;18BCF0A00384B720A5FF85B0A490D02420A5FF85B1A490D01BA4B70F37;18BD0888D0E7A6B0A5B120CDDDA920D00FAD04BCD0034C61BD4C740DA4;18BD20BDD031D0CD20D2FF20A5FFA690D025C900FEAA;18BD984C8EBD2042E720ABFF4C7900A200BDB2BDF00620D2FFE8D00E49;18BDB0F560930D0D2020205649432020444F53204D414E41474552080A;18BDC80D2020202056342E312F3037313338320D0D2020284329200585;18BDE03139383220434F4D4D4F444F52450D202020425553494E450781;18BDF8535 LLsLz{A:z0{* z>@/f%iz6$WQLy L
Ly  o z z P P"z o   BP B Ly  z ?`   `    # MACHINES BYE sS LA:z0{* z>@/f%iz6$WQLy L
Ly  o z z P P"z o   BP B Ly  z ?`   `    @
  BOOT DOS * A0A1:"DOS41",8,1 < A148128:      DOS41E.ASM             BDOS41E.OBJ         	    BDOS41E                                                                                                                RTS .END       STX ZCHRGT+2       RTS;********************************; FILLER BYTES (NOP) TO PAD MEMORY; FOR START OF WEDGE ON BOUNDARY;********************************ZZ055D = *  .BYTE $EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$H;*********************************PATCH JMP WEDGE;********************************; WEDGE ENTRY POINT FROM CHRGET;********************************WEDGE  INC $7A       BNE XX0608       INC $7BXX0608 STX $9B       TSX ;*************************,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA .BYTE $EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA .BYTE $EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA .BYTE $EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA    LDA $7A       BNE XX0645       LDA $7B       CMP #$02       BNE XX0645       LDY #$00       STY $9B;********************************; CHECK COMMAND; @ OR > OR /;********************************       LDA ($7A),Y       CMP #$3E      ;'>' 00B4C79004C0ABEA69B4C7900AD03BC20B1FFA96F0B88;18BC7885B92093FFE67AA000B17AF00620A8FFB850F220AEFFB8500EF3;18BC9022847AAD03BC20B4FFA96F85B92096FF20A5FFC90DF006200D7E;18BCA842E7B850F32042E720ABFF4C7900A9008D04BCF005A9FF8D0D98;18BCC004BCC8B17AD0FB8898A2001820D2FF20E10EF3;18BD38FFF01920E4FFF0E8C920D0E420E4FFF0FBD0DDA90D20D2FF11CF;18BD50A002D0CF20CCFFA90E20C3FF68684C67E4A90EA00020BAFF0D81;18BD68A900A62BA42C20D5FF4C95E12056E1A90D4C54BD2042E74C0C3C;18BD8082BDA5BA20B4FFA96F85B92096FF20A5FFC90DF0062042E70 c3204D414348494E45530D004259450D00A202BD87E3950935;0CBE1073CA10F8A25320A6BD4C80C40727;0000170017FA90E20C3FF68684C67E4A90EA00020BAFF0D81;18BD68A900A62BA42C20D5FF4C95E12056E1A90D4C54BD2042E74C0C3C;18BD8082BDA5BA20B4FFA96F85B92096FF20A5FFC90DF0062042E70$   LaLt1  %         hhLg   +, L VLT BL o   BL B Ly   `   VIC  DOS MANAGER    V4.1/071382  (C) 1982 COMMODORE   BUSINESS*****************************; PATCH CHRGET WITH JMP TO WEDGE;********************************XX054C LDA #$4C      ; OPCODE FOR JMP       STA ZCHRGT       LDY MEMSIZ       LDX MEMSIZ+1       INY        BNE XX0558       INX XX0558 STY ZCHRGT+1 ********************************START LDX #$02     ;SET COUNTERS1    LDA PATCH,X  ;GET WEDGE      STA CHRGET,X ;STORE WEDGE      DEX          ;COUNT-1      BPL S1       ;LOOP 3 TIMES;      RTS;*********************************; WEDGE CHRGET PATCEA,$EA,$EA .BYTE $EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA .BYTE $EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA .BYTE $EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA .BYTE $EA,$EA,$EA,$EA,$EA,$EA	*******; CHECK WHERE WE WERE CALLED FROM; $C48D - 1 CALL TO CHRGET FROM; $C483 BASIC WARM START;********************************       LDA $0101,X       CMP #$8C      ;$C48C       BNE XX0648       LDA $0102,X       CMP #$C4       BNE XX0648     .BYTE $EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA .BYTE $EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA .BYTE $EA,$EA,$EA,$EA,$EA ;********************************; ;********************************.ENDSR TALK 
MAND $;********************************       CMP #$24      ;'$'       BEQ XX068D       BNE XX064DXX0645 JMP RCHRGT;********************************; NOT OUR COMMAND ; RETURN TO CHRGET TO PROCESS COMMAND;********************************XX0648 LK       BEQ XX0665       JSR CIOUT       CLV        BVC XX0657XX0665 JSR UNLSN       CLV        BVC XX068AXX066B STY $7A       LDA #$08       JSR TALK       LDA #$6F       JSR TKSAXX0677 JSR ACPTR       CMP #$0D       BEQ XX0684       JSR KA        LDX #$01       LDY #$02       JSR SETNAM       LDX #$08       LDA $9B       BNE XX06DF       LDA #$0E       LDY #$60       JSR SETLFS       JSR OPEN       LDA #$08       JSR TALK       LDA #$60       JSR TKSA       LDA #$00      KR PRTLIN       LDA #$20      ;' '       BNE XX06E5XX06DF BNE XX0721XX06E1 BNE XX0714XX06E3 BNE XX06BBXX06E5 JSR CHROUTXX06E8 JSR ACPTR       LDX $90       BNE XX0714       CMP #$00       BEQ XX070B       JSR CHROUT       JSR STOP       BEQ KOSE       PLA        PLA        JMP WARMBS;********************************; /FILENAME - LOAD FILENAME;********************************XX0721 LDA #$0E       LDY #$00       JSR SETLFS       LDA #$00       LDX VARTOP       LDY VARTOP+1       JKDX $9B ; RECOVERY X REG       JMP RCHRGT;********************************; @ OR / READ DRIVE STATUS;********************************XX064D LDA #$08       JSR LISTEN       LDA #$6F       JSR SECONDXX0657 INC $7A       LDY #$00       LDA ($7A),YKKCHROT       CLV        BVC XX0677XX0684 JSR KCHROT       JSR UNTLKXX068A JMP RCHRGT;********************************; @$ OR /$ LIST DIRECTORY;********************************XX068D INY        LDA ($7A),Y       BNE XX068D       DEY        TYK STA $90       LDY #$03XX06BB STY $B7       JSR ACPTR       STA $B0       LDY $90       BNE XX06E1       JSR ACPTR       STA $B1       LDY $90       BNE XX06E1       LDY $B7       DEY        BNE XX06BB       LDX $B0       LDA $B1       JSKXX0714       JSR GETIN       BEQ XX06E8       CMP #$20      ;' '       BNE XX06E8XX0704 JSR GETIN       BEQ XX0704       BNE XX06E8XX070B LDA #$0D       JSR CHROUT       LDY #$02       BNE XX06E3XX0714 JSR CLRCHN       LDA #$0E       JSR CLK SR LOAD;********************************; BASIC CLEANUP AFTER LOAD;********************************       JMP CLOAD;********************************;.END KKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK