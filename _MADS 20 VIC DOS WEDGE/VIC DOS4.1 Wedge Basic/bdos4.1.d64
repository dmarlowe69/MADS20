KKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK
     .WORD $001E       .BYTE $99,$22,$11,$3E,$20,$20,$20,$20       .BYTE $20,$20,$20,$20,$20,$44,$49,$53       .BYTE $4B,$20,$53,$54,$41,$54,$55,$53       .BYTE $00;40 PRINT" @         OR COMMAND       .WORD $046C       .WORD $0028       .BYTE $9      .BYTE $9E,$28,$C2,$28,$34,$33,$29,$AA       .BYTE $32,$35,$36,$AC,$C2,$28,$34,$34       .BYTE $29,$AA,$32,$31,$35,$29       .BYTE $00;90 NEW       .WORD $04D1       .WORD $005A       .BYTE $A2       .BYTE $00;       .WORD $0000;********* 2DOS41.ASM;*********************************.ENDKKKKKKK9,$22,$40,$20,$20,$20,$20,$20       .BYTE $20,$20,$20,$20,$4F,$52,$20,$43       .BYTE $4F,$4D,$4D,$41,$4E,$44,$53              .BYTE $00;50 PRINT">$0       DIRECTORY"       .WORD $0489       .WORD $0032       .BYTE $99,$22,$11,$3E,$24,$30,$20,$20RD $04B0       .WORD $0046       .BYTE $99,$22,$11,$2F,$46,$49,$4C,$45       .BYTE $4E,$41,$4D,$45,$20,$20,$20,$20       .BYTE $20,$20,$20,$20,$4C,$4F,$41,$44       .BYTE $00;80 SYS(PEEK(43)+256*PEEK(44)+215)       .WORD $04CB       .WORD $0050 ************************; CODE TO PROTECT WEDGE FROM BASIC; BY ADJUSTING BASIC RAM TO AREA; PAST WEDGE;*********************************.LIB MOVBASIC.ASM;*********************************; MAIN BODY OF CODE;*********************************.FIL KKKKKKK       .BYTE $20,$20,$20,$20,$20,$20,$20,$44       .BYTE $49,$52,$45,$43,$54,$4F,$52,$59       .BYTE $00;60 PRINT" @$0       .WORD $0493       .WORD $003C       .BYTE $99,$22,$40,$24,$30       .BYTE $00;70 PRINT"{DOWN}/FILENAME    LOAD       .WO
NE XX0525       INX XX0525 STY ZCHRGT+1       STX ZCHRGT+2       RTS ;********************************; FILLER BYTES (NOP) TO PAD MEMORY; FOR START OF WEDGE ON BOUNDARY;********************************ZZ052A = *        .BYTE $AA,$AA,$AA,$AA,$AA$AA,$AA,$AA,$AA       .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA       .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA       .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA       .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA       .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA       .BYTE ;18120118040A0099229322A33629221256494320574544474500330598;181219041400992211202020425920444156494420412E20484F4F053F;1812314B0050041E009922113E2020202020202020204449534B20048D;181249535441545553006C0428009922402020202020202020204F0559;18126152204341045A00A2000000AAAAAAAAAAA508D7;1812D93738E93385378533A538E90185388534A033A52BA62CE8E80B84;1812F1E885228623A537A638E885248625A201B122912488D0F9CA0C8F;181309F002300CB1229124C625C623A000F0E8A94C8573A437A6380ADC;181321C8D001E88474867560AAAAAAAAAAAAAAAAA09C;181399AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA10B4;1813B1AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA10CC;1813C9AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA10E4;1813E1AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA10FC;1813F9AAAFB850F220AEFFB8501F847AA90820B40C7E;181471FFA96F2096FF20A5FFC90DF0062042E7B850F32042E720AB0D51;181489FF4C7900C8B17AD0FB8898A201A00220BDFFA208A59BD03E0D70;1814A1A90EA06020BAFF20C0FFA90820B4FFA9602096FFA90085900D3C;1814B9A00384B720A5FF85B0A490D01B20A5F '5FF0BFD;0315314C95E1020B;000023002381471FFA96F2096FF20A5FFC90DF0062042E7B850F32042E720AB0D51;181489FF4C7900C8B17AD0FB8898A201A00220BDFFA208A59BD03E0D70;1814A1A90EA06020BAFF20C0FFA90820B4FFA9602096FFA90085900D3C;1814B9A00384B720A5FF85B0A490D01B20A5F
 ""6)"VIC WEDGE 3 "   BY DAVID A. HOOK P ">         DISK STATUS l( "@         OR COMMANDS 2 ">$0         DIRECTORY < "@$0 F "/FILENAME        LOAD P ((43)256(44)215) Z    783738843+,"#78$z{6/z({" z>@	/Uz,$JLy Ly  o z z P Pz o   BP B Ly z >`   `      @1  %    AVID A. HOOK       .WORD $0433       .WORD $0014       .BYTE $99,$22,$11,$20,$20,$20,$42,$59       .BYTE $20,$44,$41,$56,$49,$44,$20,$41       .BYTE $2E,$20,$48,$4F,$4F,$4B       .BYTE $00;30 PRINT"{DOWN} >        DISK STATUS       .WORD $0450  ,$AA,$AA,$AA       .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA       .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA       .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA       .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA       .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA       .BYTE $AA       .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA       .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA       .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA       .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA       .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA       .BYTE $AA,$AA,$AA,$AA, $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA       .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA       .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA       .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA       .BYTE $EA;********************************;;********************************.ENDF4D4D414E445300890432009922113E243020202005CC;1812792020202020204449524543544F52590093043C0099224024060A;1812913000B00446009922112F46494C454E414D4520202020202005E1;1812A920204C4F414400CB0450009E28C228343329AA323536ACC20847;1812C128343429AA3231352900DAAAAAAAAAAAAA0F16;181339AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA1054;181351AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA106C;181369AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA1084;181381AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA1AAAAAAAAAAAAAEAE67AD002E67B869BBABD0101C98CD00FB0;18141136BD0201C9C4D02FA57AD028A57BC902D022A000849BB17A0B9D;181429C93EF00DC940F009C8859BC92FF055D00BC8B17AF02CC9240D57;181441F04AD0084C7900A69B4C7900A90820B1FFA96F2093FFE67A0BF5;181459A000B17AF00620A8FF85B1A490D012A4B70E46;1814D188D0E7A6B0A5B120CDDDA920D006D040D031D0D620D2FF200F19;1814E9A5FFA690D025C900F01820D2FF20E1FFF01920E4FFF0E8C91053;18150120D0E420E4FFF0FBD0DDA90D20D2FFA002D0CF20CCFFA90E0F27;18151920C3FF68684C67E4A90EA00020BAFFA900A62BA42C20D%"$0"$%# Ls78tu` <      hhLg   +, L	********************;10 PRINT"{CLEAR}"TAB(6)"{REVERSE}VIC WEDGE       .WORD $0418       .WORD $000A       .BYTE $99,$22,$93,$22,$A3,$36,$29,$22       .BYTE $12,$56,$49,$43,$20,$57,$45,$44       .BYTE $47,$45       .BYTE $00;20 PRINT"{DOWN}   BY D,$AA,$AA,$AA,$AA,$AA,$AA,$AA       .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA       .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA       .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA       .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA       .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
.PAGE 'DOS 4.1 DISK WEDGE'.OPT LIST;*********************************;* = $0401   ; 3K EXPANSION;* = $1001   ; NO EXPANSION* = $1201    ; 32K EXPANSION;* = $BC00   ; SYS 48128;*********************************;;       DOS 4.1 DISK WEDGE;;     ID A. HOOK       .WORD $0433       .WORD $0014       .BYTE $99,$22,$11,$20,$20,$20,$42,$59       .BYTE $20,$44,$41,$56,$49,$44,$20,$41       .BYTE $2E,$20,$48,$4F,$4F,$4B       .BYTE $00;30 PRINT"{DOWN} >        DISK STATUS       .WORD $0450    $22,$40,$20,$20,$20,$20,$20       .BYTE $20,$20,$20,$20,$4F,$52,$20,$43       .BYTE $4F,$4D,$4D,$41,$4E,$44,$53              .BYTE $00;50 PRINT">$0       DIRECTORY"       .WORD $0489       .WORD $0032       .BYTE $99,$22,$11,$3E,$24,$30,$20,$20   $04B0       .WORD $0046       .BYTE $99,$22,$11,$2F,$46,$49,$4C,$45       .BYTE $4E,$41,$4D,$45,$20,$20,$20,$20       .BYTE $20,$20,$20,$20,$4C,$4F,$41,$44       .BYTE $00;80 SYS(PEEK(43)+256*PEEK(44)+215)       .WORD $04CB       .WORD $0050   **********************; CODE TO PROTECT WEDGE FROM BASIC; BY ADJUSTING BASIC RAM TO AREA; PAST WEDGE;*********************************.LIB MOVBASIC.ASM;*********************************; MAIN BODY OF CODE;*********************************.FIL DO1       INX        STA INDEX2       STX INDEX2+1       LDX #$01XX0501 LDA (INDEX),Y       STA (INDEX2),Y       DEY        BNE XX0501       DEX        BEQ XX050D       BMI XX0519XX050D LDA (INDEX),Y       STA (INDEX2),Y       DEC INDEX2+1     VERSION V4.1/071382;      BY BOB FAIRBAIRN;        COPYRIGHT 1982;  COMMODORE BUSINESS MACHINES;;  DOCUMENTED BY DENTON MARLOWE;;*********************************; BASIC STUB;*********************************;10 PRINT"{CLEAR}"TAB(6)"{REVERSE      DEC INDEX+1       LDY #$00       BEQ XX0501;********************************; PATCH CHRGET WITH JMP TO WEDGE;********************************XX0519 LDA #$4C      ;'L'       STA ZCHRGT       LDY MEMSIZ       LDX MEMSIZ+1       INY        B73;********************************;* = $0509 ; 3K EXPANSION;* = $1109 ; NO EXPANSION;********************************; FILLER BYTES;********************************       .BYTE $AA,$AA,$AA,$AA,$AA;********************************;*=$050B ; 3K ERETOP       LDA MEMSIZ+1       SBC #$01       STA MEMSIZ+1       STA FRETOP+1       LDY #$33      ;'3'       LDA VARTOP       LDX VARTOP+1       INX        INX        INX        STA INDEX       STX INDEX+1       LDA MEMSIZ       LDX MEMSIZ+ VERSION V4.1/071382;      BY BOB FAIRBAIRN;        COPYRIGHT 1982;  COMMODORE BUSINESS MACHINES;;  DOCUMENTED BY DENTON MARLOWE;;*********************************; BASIC STUB;*********************************;10 PRINT"{CLEAR}"TAB(6)"{REVERSE}V******************;10 PRINT"{CLEAR}"TAB(6)"{REVERSE}VIC WEDGE       .WORD $0418       .WORD $000A       .BYTE $99,$22,$93,$22,$A3,$36,$29,$22       .BYTE $12,$56,$49,$43,$20,$57,$45,$44       .BYTE $47,$45       .BYTE $00;20 PRINT"{DOWN}   BY DAV   .WORD $001E       .BYTE $99,$22,$11,$3E,$20,$20,$20,$20       .BYTE $20,$20,$20,$20,$20,$44,$49,$53       .BYTE $4B,$20,$53,$54,$41,$54,$55,$53       .BYTE $00;40 PRINT" @         OR COMMAND       .WORD $046C       .WORD $0028       .BYTE $99,     .BYTE $20,$20,$20,$20,$20,$20,$20,$44       .BYTE $49,$52,$45,$43,$54,$4F,$52,$59       .BYTE $00;60 PRINT" @$0       .WORD $0493       .WORD $003C       .BYTE $99,$22,$40,$24,$30       .BYTE $00;70 PRINT"{DOWN}/FILENAME    LOAD       .WORD    .BYTE $9E,$28,$C2,$28,$34,$33,$29,$AA       .BYTE $32,$35,$36,$AC,$C2,$28,$34,$34       .BYTE $29,$AA,$32,$31,$35,$29       .BYTE $00;90 NEW       .WORD $04D1       .WORD $005A       .BYTE $A2       .BYTE $00;       .WORD $0000;*********** 0S41.ASM;*********************************.END  = $FFAELISTEN = $FFB1TALK   = $FFB4SETLFS = $FFBASETNAM = $FFBDOPEN   = $FFC0CLOSE  = $FFC3CLRCHN = $FFCCCHROUT = $FFD2LOAD   = $FFD5STOP   = $FFE1GETIN  = $FFE4;*******************************.PAGE 'DOS 4.1 DISK WEDGE'.OPT NOLIST;*********************************;* = $0401   ; 3K EXPANSION;* = $1001   ; NO EXPANSION* = $1201    ; 32K EXPANSION;* = $BC00   ; SYS 48128;*********************************;;       DOS 4.1 DISK WEDGE;;   }VIC WEDGE;20 PRINT"{DOWN}   BY DAVID A. HOOK;30 PRINT"{DOWN} >        DISK STATUS;40 PRINT" @         OR COMMAND;50 PRINT">$0       DIRECTORY";60 PRINT" @$0;70 PRINT"{DOWN}/FILENAME    LOAD;80 SYS(PEEK(43)+256*PEEK(44)+215);90 NEW;*************; DOS4.1;*********************************;;*********************************INDEX  = $0022INDEX2 = $0024VARTOP = $002BFRETOP = $0033MEMSIZ = $0037;********************************; CHARGET EQUATES;********************************ZCHRGT = $00	XPANSION;*=$110B ; NO EXPANSION;********************************; ADJUST BASIC MEMORY MAP TO; PROTECT WEDGE AT ITS LOAD; ADDRESS;********************************ZZ050B LDA MEMSIZ       SEC        SBC #$33      ;'3'       STA MEMSIZ       STA FIC WEDGE;20 PRINT"{DOWN}   BY DAVID A. HOOK;30 PRINT"{DOWN} >        DISK STATUS;40 PRINT" @         OR COMMAND;50 PRINT">$0       DIRECTORY";60 PRINT" @$0;70 PRINT"{DOWN}/FILENAME    LOAD;80 SYS(PEEK(43)+256*PEEK(44)+215);90 NEW;***************A            VIC DOS 4.12ATEST             BDOS41.ASM            BDOS41NL.ASM            MOVBASIC.ASM             DOS41.ASM            BDOS41.OBJ         	   BDOS41             DOS41          KK  	TEST1                                                                                                                                                                                                                                          KKKKKKKKKKKKKK
;*********************************;;       DOS 4.1E DISK WEDGE;;      VERSION V4.1/071382;      BY BOB FAIRBAIRN;        COPYRIGHT 1982;  COMMODORE BUSINESS MACHINES;;  DOCUMENTED BY DENTON MARLOWE;;********************************; EXTERNAL BEQ XX068D;       BNE XX0645;********************************;;********************************XX063A INY        LDA (TXTPTR),Y       BEQ XX066B;********************************; CHECK DIRECTORY COMMAND $;********************************     A8UNTLK  = $FFABUNLSN  = $FFAELISTEN = $FFB1TALK   = $FFB4SETLFS = $FFBASETNAM = $FFBDOPEN   = $FFC0CLOSE  = $FFC3CLRCHN = $FFCCCHROUT = $FFD2LOAD   = $FFD5STOP   = $FFE1GETIN  = $FFE4;********************************; CHRGET EQUATES;**************XX0645 JMP RCHRGT;********************************; NOT OUR COMMAND ; RETURN TO CHRGET TO PROCESS COMMAND;********************************XX0648 LDX PRTY ; RECOVERY X REG       JMP RCHRGT;********************************; @ OR / READ DE;*********************************;;*********************************STACK  = $0100 ;6502 PROCESSOR STACK;*********************************; BASIC ROM ADDRESSES;*********************************CHRGEC = $C48D ;CALL TO CHRGET FROM DIRECT MODE;**       CLV        BVC XX068A;XX066B STY TXTPTR       LDA #$08       JSR TALK       LDA #$6F       JSR TKSA;********************************; READ IN STATUS BYTES 00, OK,00,00;********************************XX0677 JSR ACPTR       CMP #$0D   C483 BASIC WARM START;********************************       LDA STACK+1,X       CMP #<CHRGEC-1 ;#$8C $C48C       BNE XX0648       LDA STACK+2,X       CMP #>CHRGEC ;#$C4       BNE XX0648;********************************; CHECK COMMAND;********* XX068D       DEY        TYA        LDX #$01       LDY #$02       JSR SETNAM;********************************       LDX #$08       LDA PRTY       BNE XX06DF;       LDA #$0E       LDY #$60       JSR SETLFS;********************************   @
  BOOT DOS * A0A1:"DOS41",8,1 < A148128:                                                                                                                                                                                                  ************; CHECK COMMAND; @ OR > OR /;********************************       LDA (TXTPTR),Y       CMP #$3E      ;'>'       BEQ XX063A;       CMP #$40      ;'@'       BEQ XX063A;       INY        STA PRTY;       CMP #$2F      ;'/'       ADDRESS EQUATES;********************************PRTLIN=$DDCDCLOAD =$E195WARMBS=$E467KCHROT=$E742;********************************; EXTERNAL ADDRESS EQUATES;********************************SECOND = $FF93TKSA   = $FF96ACPTR  = $FFA5CIOUT  = $FF  CMP #$24      ;'$'       BEQ XX068D;********************************; CHECK STATUS COMMAND ONLY;********************************       BNE XX064D;********************************; NO COMMAND - PASS BACK TO PROCESSING LOOP;**************************************************RCHRGT = $79 ;JUMP BACK INTI CHRGETTXTPTR = $7A ;CHRGET POINTER;*********************************; DISK I/O ADDRESS;*********************************STATUS = $90 ;KERNAL I/O STATUSPRTY   = $9B ;USED FOR TEMPORARY STORAGRIVE STATUS;********************************XX064D LDA #$08       JSR LISTEN       LDA #$6F       JSR SECOND;XX0657 INC TXTPTR       LDY #$00       LDA (TXTPTR),Y       BEQ XX0665       JSR CIOUT       CLV        BVC XX0657XX0665 JSR UNLSN******************************;;********************************WEDGE  INC TXTPTR       BNE XX0608       INC TXTPTR+1XX0608 STX PRTY       TSX ;********************************; CHECK WHERE WE WERE CALLED FROM; $C48D - 1 CALL TO CHRGET FROM; $    BEQ XX0684       JSR KCHROT       CLV        BVC XX0677XX0684 JSR KCHROT       JSR UNTLKXX068A JMP RCHRGT;********************************; @$ OR /$ LIST DIRECTORY;********************************XX068D INY        LDA (TXTPTR),Y       BNE	***********************       LDA TXTPTR       BNE XX0645  ;IF HIBYTE POINTER NON ZERO EXIT;       LDA TXTPTR+1       CMP #$02    ;DIRECT MODE       BNE XX0645  ;NO EXIT;       LDY #$00   ;SET INDEX=0       STY PRTY   ;SAVE;********************     JSR OPEN;********************************       LDA #$08       JSR TALK       LDA #$60       JSR TKSA       LDA #$00       STA STATUS       LDY #$03;********************************RFILNM STY $B7       JSR ACPTR       STA $B0       LDY  STATUS       BNE XX06E1;********************************       JSR ACPTR       STA $B1       LDY STATUS       BNE XX06E1;********************************       LDY $B7       DEY        BNE RFILNM;********************************       LDX $B0
       LDA $B1       JSR PRTLIN       LDA #$20      ;' '       BNE XX06E5;********************************XX06DF BNE LOADIT;********************************; DONE.;********************************XX06E1 BNE ENDER;******************************K**********       CMP #$00       BEQ XX070B       JSR CHROUT       JSR STOP       BEQ ENDER;********************************       JSR GETIN       BEQ XX06E8       CMP #$20      ;' '       BNE XX06E8XX0704 JSR GETIN       BEQ XX0704       BNEK     JSR CLOSE  ;CLOSE       PLA        ;PULL RTS ADDRESS       PLA       JMP WARMBS;********************************; /FILENAME - LOAD FILENAME;********************************LOADIT LDA #$0E       LDY #$00       JSR SETLFS       LDA #$00    KKKKK**; LOOP BACK TO READ MORE CHARACTERS;********************************XX06E3 BNE RFILNM;********************************;;********************************XX06E5 JSR CHROUTXX06E8 JSR ACPTR       LDX STATUS       BNE ENDER;**********************K XX06E8XX070B LDA #$0D       JSR CHROUT       LDY #$02       BNE XX06E3;********************************; DONE CLOSE CLEAR AND CLOSE CHANNEL;********************************ENDER  JSR CLRCHN ;CLEAR I/O CHANNELS       LDA #$0E   ;DRIVE CHANNEL  K    LDX VARTOP       LDY VARTOP+1       JSR LOAD;********************************; BASIC CLEANUP AFTER LOAD;********************************       JMP CLOAD;********************************;.END KKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK