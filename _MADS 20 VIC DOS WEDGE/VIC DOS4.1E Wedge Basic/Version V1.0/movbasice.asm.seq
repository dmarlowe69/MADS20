; DOS41.E;*********************************;;*********************************INDEX  = $0022INDEX2 = $0024VARTOP = $002BFRETOP = $0033MEMSIZ = $0037;********************************; CHARGET EQUATES;********************************ZCHRGT = $0073;********************************;* = $0509 ; 3K EXPANSION;* = $1109 ; NO EXPANSION;********************************; FILLER BYTES;********************************FILLER .BYTE $EA,$EA,$EA,$EA,$EA;********************************;*=$050B ; 3K EXPANSION;*=$110B ; NO EXPANSION;********************************; ADJUST BASIC MEMORY MAP TO; PROTECT WEDGE AT ITS LOAD; ADDRESS;********************************ZZ050B LDA MEMSIZ       SEC        SBC #$33      ;'3'       STA MEMSIZ       STA FRETOP       LDA MEMSIZ+1       SBC #$01       STA MEMSIZ+1       STA FRETOP+1       LDY #$33      ;'3'       LDA VARTOP       LDX VARTOP+1       INX        INX        INX        STA INDEX       STX INDEX+1       LDA MEMSIZ       LDX MEMSIZ+1       INX        STA INDEX2       STX INDEX2+1       LDX #$01XX0534 LDA (INDEX),Y       STA (INDEX2),Y       DEY        BNE XX0534       DEX        BEQ XX0540       BMI XX054CXX0540 LDA (INDEX),Y       STA (INDEX2),Y       DEC INDEX2+1       DEC INDEX+1       LDY #$00       BEQ XX0534;********************************; PATCH CHRGET WITH JMP TO WEDGE;********************************XX054C LDA #$4C      ; OPCODE FOR JMP       STA ZCHRGT       LDY MEMSIZ       LDX MEMSIZ+1       INY        BNE XX0558       INX XX0558 STY ZCHRGT+1       STX ZCHRGT+2       RTS;********************************; FILLER BYTES (NOP) TO PAD MEMORY; FOR START OF WEDGE ON BOUNDARY;********************************ZZ055D = *  .BYTE $EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA .BYTE $EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA .BYTE $EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA .BYTE $EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA .BYTE $EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA .BYTE $EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA .BYTE $EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA .BYTE $EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA .BYTE $EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA .BYTE $EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA,$EA .BYTE $EA,$EA,$EA,$EA,$EA ;********************************; ;********************************.END