KKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK
BYTE 'BYE',$0D,$00;*********************************; DISABLE WEDGE (@Q);; REMOVE WEDGE FROM CHRGET BY; COPYING OVER THREE BYTE PATCH; WITH CORRECT BYTES FROM ROM;;*********************************QUITER LDX #$02        ;SET COUNTERROM    LDA CKKKKKKKKKHRCPY,X    ;GET ROM BYTE       STA CHRGET,X    ;PUT IN CHRGET       DEX             ;COUNT-1       BPL ROM         ;MOVE 3 BYTES;             LDX #BYE-BANNER       JSR STMSG;      JMP BASSFT      ;BACK TO BASIC;********************************.KKKKKKKKK ENDR STMSG;      JMP BASSFT      ;BACK TO BASIC;********************************.END      LDX #BYE-BANNER       JSR STMSG;      JMP BASSFT      ;BACK TO BASIC;********************************.END
RIVE STATUS;********************************XX064D LDA #$08       JSR LISTEN       LDA #$6F       JSR SECOND;XX0657 INC TXTPTR       LDY #$00       LDA (TXTPTR),Y       BEQ XX0665       JSR CIOUT       CLV        BVC XX0657XX0665 JSR UNLSN     JSR OPEN;********************************       LDA #$08       JSR TALK       LDA #$60       JSR TKSA       LDA #$00       STA STATUS       LDY #$03;********************************RFILNM STY $B7       JSR ACPTR       STA $B0       LDY        LDA $B1       JSR PRTLIN       LDA #$20      ;' '       BNE XX06E5;********************************XX06DF BNE LOADIT;********************************; DONE.;********************************XX06E1 BNE ENDER;****************************************       CMP #$00       BEQ XX070B       JSR CHROUT       JSR STOP       BEQ ENDER;********************************       JSR GETIN       BEQ XX06E8       CMP #$20      ;' '       BNE XX06E8XX0704 JSR GETIN       BEQ XX0704       BNE     JSR CLOSE  ;CLOSE       PLA        ;PULL RTS ADDRESS       PLA       JMP WARMBS;********************************; /FILENAME - LOAD FILENAME;********************************LOADIT LDA #$0E       LDY #$00       JSR SETLFS       LDA #$00    FB850F220AEFFB8501F847AA90820B40C7E;181471FFA96F2096FF20A5FFC90DF0062042E7B850F32042E720AB0D51;181489FF4C7900C8B17AD0FB8898A201A00220BDFFA208A59BD03E0D70;1814A1A90EA06020BAFF20C0FFA90820B4FFA9602096FFA90085900D3C;1814B9A00384B720A5FF85B0A490D01B20A5F '5FF0BFD;0315314C95E1020B;000023002381471FFA96F2096FF20A5FFC90DF0062042E7B850F32042E720AB0D51;181489FF4C7900C8B17AD0FB8898A201A00220BDFFA208A59BD03E0D70;1814A1A90EA06020BAFF20C0FFA90820B4FFA9602096FFA90085900D3C;1814B9A00384B720A5FF85B0A490D01B20A5F
 ""6)"VIC WEDGE 3 "   BY DAVID A. HOOK P ">         DISK STATUS l( "@         OR COMMANDS 2 ">$0         DIRECTORY < "@$0 F "/FILENAME        LOAD P ((43)256(44)215) Z    783738843+,"#78$z{6/z({" z>@	/Uz,$JLy Ly  o z z P Pz o   BP B Ly z >`   `      @1  %    ;********************************BANNER .BYTE $93 ; CLEAR SCREEN.BYTE $0D,$0D.BYTE '   VIC  DOS MANAGER',$0D.BYTE '    V4.1/071382',$0D,$0D.BYTE '  (C) 1982 COMMODORE',$0D.BYTE '   BUSINESS MACHINES',$0D,$00;*********************************BYE .       CLV        BVC XX068A;XX066B STY TXTPTR       LDA #$08       JSR TALK       LDA #$6F       JSR TKSA;********************************; READ IN STATUS BYTES 00, OK,00,00;********************************XX0677 JSR ACPTR       CMP #$0D    XX068D       DEY        TYA        LDX #$01       LDY #$02       JSR SETNAM;********************************       LDX #$08       LDA PRTY       BNE XX06DF;       LDA #$0E       LDY #$60       JSR SETLFS;********************************  STATUS       BNE XX06E1;********************************       JSR ACPTR       STA $B1       LDY STATUS       BNE XX06E1;********************************       LDY $B7       DEY        BNE RFILNM;********************************       LDX $B0**; LOOP BACK TO READ MORE CHARACTERS;********************************XX06E3 BNE RFILNM;********************************;;********************************XX06E5 JSR CHROUTXX06E8 JSR ACPTR       LDX STATUS       BNE ENDER;********************** XX06E8XX070B LDA #$0D       JSR CHROUT       LDY #$02       BNE XX06E3;********************************; DONE CLOSE CLEAR AND CLOSE CHANNEL;********************************ENDER  JSR CLRCHN ;CLEAR I/O CHANNELS       LDA #$0E   ;DRIVE CHANNEL      LDX VARTOP       LDY VARTOP+1       JSR LOAD;********************************; BASIC CLEANUP AFTER LOAD;********************************       JMP CLOAD;********************************;.END 90820B1FFA96F2093FFE67A0BF5;181459A000B17AF00620A8FF85B1A490D012A4B70E46;1814D188D0E7A6B0A5B120CDDDA920D006D040D031D0D620D2FF200F19;1814E9A5FFA690D025C900F01820D2FF20E1FFF01920E4FFF0E8C91053;18150120D0E420E4FFF0FBD0DDA90D20D2FFA002D0CF20CCFFA90E0F27;18151920C3FF68684C67E4A90EA00020BAFFA900A62BA42C20D%"$0"$%# Ls78tu` <      hhLg   +, L	RN;********************************; PRINT STARTUP BANNER;********************************PRMESS LDX #$00STMSG  LDA BANNER,X       BEQ DONE       JSR CHROUT       INX       BNE STMSGDONE   RTS;********************************; STARTUP BANNER    BEQ XX0684       JSR KCHROT       CLV        BVC XX0677XX0684 JSR KCHROT       JSR UNTLKXX068A JMP RCHRGT;********************************; @$ OR /$ LIST DIRECTORY;********************************XX068D INY        LDA (TXTPTR),Y       BNE
.PAGE 'DOS 4.1 DISK WEDGE'.OPT LIST;*********************************;* = $0401   ; 3K EXPANSION;* = $1001   ; NO EXPANSION;* = $1201    ; 32K EXPANSION* = $BC00   ; SYS 48128;*********************************;;       DOS 4.1 DISK WEDGE;;        VERSION V4.1/071382;      BY BOB FAIRBAIRN;        COPYRIGHT 1982;  COMMODORE BUSINESS MACHINES;;  DOCUMENTED BY DENTON MARLOWE;;*********************************; INSTALL WEDGE INTO CHRGET LOOP;*********************************.LIB PATCH.AS  CMP #$24      ;'$'       BEQ XX068D;********************************; CHECK STATUS COMMAND ONLY;********************************       BNE XX064D;********************************; NO COMMAND - PASS BACK TO PROCESSING LOOP;*************************************************; PATCH CHRGET WITH JMP TO WEDGE;********************************XX0519 LDA #$4C      ;'L'       LDY #<WEDGE       LDX #>WEDGE;       STA ZCHRGT       STY ZCHRGT+1       STX ZCHRGT+2       RTS ;********************** **********XX0645 JMP RCHRGT;********************************; NOT OUR COMMAND ; RETURN TO CHRGET TO PROCESS COMMAND;********************************XX0648 LDX PRTY ; RECOVERY X REG       JMP RCHRGT;********************************; @ OR / READ DADDRESS EQUATES;********************************PRTLIN=$DDCDCLOAD =$E195WARMBS=$E467KCHROT=$E742;********************************; EXTERNAL ADDRESS EQUATES;********************************SECOND = $FF93TKSA   = $FF96ACPTR  = $FFA5CIOUT  = $FF****************************RCHRGT = $79 ;JUMP BACK INTI CHRGETTXTPTR = $7A ;CHRGET POINTER;*********************************; DISK I/O ADDRESS;*********************************STATUS = $90 ;KERNAL I/O STATUSPRTY   = $9B ;USED FOR TEMPORARY STORAG******************************;;********************************WEDGE  INC TXTPTR       BNE XX0608       INC TXTPTR+1XX0608 STX PRTY       TSX ;********************************; CHECK WHERE WE WERE CALLED FROM; $C48D - 1 CALL TO CHRGET FROM; $***********************       LDA TXTPTR       BNE XX0645  ;IF HIBYTE POINTER NON ZERO EXIT;       LDA TXTPTR+1       CMP #$02    ;DIRECT MODE       BNE XX0645  ;NO EXIT;       LDY #$00   ;SET INDEX=0       STY PRTY   ;SAVE;********************BEQ XX068D;       BNE XX0645;********************************;;********************************XX063A INY        LDA (TXTPTR),Y       BEQ XX066B;********************************; CHECK DIRECTORY COMMAND $;********************************      VERSION V4.1/071382;      BY BOB FAIRBAIRN;        COPYRIGHT 1982;  COMMODORE BUSINESS MACHINES;;  DOCUMENTED BY DENTON MARLOWE;;*********************************; INSTALL WEDGE INTO CHRGET LOOP;*********************************.LIB PATCH.ASM.PAGE 'DOS 4.1 DISK WEDGE'.OPT NOLIST;*********************************;* = $0401   ; 3K EXPANSION;* = $1001   ; NO EXPANSION;* = $1201    ; 32K EXPANSION* = $BC00   ; SYS 48128;*********************************;;       DOS 4.1 DISK WEDGE;;    M;*********************************; MAIN BODY OF CODE;*********************************.FIL DOS41.ASM;*********************************.END$53       .BYTE $00;40 PRINT" @         OR COMMAND       .WORD $046C       .WORD $0028       .BYTE $99,;*********************************;;*********************************INDEX  = $0022INDEX2 = $0024VARTOP = $002BFRETOP = $0033MEMSIZ = $0037;********************************; CHARGET EQUATES;********************************ZCHRGT = $0073;***** 4**********;;********************************.ENDYTE $32,$35,$36,$AC,$C2,$28,$34,$34       .BYTE $29,$AA,$32,$31,$35,$29       .BYTE $00;90 NEW       .WORD $04D1       .WORD $005A       .BYTE $A2       .BYTE $00;       .WORD $0000;***********;*********************************;;       DOS 4.1E DISK WEDGE;;      VERSION V4.1/071382;      BY BOB FAIRBAIRN;        COPYRIGHT 1982;  COMMODORE BUSINESS MACHINES;;  DOCUMENTED BY DENTON MARLOWE;;********************************; EXTERNAL A8UNTLK  = $FFABUNLSN  = $FFAELISTEN = $FFB1TALK   = $FFB4SETLFS = $FFBASETNAM = $FFBDOPEN   = $FFC0CLOSE  = $FFC3CLRCHN = $FFCCCHROUT = $FFD2LOAD   = $FFD5STOP   = $FFE1GETIN  = $FFE4;********************************; CHRGET EQUATES;****E;*********************************;;*********************************STACK  = $0100 ;6502 PROCESSOR STACK;*********************************; BASIC ROM ADDRESSES;*********************************CHRGEC = $C48D ;CALL TO CHRGET FROM DIRECT MODE;**C483 BASIC WARM START;********************************       LDA STACK+1,X       CMP #<CHRGEC-1 ;#$8C $C48C       BNE XX0648       LDA STACK+2,X       CMP #>CHRGEC ;#$C4       BNE XX0648;********************************; CHECK COMMAND;*********	************; CHECK COMMAND; @ OR > OR /;********************************       LDA (TXTPTR),Y       CMP #$3E      ;'>'       BEQ XX063A;       CMP #$40      ;'@'       BEQ XX063A;       INY        STA PRTY;       CMP #$2F      ;'/'        ;*********************************; MAIN BODY OF CODE;*********************************.FIL DOS41.ASM;*********************************.END";60 PRINT" @$0;70 PRINT"{DOWN}/FILENAME    LOAD;80 SYS(PEEK(43)+256*PEEK(44)+215);90 NEW;***************A	    VIC DOS 4.12ATEST             BCDOS41.ASM            BCDOS41NL.ASM            PATCH.ASM            DOS41.ASM             BCDOS41.OBJ            BCDOS41             DOS41          KK  	TEST1                                                                                                                                                                                                                                          KKKKKKKKKKKKKK
;18BC00A94CA00DA2BC85738474867560E67AD002E67B869BBABD010D4B;18BC1801C98CD036BD0201C9C4D02FA57AD028A57BC902D022A0000C28;18BC30849BB17AC93EF00DC940F009C8859BC92FF055D00BC8B17A0E47;18BC48F02CC924F04AD0084C7900A69B4C7900A90820B1FFA96F200BBB;18BC6093FFE67F85B0A490D01B20A5FF85B1A4900E76;18BCD8D012A4B788D0E7A6B0A5B120CDDDA920D006D040D031D0D60FF4;18BCF020D2FF20A5FFA690D025C900F01820D2FF20E1FFF01920E40F73;18BD08FFF0E8C920D0E420E4FFF0FBD0DDA90D20D2FFA002D0CF2010F4;18BD20CCFFA90E20C3FF68684C67E4A90EA00020B Lstu`z{6/z({" z>@	/Uz,$JLy Ly  o z z P Pz o   BP B Ly z >`   `      @1  % **********XX0645 JMP RCHRGT;********************************; NOT OUR COMMAND ; RETURN TO CHRGET TO PROCESS COMMAND;********************************XX0648 LDX PRTY ; RECOVERY X REG       JMP RCHRGT;********************************; @ OR / READ DE;*********************************;;*********************************STACK  = $0100 ;6502 PROCESSOR STACK;*********************************; BASIC ROM ADDRESSES;*********************************CHRGEC = $C48D ;CALL TO CHRGET FROM DIRECT MODE;**       CLV        BVC XX068A;XX066B STY TXTPTR       LDA #$08       JSR TALK       LDA #$6F       JSR TKSA;********************************; READ IN STATUS BYTES 00, OK,00,00;********************************XX0677 JSR ACPTR       CMP #$0D   C483 BASIC WARM START;********************************       LDA STACK+1,X       CMP #<CHRGEC-1 ;#$8C $C48C       BNE XX0648       LDA STACK+2,X       CMP #>CHRGEC ;#$C4       BNE XX0648;********************************; CHECK COMMAND;********* XX068D       DEY        TYA        LDX #$01       LDY #$02       JSR SETNAM;********************************       LDX #$08       LDA PRTY       BNE XX06DF;       LDA #$0E       LDY #$60       JSR SETLFS;********************************   @
  BOOT DOS * A0A1:"DOS41",8,1 < A148128:                                                                                                                                                                                                  ************; CHECK COMMAND; @ OR > OR /;********************************       LDA (TXTPTR),Y       CMP #$3E      ;'>'       BEQ XX063A;       CMP #$40      ;'@'       BEQ XX063A;       INY        STA PRTY;       CMP #$2F      ;'/'       AA000B17AF00620A8FFB850F220AEFFB8501F847A0E9A;18BC78A90820B4FFA96F2096FF20A5FFC90DF0062042E7B850F3200D91;18BC9042E720ABFF4C7900C8B17AD0FB8898A201A00220BDFFA2080DC5;18BCA8A59BD03EA90EA06020BAFF20C0FFA90820B4FFA9602096FF0E7B;18BCC0A9008590A00384B720A5F 9AFFA900A62BA40D0E;07BD382C20D5FF4C95E104DE;00000E000E820B4FFA96F2096FF20A5FFC90DF0062042E7B850F3200D91;18BC9042E720ABFF4C7900C8B17AD0FB8898A201A00220BDFFA2080DC5;18BCA8A59BD03EA90EA06020BAFF20C0FFA90820B4FFA9602096FF0E7B;18BCC0A9008590A00384B720A5F D        hhLg   +, LBCDOS41NL.ASM            PATCH.ASM            DOS41.ASM             BCDOS41.OBJ            BCDOS41              DOS41          RIVE STATUS;********************************XX064D LDA #$08       JSR LISTEN       LDA #$6F       JSR SECOND;XX0657 INC TXTPTR       LDY #$00       LDA (TXTPTR),Y       BEQ XX0665       JSR CIOUT       CLV        BVC XX0657XX0665 JSR UNLSN******************************;;********************************WEDGE  INC TXTPTR       BNE XX0608       INC TXTPTR+1XX0608 STX PRTY       TSX ;********************************; CHECK WHERE WE WERE CALLED FROM; $C48D - 1 CALL TO CHRGET FROM; $    BEQ XX0684       JSR KCHROT       CLV        BVC XX0677XX0684 JSR KCHROT       JSR UNTLKXX068A JMP RCHRGT;********************************; @$ OR /$ LIST DIRECTORY;********************************XX068D INY        LDA (TXTPTR),Y       BNE	***********************       LDA TXTPTR       BNE XX0645  ;IF HIBYTE POINTER NON ZERO EXIT;       LDA TXTPTR+1       CMP #$02    ;DIRECT MODE       BNE XX0645  ;NO EXIT;       LDY #$00   ;SET INDEX=0       STY PRTY   ;SAVE;********************     JSR OPEN;********************************       LDA #$08       JSR TALK       LDA #$60       JSR TKSA       LDA #$00       STA STATUS       LDY #$03;********************************RFILNM STY $B7       JSR ACPTR       STA $B0       LDY  STATUS       BNE XX06E1;********************************       JSR ACPTR       STA $B1       LDY STATUS       BNE XX06E1;********************************       LDY $B7       DEY        BNE RFILNM;********************************       LDX $B0
       LDA $B1       JSR PRTLIN       LDA #$20      ;' '       BNE XX06E5;********************************XX06DF BNE LOADIT;********************************; DONE.;********************************XX06E1 BNE ENDER;******************************K**********       CMP #$00       BEQ XX070B       JSR CHROUT       JSR STOP       BEQ ENDER;********************************       JSR GETIN       BEQ XX06E8       CMP #$20      ;' '       BNE XX06E8XX0704 JSR GETIN       BEQ XX0704       BNEK     JSR CLOSE  ;CLOSE       PLA        ;PULL RTS ADDRESS       PLA       JMP WARMBS;********************************; /FILENAME - LOAD FILENAME;********************************LOADIT LDA #$0E       LDY #$00       JSR SETLFS       LDA #$00    KKKKK**; LOOP BACK TO READ MORE CHARACTERS;********************************XX06E3 BNE RFILNM;********************************;;********************************XX06E5 JSR CHROUTXX06E8 JSR ACPTR       LDX STATUS       BNE ENDER;**********************K XX06E8XX070B LDA #$0D       JSR CHROUT       LDY #$02       BNE XX06E3;********************************; DONE CLOSE CLEAR AND CLOSE CHANNEL;********************************ENDER  JSR CLRCHN ;CLEAR I/O CHANNELS       LDA #$0E   ;DRIVE CHANNEL  K    LDX VARTOP       LDY VARTOP+1       JSR LOAD;********************************; BASIC CLEANUP AFTER LOAD;********************************       JMP CLOAD;********************************;.END KKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK