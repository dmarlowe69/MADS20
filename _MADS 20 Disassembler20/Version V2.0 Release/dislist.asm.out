DISLIST.ASM......PAGE 0001

LINE# LOC   CODE        LINE































































DISASSEMBLER20......PAGE 0002

LINE# LOC   CODE        LINE


00003  0000              ;*********************************
00004  0000              *=$1201                ;START OF BASIC WITH 32K R
AM EX
00005  1201              ;*********************************
00006  1201              ; SET BSTUB TO ONE TO ALLOW FOR
00007  1201              ; INSERTION OF BASIC STUB CODE
00008  1201              ;*********************************
00009  1201              BSTUB  = 1
00010  1201              ;*********************************
00011  1201              ;
00012  1201              ;        DISASSEMBLER20
00013  1201              ;    DISASSEMBLER.V20 V080282
00014  1201              ;    SYMBOLIC DISASSEMBLER
00015  1201              ;       BY DENTON MARLOWE
00016  1201              ;
00017  1201              ;  (C)1986 BY DENTON MARLOWE
00018  1201              ;
00019  1201              ; MACRO ASSEMBLER DEVELOPMENT SYSTEM
00020  1201              ;  (C) 1982 BY COMMODORE MACHINES
00021  1201              ;
00022  1201              ;*********************************
00023  1201              ;
00024  1201              ; BASIC FORMAT PROGRAM
00025  1201              ;
00026  1201              ; 10 SYS(4623)
00027  1201              ;
00028  1201              ;*********************************
00030  1201  0D 12              .WORD BASIC     ;NEXT LINE POINTER
00031  1203  0A                 .BYTE $0A,$00   ;LINE NUMBER
00031  1204  00 
00032  1205  9E                 .BYTE $9E       ;SYS COMMAND
00033  1206  28 34              .BYTE '(4623)'  ;ASCII (2063)
00034  120C  00                 .BYTE 0         ;END OF LINE
00035  120D  00          BASIC  .BYTE 0,0       ;END OF BASIC
00035  120E  00 
00037  120F              ;*********************************
00038  120F              .LIB   DIS.ASM
00039  120F              ;*********************************
00040  120F              ; FILE DIS.ASM
00041  120F              ;*********************************
00042  120F              ;
00043  120F              ;        DISASSEMBLER64
00044  120F              ;    SYMBOLIC DISASSEMBLER
00045  120F              ;       BY DENTON MARLOWE
00046  120F              ;
00047  120F              ;  (C)1986 BY DENTON MARLOWE
00048  120F              ;
00049  120F              ;*********************************
00050  120F              ; KERNAL ADDRESS
00051  120F              ;*********************************
00052  120F              VICREG=$900F           ;C64 = $D011 SCREEN REGIST
ER
00053  120F              CHROUT=$FFD2           ;OUTPUT CHARACTER
00054  120F              CHKIN  =$FFC6          ;OPEN INPUT FILE
00055  120F              CHRIN  =$FFCF          ;GET KEYBOARD INPUT
00056  120F              GETIN  =$FFE4          ;GET KEYBOARD CHAR
00057  120F              CLRCHN=$FFCC           ;RESET I/O CHANNELS






DISASSEMBLER20......PAGE 0003

LINE# LOC   CODE        LINE


00058  120F              STOP   =$FFE1          ;CHECK FOR STOP
00059  120F              READST=$FFB7           ;READ ST
00060  120F              SETNAM=$FFBD           ;SET FILENAME
00061  120F              SETLFS=$FFBA           ;SET LOGICAL FILE
00062  120F              OPEN   =$FFC0          ;OPEN FILE
00063  120F              CHKOUT=$FFC9           ;OPEN OUTPUT CHANNEL
00064  120F              CLOSE  =$FFC3          ;CLOSE LOGICAL FILE
00065  120F              WREADY=$C474           ;$E391 = $A474 BASIC RETUR
N
00066  120F              ZEROUR=$02             ;ZEROPAGE POINTER
00067  120F              MEMSIZ=$37             ;TOP OF FREE RAM+1
00068  120F              ;*********************************
00069  120F              ;        ENTRY POINT
00070  120F              ;*********************************
00071  120F  4C 24 14    STARTD JMP DISASS
00072  1212              ;*********************************
00073  1212              ;       VARIABLES
00074  1212              ;*********************************
00075  1212  31          PASS   .BYTE '1'       ;PASS INDICATOR
00076  1213  31          IPASS  .BYTE '1'       ;INTERNAL PASS
00077  1214  32          EPASS  .BYTE '2'       ;EXTERNAL PASS
00078  1215  33          CPASS  .BYTE '3'       ;PRINTING PASS
00079  1216  34          SPASS  .BYTE '4'       ;SYMBOL PASS
00080  1217              ;*********************************
00081  1217  AA          XOPT   .BYTE $AA       ;LABEL GENERATION
00082  1218  AA          ROPT   .BYTE $AA       ;REL ADDRESS OPT
00083  1219  AA          DEVICE .BYTE $AA       ;OUTPUT DEVICE
00084  121A  AA          OUTPUT .BYTE $AA       ;OUTPUT FLAG
00085  121B  AA          WINDOW .BYTE $AA       ;WINDOW FLAG
00086  121C  AA          FOROPT .BYTE $AA       ;FORMAT FLAG
00087  121D  AA          COMOPT .BYTE $AA       ;COMMENT FLAG
00088  121E              ;*********************************
00089  121E              ; DISASSEMBLY ADDRESS POINTERS
00090  121E              ;*********************************
00091  121E  AA AA       SA     .WORD $AAAA     ;START ADDRESS
00092  1220  AA AA       EA     .WORD $AAAA     ;END ADDRESS
00093  1222  AA AA       SELECT .WORD $AAAA     ;BYTE POINTER
00094  1224  AA AA       OFFSET .WORD $AAAA     ;ADDRESS OFFSET
00095  1226  AA AA       SAGOL  .WORD $AAAA     ;GOLBAL START
00096  1228  AA AA       EAGOL  .WORD $AAAA     ;GOLBAL END
00097  122A  AA AA       SAOUT  .WORD $AAAA     ;START ADDRESS
00098  122C  AA AA       EAOUT  .WORD $AAAA     ;END ADDRESS
00099  122E              ;*********************************
00100  122E              ; INTERNAL ADDRESS TABLE
00101  122E              ;*********************************
00102  122E  AA AA       TABINP .WORD $AAAA     ;TABLE POINTER
00103  1230  AA AA       TABINS .WORD $AAAA     ;TABLE START
00104  1232  AA AA       TABINE .WORD $AAAA     ;TABLE END
00105  1234              ;*********************************
00106  1234              ; SORT TABLE POINTERS
00107  1234              ;*********************************
00108  1234  AA AA       SMALLS .WORD $AAAA     ;TABLE START
00109  1236  AA AA       SMALLP .WORD $AAAA     ;TABLE POINTER
00110  1238              ;*********************************
00111  1238              ; SYMBOL TABLE
00112  1238              ;*********************************






DISASSEMBLER20......PAGE 0004

LINE# LOC   CODE        LINE


00113  1238  AA          SYMBOL .BYTE $AA       ;SYMBOL OPTION
00114  1239  AA AA       SYMBOP .WORD $AAAA     ;TABLE POINTER
00115  123B  AA AA       SYMBOS .WORD $AAAA     ;TABLE START
00116  123D  AA AA       SYMBOE .WORD $AAAA     ;TABLE END
00117  123F              ;*********************************
00118  123F              ; UNDEFINED SYMBOL TABLE
00119  123F              ;*********************************
00120  123F  AA AA       UYMBOP .WORD $AAAA     ;TABLE POINTER
00121  1241  AA AA       UYMBOS .WORD $AAAA     ;TABLE START
00122  1243  AA AA       UYMBOE .WORD $AAAA     ;TABLE END
00123  1245              ;*********************************
00124  1245              ; TEMP WORKING STORAGE
00125  1245              ;*********************************
00126  1245  AA AA       WORKED .WORD $AAAA     ;TWO BYTE OP
00127  1247  AA AA       WORKER .WORD $AAAA     ;TWO BYTE OP
00128  1249  AA AA       SAVEP  .WORD $AAAA     ;TWO BYTE OP
00129  124B  AA AA       SAVES  .WORD $AAAA     ;TWO BYTE OP
00130  124D  AA AA       SAVEE  .WORD $AAAA     ;TWO BYTE OP
00131  124F              ;*********************************
00132  124F              ; OTHER VARIABLES
00133  124F              ;*********************************
00134  124F  AA AA       ADRS   .WORD $AAAA
00135  1251  AA          TEMP   .BYTE $AA
00136  1252  AA          SAVA   .BYTE $AA
00137  1253  AA          SAVX   .BYTE $AA
00138  1254  AA          SAVY   .BYTE $AA
00139  1255              ;*********************************
00140  1255              ; PRINTER OUTPUT STORAGE
00141  1255              ;*********************************
00142  1255  AA AA       PAGECT .WORD $AAAA     ;PAGE COUNT
00143  1257  AA          LISTCT .BYTE $AA       ;LINE COUNT
00144  1258  AA AA       LINECT .WORD $AAAA     ;LINE COUNT
00145  125A  AA AA       ERRCT  .WORD $AAAA     ;ERROR COUNT
00146  125C              ;*********************************
00147  125C              ; INPUT BUFFER
00148  125C              ;*********************************
00149  125C  00          BUF    .BYTE 0,0,0,0,0,0,0,0,0,0
00149  125D  00 
00149  125E  00 
00149  125F  00 
00149  1260  00 
00149  1261  00 
00149  1262  00 
00149  1263  00 
00149  1264  00 
00149  1265  00 
00150  1266  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00150  1267  00 
00150  1268  00 
00150  1269  00 
00150  126A  00 
00150  126B  00 
00150  126C  00 
00150  126D  00 
00150  126E  00 






DISASSEMBLER20......PAGE 0005

LINE# LOC   CODE        LINE


00150  126F  00 
00151  1270  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00151  1271  00 
00151  1272  00 
00151  1273  00 
00151  1274  00 
00151  1275  00 
00151  1276  00 
00151  1277  00 
00151  1278  00 
00151  1279  00 
00152  127A  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00152  127B  00 
00152  127C  00 
00152  127D  00 
00152  127E  00 
00152  127F  00 
00152  1280  00 
00152  1281  00 
00152  1282  00 
00152  1283  00 
00153  1284  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00153  1285  00 
00153  1286  00 
00153  1287  00 
00153  1288  00 
00153  1289  00 
00153  128A  00 
00153  128B  00 
00153  128C  00 
00153  128D  00 
00154  128E  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00154  128F  00 
00154  1290  00 
00154  1291  00 
00154  1292  00 
00154  1293  00 
00154  1294  00 
00154  1295  00 
00154  1296  00 
00154  1297  00 
00155  1298  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00155  1299  00 
00155  129A  00 
00155  129B  00 
00155  129C  00 
00155  129D  00 
00155  129E  00 
00155  129F  00 
00155  12A0  00 
00155  12A1  00 
00156  12A2  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00156  12A3  00 
00156  12A4  00 
00156  12A5  00 






DISASSEMBLER20......PAGE 0006

LINE# LOC   CODE        LINE


00156  12A6  00 
00156  12A7  00 
00156  12A8  00 
00156  12A9  00 
00156  12AA  00 
00156  12AB  00 
00157  12AC  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00157  12AD  00 
00157  12AE  00 
00157  12AF  00 
00157  12B0  00 
00157  12B1  00 
00157  12B2  00 
00157  12B3  00 
00157  12B4  00 
00157  12B5  00 
00158  12B6  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00158  12B7  00 
00158  12B8  00 
00158  12B9  00 
00158  12BA  00 
00158  12BB  00 
00158  12BC  00 
00158  12BD  00 
00158  12BE  00 
00158  12BF  00 
00159  12C0              ;*********************************
00160  12C0              ; FILE NAME BUFFER
00161  12C0              ;*********************************
00162  12C0  AA AA       LINEFL .WORD $AAAA
00163  12C2  AA          VERSON .BYTE $AA
00164  12C3  AA          NCHARS .BYTE $AA
00165  12C4  30 3A       NBUF   .BYTE '0:'
00166  12C6  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
00166  12C7  AA 
00166  12C8  AA 
00166  12C9  AA 
00166  12CA  AA 
00166  12CB  AA 
00166  12CC  AA 
00166  12CD  AA 
00167  12CE  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
00167  12CF  AA 
00167  12D0  AA 
00167  12D1  AA 
00167  12D2  AA 
00167  12D3  AA 
00167  12D4  AA 
00167  12D5  AA 
00168  12D6  AA                 .BYTE $AA,$AA,$AA,$AA
00168  12D7  AA 
00168  12D8  AA 
00168  12D9  AA 
00169  12DA              ;*********************************
00170  12DA              ; SYMBOL TABLE BUFFER






DISASSEMBLER20......PAGE 0007

LINE# LOC   CODE        LINE


00171  12DA              ;*********************************
00172  12DA  AA          SYMBUF .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA,
$AA
00172  12DB  AA 
00172  12DC  AA 
00172  12DD  AA 
00172  12DE  AA 
00172  12DF  AA 
00172  12E0  AA 
00172  12E1  AA 
00172  12E2  AA 
00172  12E3  AA 
00173  12E4              ;*********************************
00174  12E4              ; DATA TABLE
00175  12E4              ;*********************************
00176  12E4  AA AA       EAS    .WORD $AAAA
00177  12E6  AA          TEXTER .BYTE $AA
00178  12E7  AA AA       CDATA  .WORD $AAAA
00179  12E9  AA AA       NDATA  .WORD $AAAA
00180  12EB  AA AA       DATABP .WORD $AAAA     ;DATA POINT
00181  12ED  AA AA       DATABS .WORD $AAAA     ;DATA START
00182  12EF  AA AA       DATABE .WORD $AAAA     ;DATA END
00183  12F1              ;*********************************
00184  12F1              ; DATA TABLE
00185  12F1              ;*********************************
00186  12F1  AA          TDATA  .BYTE $AA
00187  12F2              ;*********************************
00188  12F2              *=*+$0100
00189  13F2              ;*********************************
00190  13F2  0D          MPASS  .BYTE $0D,$0D,'PASS',0
00190  13F3  0D 
00190  13F4  50 41 
00190  13F8  00 
00191  13F9  0D          PMSG   .BYTE $0D,$0D,$12,' PAUSE ',$92,$0D,$0D,0
00191  13FA  0D 
00191  13FB  12 
00191  13FC  20 50 
00191  1403  92 
00191  1404  0D 
00191  1405  0D 
00191  1406  00 
00192  1407  45 52       MSGERR .BYTE 'ERRORS = ',0
00192  1410  00 
00193  1411  45 4E       MSGDIS .BYTE 'END OF DISASSEMBLY',0
00193  1423  00 
00194  1424              ;*********************************
00195  1424              ; INITIALIZE DISASSEMBLER
00196  1424              ;*********************************
00197  1424  A2 FF       DISASS LDX #$FF
00198  1426  9A                 TXS
00199  1427  D8                 CLD
00200  1428  20 70 15           JSR DOP         ;GET OPTIONS
00201  142B  20 82 23           JSR INITIN      ;INIT POINTERS
00202  142E  A9 31              LDA #'1'        ;PASS ONE
00203  1430  8D 12 12           STA PASS        ;SET PASS INDICATOR
00204  1433              ;*********************************






DISASSEMBLER20......PAGE 0008

LINE# LOC   CODE        LINE


00205  1433              ; DISASSEMBLER LOOP
00206  1433              ;*********************************
00207  1433  20 7C 22    DISA   JSR INTSA       ;SET SA
00208  1436  A9 00              LDA #00         ;ZERO BYTE
00209  1438  8D E7 12           STA CDATA       ;SET TABLE NUMBER
00210  143B  A9 F2              LDA #<MPASS     ;PASS MSG
00211  143D  A0 13              LDY #>MPASS     ;
00212  143F  20 5D 1D           JSR STRPNT      ;PRINT IT
00213  1442  AD 12 12           LDA PASS        ;GET PASS
00214  1445  20 B3 1D           JSR PCHAR       ;PRINT NUMBER
00215  1448  20 21 22           JSR CRLF        ;CR
00216  144B              ;*********************************
00217  144B  AD 12 12           LDA PASS        ;GET PASS
00218  144E  CD 15 12           CMP CPASS       ;IS IT LAST
00219  1451  F0 0E              BEQ DISB        ;IF SO PRINT
00220  1453  CD 14 12           CMP EPASS       ;IS IT EXTERNAL
00221  1456  D0 3A              BNE DLOOP       ;IF NOT GO ON
00222  1458  20 A1 23           JSR SAVINT      ;SAVE INTERNAL
00223  145B  20 49 2C           JSR EQUINT      ;SET EQUATES
00224  145E  4C 92 14           JMP DLOOP       ;GO ON
00225  1461              ;*********************************
00226  1461  A9 01       DISB   LDA #$01        ;ONE BYTE
00227  1463  8D 58 12           STA LINECT      ;SET LINE # TO 1
00228  1466  8D 55 12           STA PAGECT      ;SET PAGE TO 1
00229  1469  A9 00              LDA #$00        ;ZERO BYTE
00230  146B  8D 59 12           STA LINECT+1    ;SET LINE # TO 1
00231  146E  8D 56 12           STA PAGECT+1    ;SET PAGE TO 1
00232  1471  8D 57 12           STA LISTCT      ;SET LIST TO 0
00233  1474  8D 5A 12           STA ERRCT       ;SET ERROR TO 0
00234  1477  8D 5B 12           STA ERRCT+1     ;SET ERROR TO 0
00235  147A  8D C0 12           STA LINEFL      ;SET LINE TO 0
00236  147D  8D C1 12           STA LINEFL+1    ;SET LINE TO 0
00237  1480  AD 1A 12           LDA OUTPUT      ;GET OUTPUT
00238  1483  8D 19 12           STA DEVICE      ;SET OUTPUT
00239  1486              ;*********************************
00240  1486  20 1C 1E           JSR HEADER      ;PRINT HEADER
00241  1489  20 99 17           JSR OFILED      ;OPEN DISK FILE
00242  148C  20 69 21           JSR ORGIN       ;PRINT ORGIN LABEL
00243  148F  20 54 2D           JSR EQUPRT      ;PRINT EQUATE
00244  1492              ;********************************
00245  1492  20 1F 1F    DLOOP  JSR DSLINE      ;DIS ONE LINE
00246  1495  B0 2C              BCS NEXTP       ;IF EA STOP
00247  1497  20 27 1C           JSR LINECK      ;LINE COUNT
00248  149A  20 E1 FF           JSR STOP        ;CHECK STOP
00249  149D  F0 57              BEQ QUITS       ;IF SO QUIT
00250  149F  20 E4 FF           JSR GETIN       ;GET KEY
00251  14A2  F0 EE              BEQ DLOOP       ;IF NONE NEXT
00252  14A4  C9 20              CMP #' '          ;IS IT A SPACE
00253  14A6  D0 EA              BNE DLOOP       ;IF NOT NEXT
00254  14A8              ;*********************************
00255  14A8              ; PAUSE LISTING
00256  14A8              ;********************************
00257  14A8  AD 19 12           LDA DEVICE
00258  14AB  48                 PHA
00259  14AC  A9 03              LDA #$03






DISASSEMBLER20......PAGE 0009

LINE# LOC   CODE        LINE


00260  14AE  8D 19 12           STA DEVICE
00261  14B1  A9 F9              LDA #<PMSG
00262  14B3  A0 13              LDY #>PMSG
00263  14B5  20 5D 1D           JSR STRPNT
00264  14B8  68                 PLA
00265  14B9  8D 19 12           STA DEVICE
00266  14BC  20 E4 FF    PAUSE  JSR GETIN       ;PAUSE FOR KEY
00267  14BF  F0 FB              BEQ PAUSE       ;
00268  14C1  D0 CF              BNE DLOOP       ;NEXT LINE
00269  14C3              ;********************************
00270  14C3  EE 12 12    NEXTP  INC PASS        ;INC PASS
00271  14C6  AD 12 12           LDA PASS        ;GET PASS
00272  14C9  CD 15 12           CMP CPASS       ;LAST PASS?
00273  14CC  90 1F              BCC DISFUL      ;IF LESS AGAIN
00274  14CE  D0 20              BNE DISC        ;FINISH
00275  14D0  AD 1B 12           LDA WINDOW      ;WINDOW FLAG
00276  14D3  F0 18              BEQ DISFUL      ;FULL OUTPUT
00277  14D5              ;*********************************
00278  14D5              ; WINDOWED OUTPUT
00279  14D5              ;*********************************
00280  14D5  AD 2A 12           LDA SAOUT       ;
00281  14D8  8D 1E 12           STA SA          ;
00282  14DB  AD 2B 12           LDA SAOUT+1     ;
00283  14DE  8D 1F 12           STA SA+1        ;
00284  14E1  AD 2C 12           LDA EAOUT       ;
00285  14E4  8D 20 12           STA EA          ;
00286  14E7  AD 2D 12           LDA EAOUT+1     ;
00287  14EA  8D 21 12           STA EA+1        ;
00288  14ED              ;*********************************
00289  14ED  4C 33 14    DISFUL JMP DISA        ;LAST PASS
00290  14F0  20 51 22    DISC   JSR INCSL
00291  14F3  20 7F 21           JSR EFILE       ;END FILE MSG
00292  14F6              ;*********************************
00293  14F6  AD 19 12    QUITS  LDA DEVICE      ;CHECK DEV
00294  14F9  29 08              AND #$08        ;DISK FILE?
00295  14FB  F0 10              BEQ QUTERR      ;IF NOT BRANCH
00296  14FD  A9 08              LDA #$08        ;DISK
00297  14FF  20 C3 FF           JSR CLOSE       ;CLOSE IT
00298  1502  AD 1A 12           LDA OUTPUT      ;GET OUTPUT
00299  1505  29 07              AND #07         ;MASK DISK
00300  1507  8D 1A 12           STA OUTPUT      ;RESET OUTPUT
00301  150A  8D 19 12           STA DEVICE      ;RESET OUTPUT
00302  150D              ;*********************************
00303  150D              ; PRINT ERRORS
00304  150D              ;*********************************
00305  150D  AD 1A 12    QUTERR LDA OUTPUT
00306  1510  09 03              ORA #$03
00307  1512  8D 1A 12           STA OUTPUT
00308  1515  8D 19 12           STA DEVICE
00309  1518  20 A0 1C           JSR NEWLIN
00310  151B  20 A0 1C           JSR NEWLIN
00311  151E  A9 07              LDA #<MSGERR
00312  1520  A0 14              LDY #>MSGERR
00313  1522  20 5D 1D           JSR STRPNT
00314  1525  AE 5A 12           LDX ERRCT






DISASSEMBLER20......PAGE 0010

LINE# LOC   CODE        LINE


00315  1528  AD 5B 12           LDA ERRCT+1
00316  152B  20 79 1D           JSR PRTNUM
00317  152E              ;*********************************
00318  152E  AD 19 12           LDA DEVICE      ;CHECK DEV
00319  1531  29 04              AND #$04        ;PRINTER?
00320  1533  F0 13              BEQ DONED       ;IF NOT DONE
00321  1535  A9 04              LDA #$04        ;DEVICE 4
00322  1537  8D 1A 12           STA OUTPUT      ;SET DEVICE
00323  153A  8D 19 12           STA DEVICE      ;SET DEVICE
00324  153D  20 53 25           JSR INTPRT      ;PRINT INTABLE
00325  1540  A9 07              LDA #$07        ;DEVICE 3 AND 4
00326  1542  8D 19 12           STA DEVICE      ;SET DEVICE
00327  1545  8D 1A 12           STA OUTPUT      ;SET DEVICE
00328  1548  20 A0 1C    DONED  JSR NEWLIN      ;NEWLINE
00329  154B  20 A0 1C           JSR NEWLIN      ;NEWLINE
00330  154E  A9 11              LDA #<MSGDIS    ;END MSG
00331  1550  A0 14              LDY #>MSGDIS
00332  1552  20 5D 1D           JSR STRPNT      ;PRINT IT
00333  1555  20 A0 1C           JSR NEWLIN      ;NEW LINE
00334  1558  AD 19 12           LDA DEVICE      ;CHECK DEVICE
00335  155B  29 04              AND #$04        ;PRINTER
00336  155D  F0 08              BEQ DONE        ;
00337  155F  20 EA 1D           JSR FINISH      ;FINISH PAGE
00338  1562  A9 04              LDA #$04        ;PRINTER
00339  1564  20 C3 FF           JSR CLOSE       ;CLOSE FILE
00340  1567              ;*********************************
00341  1567  20 CC FF    DONE   JSR CLRCHN      ;RESET I/O
00342  156A  20 AA 1E           JSR SCRON       ;TURN SCREEN ON
00343  156D  4C 74 C4           JMP WREADY      ;RETURN
00344  1570              ;*********************************
00345  1570              ;.FIL 0:OPTION.ASM
00346  1570              ;*********************************
00347  1570              .END
00348  1570              ;*********************************
00349  1570              .LIB   OPTION.ASM
00350  1570              ;*********************************
00351  1570              ; FILE OPTION.ASM
00352  1570              ;*********************************
00353  1570              ;
00354  1570              ;        DISASSEMBLER64
00355  1570              ;    SYMBOLIC DISASSEMBLER
00356  1570              ;       BY DENTON MARLOWE
00357  1570              ;
00358  1570              ;  (C)1986 BY DENTON MARLOWE
00359  1570              ;
00360  1570              ;*********************************
00361  1570              ; DISASSEMBLER OPTIONS
00362  1570              ;*********************************
00363  1570  A9 03       DOP    LDA #$03        ;DEVICE #3 SCREEN
00364  1572  8D 19 12           STA DEVICE      ;CURRENT OUTPUT
00365  1575  A9 00              LDA #$00        ;NO DEVICES
00366  1577  8D 1A 12           STA OUTPUT      ;FINAL OUTPUT
00367  157A  A9 B4              LDA #<MSG       ;START UP MSG
00368  157C  A0 19              LDY #>MSG
00369  157E  20 5D 1D           JSR STRPNT      ;PRINT IT






DISASSEMBLER20......PAGE 0011

LINE# LOC   CODE        LINE


00370  1581              ;*********************************
00371  1581              ; READ IN DISK FILE ?
00372  1581              ;*********************************
00373  1581  A9 FE              LDA #<MSF1
00374  1583  A0 19              LDY #>MSF1
00375  1585  20 5D 1D           JSR STRPNT
00376  1588  20 BE 1C           JSR INSTNG
00377  158B  D0 03              BNE PFILE0
00378  158D  4C C8 16           JMP STARTS
00379  1590  A2 00       PFILE0 LDX #$00
00380  1592  BD 51 1A    PFILE1 LDA PROGM,X
00381  1595  99 5C 12           STA BUF,Y
00382  1598  C8                 INY
00383  1599  E8                 INX
00384  159A  E0 04              CPX #$04
00385  159C  D0 F4              BNE PFILE1
00386  159E  8C 52 12           STY SAVA
00387  15A1  20 AE 16           JSR INITD
00388  15A4  20 88 16           JSR PRFILE
00389  15A7              ;*********************************
00390  15A7              ; READ IN FILE FOR SA AND EA
00391  15A7              ;*********************************
00392  15A7  A2 08              LDX #$08        ;FILE #8
00393  15A9  20 C6 FF           JSR CHKIN       ;INPUT FILE
00394  15AC  20 CF FF           JSR CHRIN       ;GET LOW BYTE SA
00395  15AF  8D 1E 12           STA SA          ;SET START
00396  15B2  20 CF FF           JSR CHRIN       ;GET HIGH BYTE SA
00397  15B5  8D 1F 12           STA SA+1        ;SET START
00398  15B8  20 7C 22           JSR INTSA       ;SET END
00399  15BB              ;*********************************
00400  15BB  A9 00              LDA #$00        ;ZERO BYTE
00401  15BD  8D 4F 12           STA ADRS        ;BYTE COUNTER
00402  15C0  8D 50 12           STA ADRS+1      ;BYTE COUNTER
00403  15C3  20 CF FF    PROGRD JSR CHRIN       ;INPUT BYTE
00404  15C6  20 B7 FF           JSR READST      ;READ STATUS
00405  15C9  D0 0D              BNE PROGED      ;IF NOT ZERO END
00406  15CB  20 51 22           JSR INCSL       ;INC END ADDRESS
00407  15CE  EE 4F 12           INC ADRS        ;INC BYTE COUNT
00408  15D1  D0 03              BNE *+5         ;
00409  15D3  EE 50 12           INC ADRS+1      ;
00410  15D6  D0 EB              BNE PROGRD      ;NEXT BYTE
00411  15D8  AD 22 12    PROGED LDA SELECT      ;
00412  15DB  8D 20 12           STA EA          ;
00413  15DE  AD 23 12           LDA SELECT+1    ;
00414  15E1  8D 21 12           STA EA+1        ;
00415  15E4              ;*********************************
00416  15E4  A9 08              LDA #$08        ;FILE #8
00417  15E6  20 C3 FF           JSR CLOSE       ;CLOSE IT
00418  15E9  20 CC FF           JSR CLRCHN      ;RESET I/O
00419  15EC              ;*********************************
00420  15EC  A9 1A              LDA #<MSF2
00421  15EE  A0 1A              LDY #>MSF2
00422  15F0  20 5D 1D           JSR STRPNT
00423  15F3  AD 1E 12           LDA SA
00424  15F6  8D 45 12           STA WORKED






DISASSEMBLER20......PAGE 0012

LINE# LOC   CODE        LINE


00425  15F9  AD 1F 12           LDA SA+1
00426  15FC  8D 46 12           STA WORKED+1
00427  15FF  20 F0 21           JSR PWORKD
00428  1602  A9 2D              LDA #'-'
00429  1604  20 B3 1D           JSR PCHAR
00430  1607  20 FE 21           JSR DOLLAR
00431  160A  20 E4 21           JSR PSELEC
00432  160D  20 21 22           JSR CRLF
00433  1610              ;*********************************
00434  1610              ; CALCULATE BUFFER ADDRESS
00435  1610              ;*********************************
00436  1610  A5 37              LDA MEMSIZ
00437  1612  8D 22 12           STA SELECT
00438  1615  A5 38              LDA MEMSIZ+1
00439  1617  8D 23 12           STA SELECT+1
00440  161A  20 70 22           JSR DECSL
00441  161D  38                 SEC
00442  161E  AD 22 12           LDA SELECT
00443  1621  ED 4F 12           SBC ADRS
00444  1624  8D 22 12           STA SELECT
00445  1627  AD 23 12           LDA SELECT+1
00446  162A  ED 50 12           SBC ADRS+1
00447  162D  8D 23 12           STA SELECT+1
00448  1630              ;*********************************
00449  1630              ; CALCULATE ADDRESS OFFSET
00450  1630              ;*********************************
00451  1630  38                 SEC
00452  1631  AD 22 12           LDA SELECT
00453  1634  ED 1E 12           SBC SA
00454  1637  8D 24 12           STA OFFSET
00455  163A  8D 45 12           STA WORKED
00456  163D  AD 23 12           LDA SELECT+1
00457  1640  ED 1F 12           SBC SA+1
00458  1643  8D 25 12           STA OFFSET+1
00459  1646  8D 46 12           STA WORKED+1
00460  1649  A9 AD              LDA #<MSD4A
00461  164B  A0 1A              LDY #>MSD4A
00462  164D  20 5D 1D           JSR STRPNT
00463  1650  20 F0 21           JSR PWORKD
00464  1653  20 21 22           JSR CRLF
00465  1656              ;*********************************
00466  1656              ; OPEN FILE AND READ PRG INTO BUF
00467  1656              ;*********************************
00468  1656  20 88 16           JSR PRFILE      ;OPEN FILE
00469  1659  A2 08              LDX #$08        ;FILE #8
00470  165B  20 C6 FF           JSR CHKIN       ;INPUT FILE
00471  165E  20 CF FF           JSR CHRIN       ;GET LOW BYTE SA
00472  1661  20 CF FF           JSR CHRIN       ;GET HIGH BYTE SA
00473  1664  20 CF FF    PRO2RD JSR CHRIN       ;INPUT BYTE
00474  1667  AE 22 12           LDX SELECT      ;LOW BYTE POINTER
00475  166A  86 02              STX ZEROUR      ;ZERO PAGE
00476  166C  AE 23 12           LDX SELECT+1    ;HIH BYTE POINTER
00477  166F  86 03              STX ZEROUR+1    ;ZERO PAGE
00478  1671  A0 00              LDY #$00        ;OFFSET
00479  1673  91 02              STA (ZEROUR),Y  ;STORE BYTE






DISASSEMBLER20......PAGE 0013

LINE# LOC   CODE        LINE


00480  1675  20 51 22           JSR INCSL       ;INC POINTER
00481  1678  20 B7 FF           JSR READST      ;READ STATUS
00482  167B  F0 E7              BEQ PRO2RD      ;NEXT BYTE
00483  167D  A9 08              LDA #$08        ;FILE #8
00484  167F  20 C3 FF           JSR CLOSE       ;CLOSE IT
00485  1682  20 CC FF           JSR CLRCHN      ;RESET I/O
00486  1685  4C 0A 17           JMP WINDOP      ;WINDOW OPTION
00487  1688              ;*********************************
00488  1688              ; OPEN PROGRAM FILE
00489  1688              ;*********************************
00490  1688  AD 52 12    PRFILE LDA SAVA
00491  168B  A2 5C              LDX #<BUF
00492  168D  A0 12              LDY #>BUF
00493  168F  20 BD FF           JSR SETNAM
00494  1692  A9 08              LDA #$08
00495  1694  A8                 TAY
00496  1695  AA                 TAX
00497  1696  20 BA FF           JSR SETLFS
00498  1699  20 C0 FF           JSR OPEN
00499  169C  20 66 1C           JSR DISERR
00500  169F  90 0C              BCC PROGOK
00501  16A1  A9 08              LDA #$08
00502  16A3  20 C3 FF           JSR CLOSE
00503  16A6  68                 PLA
00504  16A7  68                 PLA
00505  16A8  68                 PLA
00506  16A9  68                 PLA
00507  16AA  4C 74 C4           JMP WREADY
00508  16AD              ;*********************************
00509  16AD  60          PROGOK RTS
00510  16AE              ;*********************************
00511  16AE              ; INIT DISK
00512  16AE              ;*********************************
00513  16AE  A9 02       INITD  LDA #$02
00514  16B0  A0 1A              LDY #>INIT
00515  16B2  A2 55              LDX #<INIT
00516  16B4  20 BD FF           JSR SETNAM
00517  16B7  A9 0F              LDA #$0F
00518  16B9  A2 08              LDX #$08
00519  16BB  A0 0F              LDY #$0F
00520  16BD  20 BA FF           JSR SETLFS
00521  16C0  20 C0 FF           JSR OPEN
00522  16C3  A9 0F              LDA #$0F
00523  16C5  4C C3 FF           JMP CLOSE
00524  16C8              ;*********************************
00525  16C8              ; GET START ADDRESS
00526  16C8              ;*********************************
00527  16C8  A9 71       STARTS LDA #<MSD1
00528  16CA  A0 1A              LDY #>MSD1
00529  16CC  20 5D 1D           JSR STRPNT
00530  16CF  20 CD 1C           JSR GETWRD
00531  16D2  AD 4F 12           LDA ADRS
00532  16D5  8D 1E 12           STA SA
00533  16D8  AD 50 12           LDA ADRS+1
00534  16DB  8D 1F 12           STA SA+1






DISASSEMBLER20......PAGE 0014

LINE# LOC   CODE        LINE


00535  16DE              ;*********************************
00536  16DE              ; GET END ADDRESS
00537  16DE              ;*********************************
00538  16DE  A9 83              LDA #<MSD2
00539  16E0  A0 1A              LDY #>MSD2
00540  16E2  20 5D 1D           JSR STRPNT
00541  16E5  20 CD 1C           JSR GETWRD
00542  16E8  AD 4F 12           LDA ADRS
00543  16EB  8D 20 12           STA EA
00544  16EE  AD 50 12           LDA ADRS+1
00545  16F1  8D 21 12           STA EA+1
00546  16F4              ;*********************************
00547  16F4              ; ADDRRESS OFFSET
00548  16F4              ;*********************************
00549  16F4  A9 93              LDA #<MSD4
00550  16F6  A0 1A              LDY #>MSD4
00551  16F8  20 5D 1D           JSR STRPNT
00552  16FB  20 CD 1C           JSR GETWRD
00553  16FE  AD 4F 12           LDA ADRS
00554  1701  8D 24 12           STA OFFSET
00555  1704  AD 50 12           LDA ADRS+1
00556  1707  8D 25 12           STA OFFSET+1
00557  170A              ;*********************************
00558  170A              ; OUTPUT WINDOW
00559  170A              ;*********************************
00560  170A  A9 C0       WINDOP LDA #<MSD5
00561  170C  A0 1A              LDY #>MSD5
00562  170E  20 5D 1D           JSR STRPNT
00563  1711  20 32 1D           JSR CRNO
00564  1714  B0 30              BCS WIND1
00565  1716  A9 71              LDA #<MSD1
00566  1718  A0 1A              LDY #>MSD1
00567  171A  20 5D 1D           JSR STRPNT
00568  171D  20 CD 1C           JSR GETWRD
00569  1720  AD 4F 12           LDA ADRS
00570  1723  8D 2A 12           STA SAOUT
00571  1726  AD 50 12           LDA ADRS+1
00572  1729  8D 2B 12           STA SAOUT+1
00573  172C  A9 83              LDA #<MSD2
00574  172E  A0 1A              LDY #>MSD2
00575  1730  20 5D 1D           JSR STRPNT
00576  1733  20 CD 1C           JSR GETWRD
00577  1736  AD 4F 12           LDA ADRS
00578  1739  8D 2C 12           STA EAOUT
00579  173C  AD 50 12           LDA ADRS+1
00580  173F  8D 2D 12           STA EAOUT+1
00581  1742  A9 FF              LDA #$FF
00582  1744  30 02              BMI WIND2
00583  1746  A9 00       WIND1  LDA #$00
00584  1748  8D 1B 12    WIND2  STA WINDOW
00585  174B              ;*********************************
00586  174B              ; SETUP GOBAL POINTER
00587  174B              ;*********************************
00588  174B  AD 1E 12           LDA SA
00589  174E  8D 26 12           STA SAGOL






DISASSEMBLER20......PAGE 0015

LINE# LOC   CODE        LINE


00590  1751  AD 1F 12           LDA SA+1
00591  1754  8D 27 12           STA SAGOL+1
00592  1757  AD 20 12           LDA EA
00593  175A  8D 28 12           STA EAGOL
00594  175D  AD 21 12           LDA EA+1
00595  1760  8D 29 12           STA EAGOL+1
00596  1763              ;*********************************
00597  1763              ; SOURCE FILE OUTPUT?
00598  1763              ;*********************************
00599  1763  A9 2F       OUFILE LDA #<MSG1
00600  1765  A0 1A              LDY #>MSG1
00601  1767  20 5D 1D           JSR STRPNT
00602  176A              ;*********************************
00603  176A  A9 00              LDA #$00
00604  176C  8D C3 12           STA NCHARS
00605  176F  20 BE 1C           JSR INSTNG
00606  1772  F0 1A              BEQ NOFILE
00607  1774  A9 30              LDA #'0'
00608  1776  8D C2 12           STA VERSON
00609  1779  8C C3 12           STY NCHARS
00610  177C  A2 00              LDX #$00
00611  177E  BD 5C 12    GFILE0 LDA BUF,X
00612  1781  9D C4 12           STA NBUF,X
00613  1784  E8                 INX
00614  1785  EC C3 12           CPX NCHARS
00615  1788  D0 F4              BNE GFILE0
00616  178A              ;*********************************
00617  178A  A9 08       FILEOK LDA #$08
00618  178C  D0 02              BNE FILE
00619  178E  A9 00       NOFILE LDA #$00
00620  1790  0D 1A 12    FILE   ORA OUTPUT
00621  1793  8D 1A 12           STA OUTPUT
00622  1796  4C EF 17           JMP PRTGET
00623  1799              ;*********************************
00624  1799              ;     OPEN SOURCE DISK FILE
00625  1799              ;*********************************
00626  1799  AC C3 12    OFILED LDY NCHARS
00627  179C  F0 03              BEQ NOID
00628  179E  20 AE 16           JSR INITD
00629  17A1  20 9A 1E    NOID   JSR SCROFF
00630  17A4              ;*********************************
00631  17A4  AC C3 12    OFILE  LDY NCHARS
00632  17A7  F0 45              BEQ OFILE4
00633  17A9  AD C2 12           LDA VERSON
00634  17AC  C9 30              CMP #'0'
00635  17AE  F0 07              BEQ OFILE1
00636  17B0  AD C2 12           LDA VERSON
00637  17B3  99 C4 12           STA NBUF,Y
00638  17B6  C8                 INY
00639  17B7  EE C2 12    OFILE1 INC VERSON
00640  17BA  A2 00              LDX #$00
00641  17BC  BD 4D 1A    OFILE2 LDA WRITE,X
00642  17BF  99 C4 12           STA NBUF,Y
00643  17C2  C8                 INY
00644  17C3  E8                 INX






DISASSEMBLER20......PAGE 0016

LINE# LOC   CODE        LINE


00645  17C4  E0 04              CPX #$04
00646  17C6  D0 F4              BNE OFILE2
00647  17C8  98                 TYA
00648  17C9  A0 12              LDY #>NBUF
00649  17CB  A2 C4              LDX #<NBUF
00650  17CD  20 BD FF           JSR SETNAM
00651  17D0  A9 08              LDA #$08
00652  17D2  AA                 TAX
00653  17D3  A8                 TAY
00654  17D4  20 BA FF           JSR SETLFS
00655  17D7  20 C0 FF           JSR OPEN
00656  17DA  20 66 1C           JSR DISERR
00657  17DD  90 0F              BCC OFILE4
00658  17DF              ;*********************************
00659  17DF              ;  CLOSE OUT FILE ON ERROR
00660  17DF              ;*********************************
00661  17DF  A9 08       OFILE3 LDA #$08
00662  17E1  20 C3 FF           JSR CLOSE
00663  17E4  20 CC FF           JSR CLRCHN
00664  17E7  68                 PLA
00665  17E8  68                 PLA
00666  17E9  68                 PLA
00667  17EA  68                 PLA
00668  17EB  4C 74 C4           JMP WREADY
00669  17EE  60          OFILE4 RTS
00670  17EF              ;*********************************
00671  17EF              ; GET PRINTER OPTION
00672  17EF              ;*********************************
00673  17EF  A9 57       PRTGET LDA #<MSG2
00674  17F1  A0 1A              LDY #>MSG2
00675  17F3  20 5D 1D           JSR STRPNT
00676  17F6  20 25 1D           JSR CRYS
00677  17F9  B0 26              BCS NOPRT
00678  17FB  A9 00              LDA #$00
00679  17FD  20 BD FF           JSR SETNAM
00680  1800  A9 04              LDA #$04
00681  1802  A2 04              LDX #$04
00682  1804  A0 00              LDY #$00
00683  1806  20 BA FF           JSR SETLFS
00684  1809  20 C0 FF           JSR OPEN
00685  180C  A2 04              LDX #$04
00686  180E  20 C9 FF           JSR CHKOUT
00687  1811  20 B7 FF           JSR READST
00688  1814  29 80              AND #$80
00689  1816  08                 PHP
00690  1817  20 CC FF           JSR CLRCHN
00691  181A  28                 PLP
00692  181B  30 04              BMI NOPRT
00693  181D  A9 04              LDA #$04
00694  181F  D0 02              BNE PRINT
00695  1821  A9 03       NOPRT  LDA #$03
00696  1823  0D 1A 12    PRINT  ORA OUTPUT
00697  1826  8D 1A 12           STA OUTPUT
00698  1829              ;*********************************
00699  1829              ; GO GET SYMBOLIC OPTION






DISASSEMBLER20......PAGE 0017

LINE# LOC   CODE        LINE


00700  1829              ;*********************************
00701  1829  20 D4 2B           JSR SOP
00702  182C              ;*********************************
00703  182C              ; GET RELATIVE ADDRESS OPTION
00704  182C              ;*********************************
00705  182C  A9 DD              LDA #<MSR1
00706  182E  A0 1A              LDY #>MSR1
00707  1830  20 5D 1D           JSR STRPNT
00708  1833  20 25 1D           JSR CRYS
00709  1836  90 04              BCC DOP2
00710  1838  A9 01              LDA #$01
00711  183A  D0 02              BNE DOP3
00712  183C  A9 00       DOP2   LDA #$00
00713  183E  8D 18 12    DOP3   STA ROPT
00714  1841              ;*********************************
00715  1841              ; DATA TABLE OPTION
00716  1841              ;*********************************
00717  1841  AD 3D 12    AOP    LDA SYMBOE
00718  1844  8D EB 12           STA DATABP
00719  1847  8D ED 12           STA DATABS
00720  184A  8D EF 12           STA DATABE
00721  184D  85 02              STA ZEROUR
00722  184F  AD 3E 12           LDA SYMBOE+1
00723  1852  8D EC 12           STA DATABP+1
00724  1855  8D EE 12           STA DATABS+1
00725  1858  8D F0 12           STA DATABE+1
00726  185B  85 03              STA ZEROUR+1
00727  185D              ;*********************************
00728  185D  A9 06              LDA #<MSAOP
00729  185F  A0 1B              LDY #>MSAOP
00730  1861  20 5D 1D           JSR STRPNT
00731  1864  20 BE 1C           JSR INSTNG
00732  1867  D0 03              BNE BOP
00733  1869  4C EC 18           JMP NOTABS
00734  186C              ;*********************************
00735  186C  98          BOP    TYA
00736  186D  48                 PHA
00737  186E  20 AE 16           JSR INITD
00738  1871  68                 PLA
00739  1872  A8                 TAY
00740  1873  A2 00              LDX #$00
00741  1875  BD 3D 2F    AFILE  LDA NAMS,X
00742  1878  99 5C 12           STA BUF,Y
00743  187B  C8                 INY
00744  187C  E8                 INX
00745  187D  E0 04              CPX #$04
00746  187F  D0 F4              BNE AFILE
00747  1881  98                 TYA
00748  1882  A0 12              LDY #>BUF
00749  1884  A2 5C              LDX #<BUF
00750  1886  20 BD FF           JSR SETNAM
00751  1889  A9 03              LDA #$03
00752  188B  A2 08              LDX #$08
00753  188D  A0 03              LDY #$03
00754  188F  20 BA FF           JSR SETLFS






DISASSEMBLER20......PAGE 0018

LINE# LOC   CODE        LINE


00755  1892  20 C0 FF           JSR OPEN
00756  1895  20 66 1C           JSR DISERR
00757  1898  B0 1B              BCS AGET1
00758  189A  A2 03              LDX #$03
00759  189C  20 C6 FF           JSR CHKIN
00760  189F              ;*********************************
00761  189F              ; READ IN DATA TABLE
00762  189F              ;*********************************
00763  189F  A0 00              LDY #$00
00764  18A1  20 CF FF           JSR CHRIN
00765  18A4  8D E9 12           STA NDATA
00766  18A7  F0 0C              BEQ AGET1
00767  18A9  20 CF FF    AGET   JSR CHRIN
00768  18AC  99 F1 12           STA TDATA,Y
00769  18AF  C8                 INY
00770  18B0  20 B7 FF           JSR READST
00771  18B3  F0 F4              BEQ AGET
00772  18B5  A9 03       AGET1  LDA #$03
00773  18B7  20 C3 FF           JSR CLOSE
00774  18BA  20 CC FF           JSR CLRCHN
00775  18BD              ;*********************************
00776  18BD              ; PRINT DATA TABLE
00777  18BD              ;*********************************
00778  18BD  AD E9 12    PRTDAS LDA NDATA
00779  18C0  8D E7 12           STA CDATA
00780  18C3  A0 00              LDY #$00
00781  18C5  8C 54 12           STY SAVY
00782  18C8  20 21 22    PRTNEX JSR CRLF
00783  18CB  A2 05              LDX #$05
00784  18CD  8E 53 12           STX SAVX
00785  18D0  AC 54 12    PRTDAL LDY SAVY
00786  18D3  B9 F1 12           LDA TDATA,Y
00787  18D6  20 47 1D           JSR PRBYT
00788  18D9  20 33 22           JSR SPACE
00789  18DC  EE 54 12           INC SAVY
00790  18DF  CE 53 12           DEC SAVX
00791  18E2  D0 EC              BNE PRTDAL
00792  18E4  CE E7 12           DEC CDATA
00793  18E7  D0 DF              BNE PRTNEX
00794  18E9              ;*********************************
00795  18E9  4C 89 19           JMP XOP0
00796  18EC              ;*********************************
00797  18EC              ; READ DATA FOR KEYBOARD
00798  18EC              ;*********************************
00799  18EC  A9 26       NOTABS LDA #<MSA1      ;NUMBER OF DATA
00800  18EE  A0 1B              LDY #>MSA1
00801  18F0  20 5D 1D           JSR STRPNT
00802  18F3  20 CD 1C           JSR GETWRD      ;INPUT HEX BYTE
00803  18F6  AD 4F 12           LDA ADRS        ;GET BYTE
00804  18F9  8D E9 12           STA NDATA       ;SET NUM TABLES
00805  18FC  D0 03              BNE AOPX        ;0 DATA THEN END
00806  18FE  4C 89 19           JMP XOP0        ;RETURN
00807  1901  A9 00       AOPX   LDA #$00        ;ZERO OFFSET
00808  1903  8D E7 12           STA CDATA       ;FIRST TABLE
00809  1906              ;*********************************






DISASSEMBLER20......PAGE 0019

LINE# LOC   CODE        LINE


00810  1906              ; CALCULATE TABLE OFFSET
00811  1906              ;*********************************
00812  1906  AD E7 12    AOP1   LDA CDATA       ;GET TABLE NUMBER
00813  1909  0A                 ASL A           ;*2
00814  190A  0A                 ASL A           ;*4
00815  190B  18                 CLC             ;C=0
00816  190C  6D E7 12           ADC CDATA       ;*5
00817  190F  8D 54 12           STA SAVY        ;STORE AS OFFSET
00818  1912              ;*********************************
00819  1912  A9 49              LDA #<MSA2
00820  1914  A0 1B              LDY #>MSA2
00821  1916  20 5D 1D           JSR STRPNT      ;PRINT MSG
00822  1919  20 CD 1C           JSR GETWRD      ;GET ADDRESS
00823  191C  AC 54 12           LDY SAVY        ;GET OFFSET
00824  191F  AD 4F 12           LDA ADRS
00825  1922  99 F1 12           STA TDATA,Y
00826  1925  C8                 INY
00827  1926  AD 50 12           LDA ADRS+1
00828  1929  99 F1 12           STA TDATA,Y
00829  192C  C8                 INY
00830  192D  8C 54 12           STY SAVY
00831  1930              ;*********************************
00832  1930              ; END OF DATA TABLE
00833  1930              ;*********************************
00834  1930  A9 62       AOP2   LDA #<MSA3
00835  1932  A0 1B              LDY #>MSA3
00836  1934  20 5D 1D           JSR STRPNT
00837  1937  20 CD 1C           JSR GETWRD      ;GET ADDRESS
00838  193A  AC 54 12           LDY SAVY
00839  193D  AD 4F 12           LDA ADRS
00840  1940  99 F1 12           STA TDATA,Y
00841  1943  C8                 INY
00842  1944  AD 50 12           LDA ADRS+1
00843  1947  99 F1 12           STA TDATA,Y
00844  194A  C8                 INY
00845  194B  8C 54 12           STY SAVY
00846  194E              ;*********************************
00847  194E              ; GET TYPE OF TABLE
00848  194E              ;*********************************
00849  194E  A9 79              LDA #<MSG5      ;TABLE TYPE
00850  1950  A0 1B              LDY #>MSG5
00851  1952  20 5D 1D           JSR STRPNT
00852  1955  20 E4 FF    AOP3   JSR GETIN
00853  1958  F0 FB              BEQ AOP3
00854  195A  C9 30              CMP #'0'
00855  195C  F0 14              BEQ ASC
00856  195E  C9 31              CMP #'1'
00857  1960  F0 10              BEQ ASC
00858  1962  C9 32              CMP #'2'
00859  1964  F0 0C              BEQ ASC
00860  1966  C9 33              CMP #'3'
00861  1968  F0 08              BEQ ASC
00862  196A  C9 34              CMP #'4'
00863  196C  F0 04              BEQ ASC
00864  196E  C9 53              CMP #'S'






DISASSEMBLER20......PAGE 0020

LINE# LOC   CODE        LINE


00865  1970  D0 E3              BNE AOP3
00866  1972  20 D2 FF    ASC    JSR CHROUT
00867  1975  AC 54 12           LDY SAVY
00868  1978  99 F1 12           STA TDATA,Y
00869  197B              ;*********************************
00870  197B  EE E7 12           INC CDATA       ;INC TABLE COUNT
00871  197E  AD E7 12           LDA CDATA       ;GET TABLE COUNT
00872  1981  CD E9 12           CMP NDATA       ;ALL TABLES?
00873  1984  F0 03              BEQ XOP0        ;IF NOT GET MORE
00874  1986  4C 06 19           JMP AOP1        ;IF NOT GET MORE
00875  1989              ;*********************************
00876  1989              ; GET LABEL GENERATION OPTION
00877  1989              ;*********************************
00878  1989  A9 E5       XOP0   LDA #<MSB4
00879  198B  A0 1B              LDY #>MSB4
00880  198D  20 5D 1D           JSR STRPNT
00881  1990  20 25 1D           JSR CRYS
00882  1993  B0 04              BCS XOP1
00883  1995  A9 01              LDA #$01
00884  1997  D0 02              BNE XOP2
00885  1999  A9 00       XOP1   LDA #$00
00886  199B  8D 17 12    XOP2   STA XOPT
00887  199E              ;*********************************
00888  199E              ; OUTPUT FORMAT OPTION
00889  199E              ;*********************************
00890  199E  A9 06              LDA #<MSB5
00891  19A0  A0 1C              LDY #>MSB5
00892  19A2  20 5D 1D           JSR STRPNT
00893  19A5  20 25 1D           JSR CRYS
00894  19A8  B0 04              BCS FOP1
00895  19AA  A9 00              LDA #$00
00896  19AC  F0 02              BEQ FOP2
00897  19AE  A9 FF       FOP1   LDA #$FF
00898  19B0  8D 1C 12    FOP2   STA FOROPT
00899  19B3              ;*********************************
00900  19B3  60                 RTS
00901  19B4              ;*********************************
00902  19B4              ;   COMMAND MESSAGES
00903  19B4              ;*********************************
00904  19B4  93          MSG    .BYTE $93       ;CLEAR SCREEN 
00905  19B5  0D          .BYTE  $0D,$0D
00905  19B6  0D 
00906  19B7  43 42       .BYTE  'CBM RESIDENT'
00907  19C3  0D          .BYTE  $0D
00908  19C4  44 49       .BYTE  'DISASSEMBLER'
00909  19D0  0D          .BYTE  $0D
00910  19D1  56 30       .BYTE  'V080282'
00911  19D8  0D          .BYTE  $0D
00912  19D9  28 43       .BYTE  '(C)1982 COMMODORE'
00913  19EA  0D          .BYTE  $0D
00914  19EB  42 55       .BYTE  'BUSINESS MACHINES'
00915  19FC  0D          .BYTE  $0D
00916  19FD  00          .BYTE  0
00917  19FE              ;*********************************
00918  19FE  0D          MSF1   .BYTE $0D






DISASSEMBLER20......PAGE 0021

LINE# LOC   CODE        LINE


00919  19FF  50 52       .BYTE  'PROGRAM FILE'
00920  1A0B  0D          .BYTE  $0D
00921  1A0C  28 43       .BYTE  '(CR OR NAME):'
00922  1A19  00          .BYTE  0
00923  1A1A              ;*********************************
00924  1A1A  0D          MSF2   .BYTE $0D
00925  1A1B  0D          .BYTE  $0D
00926  1A1C  50 52       .BYTE  'PROGRAM ADDRESS:'
00927  1A2C  0D          .BYTE  $0D
00928  1A2D  24          .BYTE  '$'
00929  1A2E  00          .BYTE  0
00930  1A2F              ;*********************************
00931  1A2F  0D          MSG1   .BYTE $0D
00932  1A30  0D          .BYTE  $0D
00933  1A31  45 44       .BYTE  'EDITOR64 FILE'
00934  1A3E  0D          .BYTE  $0D
00935  1A3F  28 43       .BYTE  '(CR OR NAME):'
00936  1A4C  00          .BYTE  0
00937  1A4D              ;*********************************
00938  1A4D  2C 53       WRITE  .BYTE ',S,W'
00939  1A51  2C 50       PROGM  .BYTE ',P,R'
00940  1A55  49 30       INIT   .BYTE 'I0'
00941  1A57              ;*********************************
00942  1A57  0D          MSG2   .BYTE $0D
00943  1A58  0D          .BYTE  $0D
00944  1A59  48 41       .BYTE  'HARD COPY'
00945  1A62  0D          .BYTE  $0D
00946  1A63  28 59       .BYTE  '(Y/CR OR N)? '
00947  1A70  00          .BYTE  0
00948  1A71              ;*********************************
00949  1A71  0D          MSD1   .BYTE $0D
00950  1A72  53 54       .BYTE  'START ADDRESS :$'
00951  1A82  00          .BYTE  0
00952  1A83              ;*********************************
00953  1A83  0D          MSD2   .BYTE $0D
00954  1A84  45 4E       .BYTE  'END ADDRESS :$'
00955  1A92  00          .BYTE  0
00956  1A93              ;*********************************
00957  1A93  0D          MSD4   .BYTE $0D
00958  1A94  41 44       .BYTE  'ADDRESS OFFSET (OR CR):$'
00959  1AAC  00          .BYTE  0
00960  1AAD              ;*********************************
00961  1AAD  0D          MSD4A  .BYTE $0D
00962  1AAE  41 44       .BYTE  'ADDRESS OFFSET :$'
00963  1ABF  00          .BYTE  0
00964  1AC0              ;*********************************
00965  1AC0  0D          MSD5   .BYTE $0D
00966  1AC1  57 49       .BYTE  'WINDOW OUTPUT'
00967  1ACE  0D          .BYTE  $0D
00968  1ACF  28 59       .BYTE  '(Y OR N/CR)? '
00969  1ADC  00          .BYTE  0
00970  1ADD              ;*********************************
00971  1ADD  0D          MSR1   .BYTE $0D
00972  1ADE  0D          .BYTE  $0D
00973  1ADF  52 45       .BYTE  'RELATIVE BRANCH'






DISASSEMBLER20......PAGE 0022

LINE# LOC   CODE        LINE


00974  1AEE  0D          .BYTE  $0D
00975  1AEF  54 4F       .BYTE  'TO LABEL'
00976  1AF7  0D          .BYTE  $0D
00977  1AF8  28 59       .BYTE  '(Y/CR OR N)? '
00978  1B05  00          .BYTE  0
00979  1B06              ;*********************************
00980  1B06  0D          MSAOP  .BYTE $0D
00981  1B07  0D          .BYTE  $0D
00982  1B08  44 41       .BYTE  'DATA TABLE FILE'
00983  1B17  0D          .BYTE  $0D
00984  1B18  28 43       .BYTE  '(CR OR NAME):'
00985  1B25  00          .BYTE  0
00986  1B26  0D          MSA1   .BYTE $0D
00987  1B27  0D          .BYTE  $0D
00988  1B28  4E 55       .BYTE  'NUMBER OF DATA TABLES'
00989  1B3D  0D          .BYTE  $0D
00990  1B3E  28 4F       .BYTE  '(OR CR) :$'
00991  1B48  00          .BYTE  0
00992  1B49  0D          MSA2   .BYTE $0D
00993  1B4A  0D          .BYTE  $0D
00994  1B4B  54 41       .BYTE  'TABLE START ADDRESS'
00995  1B5E  0D          .BYTE  $0D
00996  1B5F  3A 24       .BYTE  ':$'
00997  1B61  00          .BYTE  0
00998  1B62  0D          MSA3   .BYTE $0D
00999  1B63  0D          .BYTE  $0D
01000  1B64  54 41       .BYTE  'TABLE END ADDRESS'
01001  1B75  0D          .BYTE  $0D
01002  1B76  3A 24       .BYTE  ':$'
01003  1B78  00          .BYTE  0
01004  1B79  0D          MSG5   .BYTE $0D,$0D
01004  1B7A  0D 
01005  1B7B  44 49              .BYTE 'DISASSEMBLY'
01006  1B86  0D                 .BYTE $0D
01007  1B87  4F 50              .BYTE 'OPTIONS'
01008  1B8E  0D                 .BYTE $0D,$0D
01008  1B8F  0D 
01009  1B90  30 20              .BYTE '0 ASCII',$0D
01009  1B97  0D 
01010  1B98  31 20              .BYTE '1 BYTE',$0D
01010  1B9E  0D 
01011  1B9F  32 20              .BYTE '2 WORD',$0D
01011  1BA5  0D 
01012  1BA6  33 20              .BYTE '3 DBYTE',$0D
01012  1BAD  0D 
01013  1BAE  34 20              .BYTE '4 WORD-1',$0D
01013  1BB6  0D 
01014  1BB7  53 20              .BYTE 'S SKIP ADDRESS RANGE',$0D
01014  1BCB  0D 
01015  1BCC  45 4E              .BYTE 'ENTER DISASSEMBLY'
01016  1BDD  0D                 .BYTE $0D
01017  1BDE  43 4F              .BYTE 'CODE: '
01018  1BE4  00                 .BYTE 0
01019  1BE5              ;*********************************
01020  1BE5  0D          MSB4   .BYTE $0D






DISASSEMBLER20......PAGE 0023

LINE# LOC   CODE        LINE


01021  1BE6  0D          .BYTE  $0D
01022  1BE7  4C 41       .BYTE  'LABLE GENERATION'
01023  1BF7  0D          .BYTE  $0D
01024  1BF8  28 59       .BYTE  '(Y/CR OR N)? '
01025  1C05  00          .BYTE  0
01026  1C06              ;*********************************
01027  1C06  0D          MSB5   .BYTE $0D
01028  1C07  0D          .BYTE  $0D
01029  1C08  46 4F       .BYTE  'FORMATED LISTING'
01030  1C18  0D          .BYTE  $0D
01031  1C19  28 59       .BYTE  '(Y/CR OR N)? '
01032  1C26  00          .BYTE  0
01033  1C27              ;*********************************
01034  1C27              ;.FIL 0:UTIL.ASM
01035  1C27              ;*********************************
01036  1C27              .END
01037  1C27              ;*********************************
01038  1C27              .LIB   UTIL.ASM
01039  1C27              ;*********************************
01040  1C27              ; FILE UTIL.ASM
01041  1C27              ;*********************************
01042  1C27              ;
01043  1C27              ;        DISASSEMBLER64
01044  1C27              ;    SYMBOLIC DISASSEMBLER
01045  1C27              ;       BY DENTON MARLOWE
01046  1C27              ;
01047  1C27              ;  (C)1986 BY DENTON MARLOWE
01048  1C27              ;
01049  1C27              ;*********************************
01050  1C27              ;      *** UTILITIES ***
01051  1C27              ;*********************************
01052  1C27              ; CHECK LINE COUNT FOR OUTPUT FILE
01053  1C27              ;*********************************
01054  1C27  AD 12 12    LINECK LDA PASS
01055  1C2A  CD 15 12           CMP CPASS
01056  1C2D  D0 36              BNE LINECO
01057  1C2F  AD 19 12           LDA DEVICE
01058  1C32  29 08              AND #$08
01059  1C34  F0 2F              BEQ LINECO
01060  1C36              ;*********************************
01061  1C36              ; CLOSE SOURCE FILE AND OPEN NEXT
01062  1C36              ;*********************************
01063  1C36  38                 SEC
01064  1C37  AD C0 12           LDA LINEFL
01065  1C3A  E9 20              SBC #$20
01066  1C3C  8D 51 12           STA TEMP
01067  1C3F  AD C1 12           LDA LINEFL+1
01068  1C42  E9 03              SBC #$03
01069  1C44  0D 51 12           ORA TEMP
01070  1C47  90 1C              BCC LINECO
01071  1C49  EA                 NOP
01072  1C4A  EA                 NOP
01073  1C4B  EA                 NOP
01074  1C4C  20 7F 21           JSR EFILE
01075  1C4F  A9 08              LDA #$08






DISASSEMBLER20......PAGE 0024

LINE# LOC   CODE        LINE


01076  1C51  20 C3 FF           JSR CLOSE
01077  1C54  20 A4 17           JSR OFILE
01078  1C57  A9 00              LDA #$00
01079  1C59  8D C0 12           STA LINEFL
01080  1C5C  8D C1 12           STA LINEFL+1
01081  1C5F  20 69 21           JSR ORGIN
01082  1C62  20 8F 21           JSR COMENT
01083  1C65  60          LINECO RTS
01084  1C66              ;*********************************
01085  1C66              ;  DISK ERROR CHECK
01086  1C66              ;*********************************
01087  1C66  A9 08       DISERR LDA #$08        ;DEV #8
01088  1C68  85 BA              STA $BA         ;PUT IN DEV TABLE
01089  1C6A  20 B4 FF           JSR $FFB4       ;SEND TALK
01090  1C6D  A9 6F              LDA #$6F        ;SECONDARY ADDRESS
01091  1C6F  85 B9              STA $B9         ;PUT IN TABLE
01092  1C71  20 96 FF           JSR $FF96       ;SEND SEC
01093  1C74  20 A5 FF           JSR $FFA5       ;GET FIRST BYTE
01094  1C77  C9 30              CMP #$30        ;IS IT A ZERO
01095  1C79  D0 0C              BNE DLOOC       ;IF NOT ZERO ERROR
01096  1C7B  20 A5 FF    DLOOE  JSR $FFA5       ;GET BYTE
01097  1C7E  C9 0D              CMP #$0D        ;IS IT CR?
01098  1C80  D0 F9              BNE DLOOE       ;GET NEXT BYTE
01099  1C82  20 AB FF           JSR $FFAB       ;UNTALK
01100  1C85  18                 CLC             ;NO ERROR FLAG
01101  1C86  60                 RTS             ;RETURN
01102  1C87              ;*********************************
01103  1C87              ; PRINT DISK ERROR
01104  1C87              ;*********************************
01105  1C87  48          DLOOC  PHA             ;STACK BYTE
01106  1C88  A9 0D              LDA #$0D        ;ASCII CR
01107  1C8A  20 D2 FF           JSR CHROUT      ;PRINT IT
01108  1C8D  68                 PLA             ;GET BYTE
01109  1C8E  20 D2 FF           JSR CHROUT      ;PRINT IT
01110  1C91  20 A5 FF    DLOOA  JSR $FFA5       ;GET NEXT BYTE
01111  1C94  20 D2 FF           JSR CHROUT      ;PRINT IT
01112  1C97  C9 0D              CMP #$0D        ;IS IT CR
01113  1C99  D0 F6              BNE DLOOA       ;GET NEXT BYTE
01114  1C9B  20 AB FF           JSR $FFAB       ;UNTALK
01115  1C9E  38                 SEC             ;SET ERROR FLAG
01116  1C9F  60                 RTS             ;RETURN
01117  1CA0              ;*********************************
01118  1CA0              ; START NEW LINE AND INC COUNT
01119  1CA0              ;*********************************
01120  1CA0  EE 58 12    NEWLIN INC LINECT
01121  1CA3  D0 03              BNE *+5
01122  1CA5  EE 59 12           INC LINECT+1
01123  1CA8  EE C0 12           INC LINEFL
01124  1CAB  D0 03              BNE *+5
01125  1CAD  EE C1 12           INC LINEFL+1
01126  1CB0  20 21 22           JSR CRLF
01127  1CB3  AD 19 12           LDA DEVICE
01128  1CB6  29 04              AND #$04
01129  1CB8  F0 03              BEQ NEWEXT
01130  1CBA  20 0F 1E           JSR NEXLIN






DISASSEMBLER20......PAGE 0025

LINE# LOC   CODE        LINE


01131  1CBD  60          NEWEXT RTS
01132  1CBE              ;*********************************
01133  1CBE              ; INPUT UTILITIES
01134  1CBE              ;*********************************
01135  1CBE              ; INPUT STRING ROUTINE
01136  1CBE              ;*********************************
01137  1CBE  A0 00       INSTNG LDY #$00
01138  1CC0  20 CF FF    INSTN1 JSR CHRIN
01139  1CC3  99 5C 12           STA BUF,Y
01140  1CC6  C8                 INY
01141  1CC7  C9 0D              CMP #$0D
01142  1CC9  D0 F5              BNE INSTN1
01143  1CCB  88                 DEY
01144  1CCC  60                 RTS
01145  1CCD              ;*********************************
01146  1CCD              ; INPUT HEX CHAR STRING
01147  1CCD              ;*********************************
01148  1CCD  A9 00       GETWRD LDA #$00
01149  1CCF  8D 4F 12           STA ADRS
01150  1CD2  8D 50 12           STA ADRS+1
01151  1CD5  20 BE 1C           JSR INSTNG
01152  1CD8  88                 DEY
01153  1CD9  30 15              BMI INEND
01154  1CDB              ;*********************************
01155  1CDB              ; PROCESS INPUT
01156  1CDB              ;*********************************
01157  1CDB  20 F1 1C           JSR GETBYT
01158  1CDE  AD 51 12           LDA TEMP
01159  1CE1  8D 4F 12           STA ADRS
01160  1CE4  88                 DEY
01161  1CE5  30 09              BMI INEND
01162  1CE7  20 F1 1C           JSR GETBYT
01163  1CEA  AD 51 12           LDA TEMP
01164  1CED  8D 50 12           STA ADRS+1
01165  1CF0  60          INEND  RTS
01166  1CF1              ;*********************************
01167  1CF1              ; COVERT BUFFER INTO BYTES
01168  1CF1              ;*********************************
01169  1CF1  B9 5C 12    GETBYT LDA BUF,Y
01170  1CF4  20 0E 1D           JSR BINARY
01171  1CF7  8D 51 12           STA TEMP
01172  1CFA  88                 DEY
01173  1CFB  30 10              BMI INENX
01174  1CFD  B9 5C 12           LDA BUF,Y
01175  1D00  20 0E 1D           JSR BINARY
01176  1D03  0A                 ASL A
01177  1D04  0A                 ASL A
01178  1D05  0A                 ASL A
01179  1D06  0A                 ASL A
01180  1D07  0D 51 12           ORA TEMP
01181  1D0A  8D 51 12           STA TEMP
01182  1D0D  60          INENX  RTS
01183  1D0E              ;*********************************
01184  1D0E              ; CONVERT A INTO HEX NIBBLE
01185  1D0E              ;*********************************






DISASSEMBLER20......PAGE 0026

LINE# LOC   CODE        LINE


01186  1D0E  38          BINARY SEC
01187  1D0F  E9 30              SBC #'0'
01188  1D11  90 0E              BCC NOHEX
01189  1D13  C9 0A              CMP #$0A
01190  1D15  90 0C              BCC YSHEX
01191  1D17  E9 07              SBC #$07
01192  1D19  C9 10              CMP #$10
01193  1D1B  B0 04              BCS NOHEX
01194  1D1D  C9 0A              CMP #$0A
01195  1D1F  B0 02              BCS YSHEX
01196  1D21  38          NOHEX  SEC
01197  1D22  60                 RTS
01198  1D23  18          YSHEX  CLC
01199  1D24  60                 RTS
01200  1D25              ;*********************************
01201  1D25              ; GET OPTION (CR/Y OR N): Y=C=0
01202  1D25              ;*********************************
01203  1D25  20 CF FF    CRYS   JSR CHRIN
01204  1D28  C9 59              CMP #'Y'
01205  1D2A  F0 11              BEQ CRYS1
01206  1D2C  C9 0D              CMP #$0D
01207  1D2E  F0 0D              BEQ CRYS1
01208  1D30  D0 0D              BNE CRNO1
01209  1D32              ;*********************************
01210  1D32              ; GET OPTION (Y OR CR/N): Y=C=0
01211  1D32              ;*********************************
01212  1D32  20 CF FF    CRNO   JSR CHRIN
01213  1D35  C9 4E              CMP #'N'
01214  1D37  F0 06              BEQ CRNO1
01215  1D39  C9 0D              CMP #$0D
01216  1D3B  F0 02              BEQ CRNO1
01217  1D3D  18          CRYS1  CLC
01218  1D3E  60                 RTS
01219  1D3F  38          CRNO1  SEC
01220  1D40  60                 RTS
01221  1D41              ;*********************************
01222  1D41              ; PRINT UTILITES
01223  1D41              ;*********************************
01224  1D41              ; PRINT WORD MSB IN Y LSB IN A
01225  1D41              ;*********************************
01226  1D41  48          PRBYTS PHA             ;PUT A ON STACK
01227  1D42  98                 TYA             ;PUT HIH BYTE IN A
01228  1D43  20 47 1D           JSR PRBYT       ;PRINT MSB
01229  1D46  68                 PLA             ;GET LSB
01230  1D47              ;*********************************
01231  1D47              ; PRINT BYTE IN A
01232  1D47              ;*********************************
01233  1D47  48          PRBYT  PHA             ;PUT BYTE ON STACK
01234  1D48  4A                 LSR A           ;4 RIGHT SHIFTS
01235  1D49  4A                 LSR A           ;TO MOVE HIGH
01236  1D4A  4A                 LSR A           ;NIBBLE TO LOW
01237  1D4B  4A                 LSR A           ;NIB WITH HIGH 0'S
01238  1D4C  A8                 TAY             ;USE AS POINTER
01239  1D4D  B9 B3 1E           LDA HEXA,Y      ;GET ASCII
01240  1D50  20 B3 1D           JSR PCHAR       ;PRINT






DISASSEMBLER20......PAGE 0027

LINE# LOC   CODE        LINE


01241  1D53  68                 PLA             ;PULL BYTE OUT
01242  1D54  29 0F              AND #$0F        ;MASK HIGH NIBBLE
01243  1D56  A8                 TAY             ;USE AS POINTER
01244  1D57  B9 B3 1E           LDA HEXA,Y      ;GET ASCII
01245  1D5A  4C B3 1D           JMP PCHAR       ;PRINT
01246  1D5D              ;*********************************
01247  1D5D              ; STRING OUTPUT ROUTINE
01248  1D5D              ;*********************************
01249  1D5D  85 02       STRPNT STA ZEROUR      ;POINTER TO
01250  1D5F  84 03              STY ZEROUR+1    ;MESSAGE
01251  1D61  A0 00              LDY #$00        ;OFFSET
01252  1D63  B1 02       SOUT   LDA (ZEROUR),Y  ;GET CHAR
01253  1D65  F0 06              BEQ SEXIT       ;IF ZERO EXIT
01254  1D67  20 B3 1D           JSR PCHAR       ;PRINT
01255  1D6A  C8                 INY             ;INC OFFSET
01256  1D6B  D0 F6              BNE SOUT        ;LOOP
01257  1D6D  60          SEXIT  RTS             ;RETURN
01258  1D6E              ;*********************************
01259  1D6E              ; PRINT DEC NUMBER (0000)
01260  1D6E              ;*********************************
01261  1D6E  86 02       PRTPAG STX ZEROUR      ;LOW  BYTE NUM
01262  1D70  85 03              STA ZEROUR+1    ;HIGH BYTE NUM
01263  1D72  A2 03              LDX #$03        ;4 CHARS
01264  1D74  8E 53 12           STX SAVX        ;SAVE COUNT
01265  1D77  D0 09              BNE PRTNU1      ;BRANCH
01266  1D79              ;*********************************
01267  1D79              ; PRINT DEC NUMBER (00000)
01268  1D79              ;*********************************
01269  1D79  86 02       PRTNUM STX ZEROUR      ;LOW  BYTE NUM
01270  1D7B  85 03              STA ZEROUR+1    ;HIGH BYTE NUM
01271  1D7D  A2 04              LDX #$04        ;5 CHARS
01272  1D7F  8E 53 12           STX SAVX        ;SAVE COUNT
01273  1D82              ;*********************************
01274  1D82              ; PRINT DEC NUMBER AND LEADING 0
01275  1D82              ;*********************************
01276  1D82  AE 53 12    PRTNU1 LDX SAVX
01277  1D85  A0 30              LDY #$30
01278  1D87  D0 01              BNE PRTNU3
01279  1D89  C8          PRTNU2 INY 
01280  1D8A  38          PRTNU3 SEC 
01281  1D8B  A5 02              LDA ZEROUR
01282  1D8D  FD C3 1E           SBC CONST0,X
01283  1D90  85 02              STA ZEROUR
01284  1D92  A5 03              LDA ZEROUR+1
01285  1D94  FD C8 1E           SBC CONST1,X
01286  1D97  85 03              STA ZEROUR+1
01287  1D99  B0 EE              BCS PRTNU2
01288  1D9B  A5 02              LDA ZEROUR
01289  1D9D  7D C3 1E           ADC CONST0,X
01290  1DA0  85 02              STA ZEROUR
01291  1DA2  A5 03              LDA ZEROUR+1
01292  1DA4  7D C8 1E           ADC CONST1,X
01293  1DA7  85 03              STA ZEROUR+1
01294  1DA9  98                 TYA
01295  1DAA  20 B3 1D           JSR PCHAR






DISASSEMBLER20......PAGE 0028

LINE# LOC   CODE        LINE


01296  1DAD  CE 53 12           DEC SAVX
01297  1DB0  10 D0              BPL PRTNU1
01298  1DB2  60                 RTS
01299  1DB3              ;*********************************
01300  1DB3              ;  OUTPUT CHAR TO OPEN CHANNEL
01301  1DB3              ;*********************************
01302  1DB3  48          PCHAR  PHA             ;SAVE CHAR
01303  1DB4  AD 19 12           LDA DEVICE      ;GET FILE FLAG
01304  1DB7  29 08              AND #$08        ;CHECK FOR DISK
01305  1DB9  F0 0D              BEQ PRIN        ;IF NONE BRANCH
01306  1DBB  A2 08              LDX #$08        ;DISK FILE #1
01307  1DBD  20 C9 FF           JSR CHKOUT      ;FILE IS OUTPUT
01308  1DC0  68                 PLA             ;GET CHAR
01309  1DC1  48                 PHA             ;RESAVE CHAR
01310  1DC2  20 D2 FF           JSR CHROUT      ;OUTPUT TO DISK
01311  1DC5  20 CC FF           JSR CLRCHN      ;RESET OUTPUT
01312  1DC8  AD 19 12    PRIN   LDA DEVICE      ;GET DEVICE FLAG
01313  1DCB  29 04              AND #$04        ;CHECK FOR PRINTER
01314  1DCD  F0 0D              BEQ SCREN       ;IF NOT BRANCH
01315  1DCF  A2 04              LDX #$04        ;PRINT FILE #4
01316  1DD1  20 C9 FF           JSR CHKOUT      ;FILE IS OUTPUT
01317  1DD4  68                 PLA             ;GET CHAR
01318  1DD5  48                 PHA             ;RESAVE CHAR
01319  1DD6  20 D2 FF           JSR CHROUT      ;OUTPUT TO PRINTER
01320  1DD9  20 CC FF           JSR CLRCHN      ;RESET OUTPUT
01321  1DDC  AD 19 12    SCREN  LDA DEVICE      ;GET DEVICE FLAG
01322  1DDF  29 03              AND #$03        ;CHECK FOR SCREEN
01323  1DE1  F0 05              BEQ PEXIT       ;IF NOT BRANCH
01324  1DE3  68                 PLA             ;GET CHAR
01325  1DE4  48                 PHA             ;RESAVE CHAR
01326  1DE5  20 D2 FF           JSR CHROUT      ;OUTPUT TO SCREEN
01327  1DE8  68          PEXIT  PLA             ;GET CHAR
01328  1DE9  60                 RTS             ;RETURN
01329  1DEA              ;*********************************
01330  1DEA              ; PRINTER OUTPUT ROUTINES
01331  1DEA              ;*********************************
01332  1DEA              ; FINISH OUT PAGE WITH CR
01333  1DEA              ;*********************************
01334  1DEA  20 FD 1D    FINISH JSR CRLFPR      ;PRINT CR
01335  1DED  EE 57 12           INC LISTCT      ;INC LINE COUNT
01336  1DF0  AD 57 12           LDA LISTCT      ;GET COUNT
01337  1DF3  C9 42              CMP #$42        ;66 LINES
01338  1DF5  D0 F3              BNE FINISH      ;IF NOT MORE
01339  1DF7  A9 00              LDA #$00        ;ZERO BYTE
01340  1DF9  8D 57 12           STA LISTCT      ;RESET COUNT
01341  1DFC  60                 RTS             ;RETURN
01342  1DFD              ;*********************************
01343  1DFD              ; PRINT CR TO PRINTER
01344  1DFD              ;*********************************
01345  1DFD  A9 04       CRLFPR LDA #$04        ;DEVICE #4
01346  1DFF  8D 19 12           STA DEVICE      ;SET PRINTER
01347  1E02  20 21 22           JSR CRLF        ;CR
01348  1E05  AD 1A 12           LDA OUTPUT      ;GET DEVICE
01349  1E08  8D 19 12           STA DEVICE      ;RESET DEVICE
01350  1E0B  60                 RTS             ;RETURN






DISASSEMBLER20......PAGE 0029

LINE# LOC   CODE        LINE


01351  1E0C              ;*********************************
01352  1E0C              ; START NEWLINE AND CHECK COUNT
01353  1E0C              ;*********************************
01354  1E0C  20 FD 1D    NEXPTR JSR CRLFPR      ;PRINT CR
01355  1E0F  EE 57 12    NEXLIN INC LISTCT      ;INC LINE COUNT
01356  1E12  AD 57 12           LDA LISTCT      ;GET COUNT
01357  1E15  C9 3C              CMP #$3C        ;48 LINES
01358  1E17  D0 45              BNE LINEOK      ;IF NOT BRANCH
01359  1E19  20 EA 1D           JSR FINISH      ;FINISH PAGE
01360  1E1C              ;*********************************
01361  1E1C              ; START NEW PAGE WITH HEADING
01362  1E1C              ;*********************************
01363  1E1C  AD 19 12    HEADER LDA DEVICE      ;CHECK DEVICE
01364  1E1F  29 04              AND #$04        ;PRINTER?
01365  1E21  F0 3B              BEQ LINEOK      ;IF NOT EXIT
01366  1E23  20 0C 1E           JSR NEXPTR      ;NEXT LINE
01367  1E26  A9 04              LDA #$04        ;DEVICE #4
01368  1E28  8D 19 12           STA DEVICE      ;SET DEVICE
01369  1E2B  A9 CD              LDA #<XTITLE    ;HEADER
01370  1E2D  A0 1E              LDY #>XTITLE    ;
01371  1E2F  20 5D 1D           JSR STRPNT      ;PRINT IT
01372  1E32              ;*********************************
01373  1E32              ; PRINT PAGE COUNT AND HEADER
01374  1E32              ;*********************************
01375  1E32  AE 55 12           LDX PAGECT
01376  1E35  AD 56 12           LDA PAGECT+1
01377  1E38  20 6E 1D           JSR PRTPAG
01378  1E3B  20 0C 1E           JSR NEXPTR
01379  1E3E  20 0C 1E           JSR NEXPTR
01380  1E41  A9 04              LDA #$04
01381  1E43  8D 19 12           STA DEVICE
01382  1E46  A9 E8              LDA #<LTITLE
01383  1E48  A0 1E              LDY #>LTITLE
01384  1E4A  20 5D 1D           JSR STRPNT
01385  1E4D  20 0C 1E           JSR NEXPTR
01386  1E50              ;*********************************
01387  1E50              ; INC PAGE COUNT
01388  1E50              ;*********************************
01389  1E50  EE 55 12           INC PAGECT
01390  1E53  D0 03              BNE PAGER1
01391  1E55  EE 56 12           INC PAGECT+1
01392  1E58  20 0C 1E    PAGER1 JSR NEXPTR
01393  1E5B  20 0C 1E           JSR NEXPTR
01394  1E5E  60          LINEOK RTS 
01395  1E5F              ;*********************************
01396  1E5F              ; SYMBOL TABLE ROUTINES
01397  1E5F              ;*********************************
01398  1E5F              ; START NEWLINE AND CHECK COUNT
01399  1E5F              ;*********************************
01400  1E5F  20 FD 1D    NEXPTS JSR CRLFPR      ;PRINT CR
01401  1E62  EE 57 12           INC LISTCT      ;INC LINE COUNT
01402  1E65  AD 57 12           LDA LISTCT      ;GET COUNT
01403  1E68  C9 3C              CMP #$3C        ;48 LINES
01404  1E6A  D0 1D              BNE HEADOK      ;IF NOT BRANCH
01405  1E6C  20 EA 1D           JSR FINISH      ;FINISH PAGE






DISASSEMBLER20......PAGE 0030

LINE# LOC   CODE        LINE


01406  1E6F              ;*********************************
01407  1E6F              ; START NEW PAGE WITH HEADING
01408  1E6F              ;*********************************
01409  1E6F  20 5F 1E    HEADES JSR NEXPTS      ;NEXT LINE
01410  1E72  A9 05              LDA #<XTITLS    ;HEADER
01411  1E74  A0 1F              LDY #>XTITLS    ;
01412  1E76  20 5D 1D           JSR STRPNT      ;PRINT IT
01413  1E79  20 5F 1E           JSR NEXPTS
01414  1E7C  20 5F 1E           JSR NEXPTS
01415  1E7F  A9 12              LDA #<LTITLS
01416  1E81  A0 1F              LDY #>LTITLS
01417  1E83  20 5D 1D           JSR STRPNT
01418  1E86  20 5F 1E           JSR NEXPTS
01419  1E89  60          HEADOK RTS
01420  1E8A              ;*********************************
01421  1E8A              ; CHECK FOR NEW PAGE FOR SYMBOL
01422  1E8A              ;*********************************
01423  1E8A  AD 57 12    HEADSY LDA LISTCT
01424  1E8D  C9 35              CMP #$35
01425  1E8F  B0 06              BCS HEADFX
01426  1E91  20 5F 1E           JSR NEXPTS
01427  1E94  4C 5F 1E           JMP NEXPTS
01428  1E97  4C EA 1D    HEADFX JMP FINISH
01429  1E9A              ;*********************************
01430  1E9A              ; SCREEN UTILITES
01431  1E9A              ;*********************************
01432  1E9A  AD 19 12    SCROFF LDA DEVICE
01433  1E9D  29 04              AND #$04
01434  1E9F  F0 08              BEQ SCRNO1
01435  1EA1  AD 0F 90           LDA VICREG
01436  1EA4  29 EF              AND #$EF
01437  1EA6  8D 0F 90           STA VICREG
01438  1EA9  60          SCRNO1 RTS
01439  1EAA              ;*********************************
01440  1EAA  AD 0F 90    SCRON  LDA VICREG
01441  1EAD  09 10              ORA #$10
01442  1EAF  8D 0F 90           STA VICREG
01443  1EB2  60                 RTS
01444  1EB3              ;*********************************
01445  1EB3              ; HEX-TO-ASCII TABLE
01446  1EB3              ;*********************************
01447  1EB3  30 31       HEXA   .BYTE '0123456789ABCDEF'
01448  1EC3              ;*********************************
01449  1EC3              ; CONSTANTS FOR PRTNUM ROUTINE
01450  1EC3              ;*********************************
01451  1EC3  01          CONST0 .BYTE $01,$0A,$64,$E8,$10
01451  1EC4  0A 
01451  1EC5  64 
01451  1EC6  E8 
01451  1EC7  10 
01452  1EC8  00          CONST1 .BYTE $00,$00,$00,$03,$27
01452  1EC9  00 
01452  1ECA  00 
01452  1ECB  03 
01452  1ECC  27 






DISASSEMBLER20......PAGE 0031

LINE# LOC   CODE        LINE


01453  1ECD              ;*********************************
01454  1ECD              ; PAGE TITLE
01455  1ECD              ;*********************************
01456  1ECD  44 49       XTITLE .BYTE 'DISASSEMBLER64.......PAGE '
01457  1EE7  00                 .BYTE $00
01458  1EE8  4C 49       LTITLE .BYTE 'LINE# LOC   CODE        LINE'
01459  1F04  00                 .BYTE $00
01460  1F05              ;********************************
01461  1F05              ; SYMBOL PAGE TITLE
01462  1F05              ;********************************
01463  1F05  53 59       XTITLS .BYTE 'SYMBOL TABLE',0
01463  1F11  00 
01464  1F12  53 59       LTITLS .BYTE 'SYMBOL VALUE',0
01464  1F1E  00 
01465  1F1F              ;*********************************
01466  1F1F              ;.FIL 0:MODE.ASM
01467  1F1F              ;*********************************
01468  1F1F              .END
01469  1F1F              ;*********************************
01470  1F1F              .LIB   MODE.ASM
01471  1F1F              ;*********************************
01472  1F1F              ; FILE MODE.ASM
01473  1F1F              ;*********************************
01474  1F1F              ;
01475  1F1F              ;        DISASSEMBLER64
01476  1F1F              ;    SYMBOLIC DISASSEMBLER
01477  1F1F              ;       BY DENTON MARLOWE
01478  1F1F              ;
01479  1F1F              ;  (C)1986 BY DENTON MARLOWE
01480  1F1F              ;
01481  1F1F              ;*********************************
01482  1F1F              ; ADDRESSING MODE UTILITIES
01483  1F1F              ;*********************************
01484  1F1F              ;      DISASSEMBLE ONE LINE
01485  1F1F              ;*********************************
01486  1F1F  20 C9 25    DSLINE JSR DATAOP      ;CHECK FOR DATA
01487  1F22  30 33              BMI BYTT        ;N=1 THEN FOUND
01488  1F24              ;*********************************
01489  1F24              ; CHECK BIT OPTIONS
01490  1F24              ;*********************************
01491  1F24  20 5A 22           JSR GETSL       ;GET BYTE
01492  1F27  C9 2C              CMP #$2C        ;ABSOLUTE BIT
01493  1F29  F0 2F              BEQ BYTBIT      ;
01494  1F2B  C9 24              CMP #$24        ;ZEROPAGE BIT
01495  1F2D  F0 2B              BEQ BYTBIT      ;
01496  1F2F              ;********************************
01497  1F2F              ; PROCESS LINE OF CODE
01498  1F2F              ;********************************
01499  1F2F  AE 12 12    DISL   LDX PASS        ;GET PASS COUNT
01500  1F32  EC 15 12           CPX CPASS       ;LAST
01501  1F35  F0 06              BEQ DISL1       ;IF LAST BRANCH
01502  1F37  20 85 28           JSR OPERN1      ;IF LAST BRANCH
01503  1F3A  4C 57 1F           JMP BYTT        ;NEXT INSTRUCTION
01504  1F3D              ;********************************
01505  1F3D              ; PRINT DISASSEMBLY ADDRESS






DISASSEMBLER20......PAGE 0032

LINE# LOC   CODE        LINE


01506  1F3D              ;********************************
01507  1F3D  20 78 28    DISL1  JSR PRTASS      ;PRINT LINE DATA
01508  1F40  20 B8 21           JSR PRAD        ;PRINT ADDRESS
01509  1F43  20 33 22           JSR SPACE       ;SPACE OVER
01510  1F46              ;********************************
01511  1F46              ; PRINT INSTRUCTION
01512  1F46              ;********************************
01513  1F46  20 5A 22           JSR GETSL       ;GET BYTE
01514  1F49  48                 PHA             ;STORE
01515  1F4A  20 5B 28           JSR MNEMON      ;PRINT MNEMONIC
01516  1F4D  20 33 22           JSR SPACE       ;SPACE OVER
01517  1F50  68                 PLA             ;GET BYTE
01518  1F51  20 8D 28           JSR OPERND      ;PRINT OPERAND
01519  1F54  20 A0 1C    FINAL  JSR NEWLIN      ;START NEW LINE
01520  1F57  4C 38 22    BYTT   JMP NEXTSL      ;NEXT INSTRUCTION
01521  1F5A              ;********************************
01522  1F5A              ;          BIT TRICK
01523  1F5A              ;*********************************
01524  1F5A  AD 12 12    BYTBIT LDA PASS        ;GET PASS COUNT
01525  1F5D  CD 15 12           CMP CPASS       ;LAST
01526  1F60  D0 F5              BNE BYTT        ;IF NOT NEXT BYTE
01527  1F62              ;*********************************
01528  1F62  20 51 22           JSR INCSL
01529  1F65  20 32 24           JSR INTCHA
01530  1F68  08                 PHP
01531  1F69  20 70 22           JSR DECSL
01532  1F6C  28                 PLP
01533  1F6D  90 2B              BCC BYTEXT
01534  1F6F              ;*********************************
01535  1F6F              ;  PRINT LINE DATA FOR .BYTE
01536  1F6F              ;*********************************
01537  1F6F  20 8F 21           JSR COMENT      ;COMENT LINE
01538  1F72  20 25 23           JSR PRTDAT      ;PRINT LINE DATA
01539  1F75  20 B2 22           JSR PRTONE      ;ONE BYTE
01540  1F78  20 B8 21           JSR PRAD        ;PRINT ADDRESS
01541  1F7B  20 33 22           JSR SPACE       ;SPACE OVER
01542  1F7E  A9 89              LDA #<MSGBIT    ;BIT STRING
01543  1F80  A0 22              LDY #>MSGBIT    ;
01544  1F82  20 5D 1D           JSR STRPNT      ;PRINT IT
01545  1F85  20 5A 22           JSR GETSL       ;GET BYTE
01546  1F88  20 47 1D           JSR PRBYT       ;PRINT BYTE
01547  1F8B  20 A0 1C           JSR NEWLIN      ;PRINT BYTE
01548  1F8E  20 51 22           JSR INCSL       ;INC SELECT
01549  1F91  20 95 21           JSR COMET       ;COMENT LINE
01550  1F94  20 70 22           JSR DECSL       ;REASET SELECT
01551  1F97  4C 54 1F           JMP FINAL       ;CR AND NEXT BYTE
01552  1F9A              ;*********************************
01553  1F9A  4C 3D 1F    BYTEXT JMP DISL1
01554  1F9D              ;*********************************
01555  1F9D              ; ADDRESSING MODE UTILITIES
01556  1F9D              ;*********************************
01557  1F9D              ;      ONE-BYTE OPERAND
01558  1F9D              ;********************************
01559  1F9D  20 51 22    ONEBYT JSR INCSL       ;INC TO BYTE
01560  1FA0  20 5A 22           JSR GETSL       ;GET BYTE






DISASSEMBLER20......PAGE 0033

LINE# LOC   CODE        LINE


01561  1FA3  8D 45 12           STA WORKED      ;STORE OPERAND
01562  1FA6  A9 00              LDA #$00        ;ZERO BYTE
01563  1FA8  8D 46 12           STA WORKED+1    ;ZERO HIGH BYTE
01564  1FAB  AD 12 12           LDA PASS        ;GET PASS COUNT
01565  1FAE  CD 13 12           CMP IPASS       ;INTERNAL
01566  1FB1  F0 53              BEQ OPCPUT      ;TABLE OPERAND
01567  1FB3  CD 14 12           CMP EPASS       ;EXTERNAL
01568  1FB6  F0 51              BEQ OPCSYM      ;EXTERNAL EQUATE
01569  1FB8              ;*********************************
01570  1FB8              ; OUTPUT OPERAND
01571  1FB8              ;*********************************
01572  1FB8  20 70 2C           JSR SYMOP       ;CHECK FOR SYMBOL
01573  1FBB  B0 4F              BCS TWOB        ;SYMBOL FOUND
01574  1FBD  20 5C 23           JSR RANGE       ;IS IT INTERNAL
01575  1FC0  90 06              BCC ONEBY       ;GENERATE LABEL
01576  1FC2  20 FE 21           JSR DOLLAR      ;EXTERNAL
01577  1FC5  4C CB 1F           JMP ONEBX       ;PRINT ADDRESS
01578  1FC8  20 AE 21    ONEBY  JSR PRLA        ;PRINT XX
01579  1FCB  AD 45 12    ONEBX  LDA WORKED      ;GET OPERAND
01580  1FCE  4C 47 1D           JMP PRBYT       ;PRINT BYTE
01581  1FD1              ;********************************
01582  1FD1              ;      TWO-BYTE OPERAND
01583  1FD1              ;********************************
01584  1FD1  20 51 22    TWOBYT JSR INCSL       ;INC TO BYTE
01585  1FD4  20 5A 22           JSR GETSL       ;GET BYTE
01586  1FD7  8D 45 12           STA WORKED      ;STORE LOW BYTE
01587  1FDA  20 51 22           JSR INCSL       ;INC TO BYTE
01588  1FDD  20 5A 22           JSR GETSL       ;GET BYTE
01589  1FE0  8D 46 12           STA WORKED+1    ;STORE HIGH BYTE
01590  1FE3  AD 12 12           LDA PASS        ;GET PASS COUNT
01591  1FE6  CD 13 12           CMP IPASS       ;INTERNAL
01592  1FE9  F0 1B              BEQ OPCPUT      ;TABLE OPERNAD
01593  1FEB  CD 14 12           CMP EPASS       ;EXTERNAL
01594  1FEE  F0 19              BEQ OPCSYM      ;EXTERNAL EQUATE
01595  1FF0              ;********************************
01596  1FF0              ;  OUTPUT OPERAND
01597  1FF0              ;********************************
01598  1FF0  20 70 2C           JSR SYMOP       ;CHECK SYMBOL
01599  1FF3  B0 17              BCS TWOB        ;C=1 FOUND ONE
01600  1FF5  20 5C 23           JSR RANGE       ;IS IT INTERNAL
01601  1FF8  90 06              BCC TWOBY       ;GERNERATE LABEL
01602  1FFA  20 FE 21           JSR DOLLAR      ;EXTERNAL
01603  1FFD  4C 03 20           JMP TWOBX       ;
01604  2000  20 AE 21    TWOBY  JSR PRLA        ;PRINT XX
01605  2003  4C F0 21    TWOBX  JMP PWORKD      ;PRINT ADDRESS
01606  2006  4C D3 23    OPCPUT JMP PUTI        ;PUT IN TABLE
01607  2009  4C 70 2C    OPCSYM JMP SYMOP       ;CHECK EXT EQUATE
01608  200C  60          TWOB   RTS             ;RETURN
01609  200D              ;*********************************
01610  200D              ; ILLEGAL MODES, UNUSED OPCODES
01611  200D              ;*********************************
01612  200D  EE 5A 12    ILLEGL INC ERRCT       ;INC ERROR COUNT
01613  2010  D0 03              BNE *+5         ;
01614  2012  EE 5B 12           INC ERRCT+1
01615  2015  A0 28              LDY #>MBYTE






DISASSEMBLER20......PAGE 0034

LINE# LOC   CODE        LINE


01616  2017  A9 42              LDA #<MBYTE
01617  2019  20 5D 1D           JSR STRPNT
01618  201C  20 FE 21           JSR DOLLAR
01619  201F  20 5A 22           JSR GETSL
01620  2022  20 47 1D           JSR PRBYT
01621  2025  20 33 22           JSR SPACE
01622  2028  A0 22              LDY #>ILLMSG
01623  202A  A9 9E              LDA #<ILLMSG
01624  202C  4C 5D 1D           JMP STRPNT
01625  202F              ;********************************
01626  202F              ;      ACCUMULATOR MODE
01627  202F              ;********************************
01628  202F  A9 41       ACC    LDA #'A'        ;ASCII A
01629  2031  4C B3 1D           JMP PCHAR       ;PRINT IT
01630  2034              ;********************************
01631  2034              ;       IMMEDIATE MODE
01632  2034              ;********************************
01633  2034  20 51 22    IMMEDT JSR INCSL       ;INC TO DATA BYTE
01634  2037  AE 12 12           LDX PASS        ;GET PASS
01635  203A  EC 15 12           CPX CPASS       ;LAST PASS
01636  203D  D0 2A              BNE IMEXIT      ;EXIT
01637  203F  A9 23              LDA #'#'        ;ASCII #
01638  2041  20 B3 1D           JSR PCHAR       ;PRINT IT
01639  2044  20 FE 21           JSR DOLLAR      ;PRINT $
01640  2047  20 5A 22           JSR GETSL       ;GET BYTE
01641  204A  48                 PHA             ;STACK IT
01642  204B  20 47 1D           JSR PRBYT       ;PRINT IT
01643  204E  68                 PLA             ;POP IT
01644  204F  20 4A 27           JSR CASCII      ;PRINTABLE ASCII
01645  2052  B0 15              BCS IMEXIT      ;IF NOT EXIT
01646  2054  48                 PHA             ;STACK IT
01647  2055  20 26 22           JSR SPAC6       ;SPACE OVER
01648  2058  20 F9 21           JSR SEMIC       ;COMMENT
01649  205B  A9 27              LDA #'''        ;QUOTE
01650  205D  20 B3 1D           JSR PCHAR       ;PRINT IT
01651  2060  68                 PLA             ;POP IT
01652  2061  20 B3 1D           JSR PCHAR       ;PRINT IT
01653  2064  A9 27              LDA #'''        ;QUOTE
01654  2066  20 B3 1D           JSR PCHAR       ;PRINT IT
01655  2069  60          IMEXIT RTS             ;EXIT
01656  206A              ;*********************************
01657  206A              ;      ZERO PAGE MODE
01658  206A              ;*********************************
01659  206A  4C 9D 1F    ZEROPG JMP ONEBYT      ;PRINT ONE BYTE
01660  206D              ;*********************************
01661  206D              ;      ZERO PAGE,X MODE
01662  206D              ;********************************
01663  206D  20 9D 1F    ZEROX  JSR ONEBYT      ;PRINT ONE BYTE
01664  2070  4C 0D 22           JMP XINDEX      ;PRINT ,X
01665  2073              ;********************************
01666  2073              ;       ZERO PAGE,Y MODE
01667  2073              ;********************************
01668  2073  20 9D 1F    ZEROY  JSR ONEBYT      ;PRINT ONE BYTE
01669  2076  4C 17 22           JMP YINDEX      ;PRINT ,Y
01670  2079              ;*********************************






DISASSEMBLER20......PAGE 0035

LINE# LOC   CODE        LINE


01671  2079              ;         ABSOLUTE MODE
01672  2079              ;*********************************
01673  2079  20 D1 1F    ABSLUT JSR TWOBYT      ;PRINT TWO BYTE
01674  207C  20 70 22           JSR DECSL       ;DEC TO SECOND
01675  207F  20 70 22           JSR DECSL       ;DEC TO OPCODE
01676  2082  20 5A 22           JSR GETSL       ;GET BYTE
01677  2085  48                 PHA
01678  2086  20 51 22           JSR INCSL
01679  2089  20 51 22           JSR INCSL
01680  208C  68                 PLA
01681  208D  C9 4C              CMP #$4C        ;IS IT JMP
01682  208F  D0 0C              BNE ABSEXT      ;IF NOT EXIT
01683  2091  20 A0 1C           JSR NEWLIN      ;NEXT LINE
01684  2094  20 51 22           JSR INCSL
01685  2097  20 95 21           JSR COMET       ;COMMENT LINE
01686  209A  20 70 22           JSR DECSL
01687  209D  60          ABSEXT RTS             ;RETURN
01688  209E              ;*********************************
01689  209E              ;       ABSOLUTE,X MODE
01690  209E              ;********************************
01691  209E  20 D1 1F    ABSX   JSR TWOBYT      ;PRINT TWO BYTE
01692  20A1  4C 0D 22           JMP XINDEX      ;PRINT ,X
01693  20A4              ;********************************
01694  20A4              ;       ABSOLUTE,Y MODE
01695  20A4              ;********************************
01696  20A4  20 D1 1F    ABSY   JSR TWOBYT      ;PRINT TWO BYTE
01697  20A7  4C 17 22           JMP YINDEX      ;PRINT ,Y
01698  20AA              ;********************************
01699  20AA              ;       IMPLIED MODE
01700  20AA              ;********************************
01701  20AA  20 5A 22    IMPLID JSR GETSL       ;GET BYTE
01702  20AD  F0 09              BEQ IMPLI1      ;BRK
01703  20AF  C9 60              CMP #$60        ;CHECK CODE
01704  20B1  F0 05              BEQ IMPLI1      ;RTS
01705  20B3  C9 40              CMP #$40        ;CHECK CODE
01706  20B5  F0 01              BEQ IMPLI1      ;RTI
01707  20B7  60          IMPONE RTS             ;RETURN
01708  20B8  20 A0 1C    IMPLI1 JSR NEWLIN      ;PRINT NEW LINE
01709  20BB  20 51 22           JSR INCSL
01710  20BE  20 95 21           JSR COMET       ;COMMENT LINE
01711  20C1  4C 70 22           JMP DECSL
01712  20C4              ;********************************
01713  20C4              ;       INDIRECT MODE
01714  20C4              ;********************************
01715  20C4  20 03 22    INDRCT JSR LPAREN      ;PRINT (
01716  20C7  20 D1 1F           JSR TWOBYT      ;PRINT TWO BYTE
01717  20CA  20 08 22           JSR RPAREN      ;PRINT )
01718  20CD  20 A0 1C           JSR NEWLIN      ;NEXT LINE
01719  20D0  20 51 22           JSR INCSL
01720  20D3  20 95 21           JSR COMET       ;COMMENT LINE
01721  20D6  4C 70 22           JMP DECSL
01722  20D9              ;********************************
01723  20D9              ;     INDIRECT,X MODE
01724  20D9              ;********************************
01725  20D9  20 03 22    INDX   JSR LPAREN      ;PRINT (






DISASSEMBLER20......PAGE 0036

LINE# LOC   CODE        LINE


01726  20DC  20 6D 20           JSR ZEROX       ;PRINT $HH,X
01727  20DF  4C 08 22           JMP RPAREN      ;PRINT )
01728  20E2              ;********************************
01729  20E2              ;     INDIRECT,Y MODE
01730  20E2              ;********************************
01731  20E2  20 03 22    INDY   JSR LPAREN      ;PRINT (
01732  20E5  20 9D 1F           JSR ONEBYT      ;PRINT ONE BYTE
01733  20E8  20 08 22           JSR RPAREN      ;PRINT )
01734  20EB  4C 17 22           JMP YINDEX      ;PRINT ,Y
01735  20EE              ;*********************************
01736  20EE              ;      RELATIVE MODE
01737  20EE              ;*********************************
01738  20EE  20 51 22    RELATV JSR INCSL       ;INC BYTE POINTER
01739  20F1  AD 12 12           LDA PASS        ;GET PASS COUNT
01740  20F4  CD 14 12           CMP EPASS       ;EXTERNAL
01741  20F7  F0 44              BEQ RELSYM      ;EXIT ON EXTERNAL
01742  20F9  AD 22 12           LDA SELECT      ;GET LOW POINTER
01743  20FC  8D 45 12           STA WORKED      ;STORE TEMP
01744  20FF  AD 23 12           LDA SELECT+1    ;GET HIGH POINTER
01745  2102  8D 46 12           STA WORKED+1    ;STORE TEMP
01746  2105  EE 45 12           INC WORKED      ;ADD 1 TO ADDRESS
01747  2108  D0 03              BNE *+5         ;ZERO MEANS CARRY
01748  210A  EE 46 12           INC WORKED+1    ;INC HIGH ADDRESS
01749  210D  20 5A 22           JSR GETSL       ;GET BYTE
01750  2110  C9 00              CMP #$00        ;IS IT ZERO
01751  2112  10 03              BPL FORWRD      ;IF SO BRANCH
01752  2114  CE 46 12           DEC WORKED+1    ;DEC HIGH POINTER
01753  2117  18          FORWRD CLC             ;CLEAR CARRY FLAG
01754  2118  6D 45 12           ADC WORKED      ;ADD IN OPERAND
01755  211B  90 03              BCC RELND       ;TO SELECT ADDRES
01756  211D  EE 46 12           INC WORKED+1    ;AND NOW POINTS
01757  2120  8D 45 12    RELND  STA WORKED      ;TARGET ADDRESS
01758  2123  AD 12 12           LDA PASS        ;GET PASS COUNT
01759  2126  CD 13 12           CMP IPASS       ;INTERNAL
01760  2129  F0 0F              BEQ RELPUT      ;ADDRESS TABLE
01761  212B  20 70 2C           JSR SYMOP       ;CHECK FOR SYMBOL
01762  212E  B0 0D              BCS RELSYM      ;C=1 SYMBOL
01763  2130  AD 18 12           LDA ROPT        ;CHECK OPTION
01764  2133  C9 01              CMP #$01        ;REL TO * ?
01765  2135  F0 07              BEQ RELPC       ;IF SO DO IT
01766  2137  4C ED 21           JMP PWORK       ;PRINT ADDRESS
01767  213A  4C D3 23    RELPUT JMP PUTI        ;PUT IN TABLE
01768  213D  60          RELSYM RTS             ;RETURN
01769  213E              ;*********************************
01770  213E              ; PRINT RELATIVE TO PC
01771  213E              ;*********************************
01772  213E  20 5A 22    RELPC  JSR GETSL       ;GET BRANCH DATA
01773  2141  48                 PHA             ;SAVE ON STACK
01774  2142  30 07              BMI RELNEG      ;BACKWARD ?
01775  2144  A9 91              LDA #<POSREL
01776  2146  A0 22              LDY #>POSREL
01777  2148  4C 4F 21           JMP RELPM
01778  214B  A9 95       RELNEG LDA #<NEGREL
01779  214D  A0 22              LDY #>NEGREL
01780  214F  20 5D 1D    RELPM  JSR STRPNT






DISASSEMBLER20......PAGE 0037

LINE# LOC   CODE        LINE


01781  2152  68                 PLA             ;GET BRANCH DATA
01782  2153  18                 CLC             ;CLEAR CARRY
01783  2154  69 02              ADC #$02        ;ADD 2 FOR BRANCH
01784  2156  10 05              BPL RELP        ;FORWARD ?
01785  2158  18                 CLC             ;CLEAR CARRY
01786  2159  49 FF              EOR #$FF        ;COMPLMENT
01787  215B  69 01              ADC #$01        ;ADD 1 FOR 2'S
01788  215D  20 47 1D    RELP   JSR PRBYT       ;PRINT BRANCH
01789  2160  20 26 22           JSR SPAC6       ;SPACE
01790  2163  20 F9 21           JSR SEMIC       ;COMMENT CHAR
01791  2166  4C ED 21           JMP PWORK       ;PRINT ADDRESS
01792  2169              ;*********************************
01793  2169              ;  ORGIN LABEL
01794  2169              ;*********************************
01795  2169  20 49 23    ORGIN  JSR PRTOTH      ;PRINT LINE DATA
01796  216C  A9 2A              LDA #'*'        ;PC
01797  216E  20 B3 1D           JSR PCHAR       ;PRINT IT
01798  2171  A9 3D              LDA #'='        ;EQUALS
01799  2173  20 B3 1D           JSR PCHAR       ;PRINT IT
01800  2176  20 FE 21           JSR DOLLAR      ;ASCII $
01801  2179  20 E4 21           JSR PSELEC      ;PRINT ADDRESS
01802  217C  4C A0 1C           JMP NEWLIN      ;START NEWLINE
01803  217F              ;*********************************
01804  217F              ; END OF FILE LABLE
01805  217F              ;*********************************
01806  217F  20 8F 21    EFILE  JSR COMENT      ;COMMENT LINE
01807  2182  20 49 23           JSR PRTOTH      ;PRINT LINE DATA
01808  2185  A9 99              LDA #<MSGEND    ;END MESSAGE
01809  2187  A0 22              LDY #>MSGEND
01810  2189  20 5D 1D           JSR STRPNT      ;PRINT IT
01811  218C  4C A0 1C           JMP NEWLIN      ;NEW LINE
01812  218F              ;*********************************
01813  218F              ; PRINT COMMENT LINE
01814  218F              ;*********************************
01815  218F  20 95 21    COMENT JSR COMET       ;PRINT COMMENT
01816  2192  4C A0 1C           JMP NEWLIN      ;NEXT LINE
01817  2195              ;*********************************
01818  2195  20 49 23    COMET  JSR PRTOTH      ;PRINT LINE DATA
01819  2198  20 F9 21           JSR SEMIC       ;PRINT COMMENT
01820  219B  AD 1C 12           LDA FOROPT
01821  219E  D0 03              BNE CSHORT
01822  21A0  A0 20              LDY #$20        ;COUNTER
01823  21A2  2C                 .BYTE $2C
01824  21A3  A0 10       CSHORT LDY #$10
01825  21A5  A9 2A       COMPT  LDA #'*'        ;STAR
01826  21A7  20 B3 1D           JSR PCHAR       ;PRINT CHAR
01827  21AA  88                 DEY             ;DEC COUNTER
01828  21AB  D0 F8              BNE COMPT       ;20 OR 10 STARS
01829  21AD  60                 RTS             ;RETURN
01830  21AE              ;*********************************
01831  21AE              ;     PRINT SELECTED ADDRESS
01832  21AE              ;*********************************
01833  21AE  A9 58       PRLA   LDA #'X'        ;XX LABEL
01834  21B0  20 B3 1D           JSR PCHAR       ;
01835  21B3  A9 58              LDA #'X'        ;






DISASSEMBLER20......PAGE 0038

LINE# LOC   CODE        LINE


01836  21B5  4C B3 1D           JMP PCHAR       ;
01837  21B8              ;*********************************
01838  21B8              ; PRINT CODE ADDRESS
01839  21B8              ;*********************************
01840  21B8  20 5C 2C    PRAD   JSR SYM         ;CHECK FOR SYMBOLIC
01841  21BB  B0 1F              BCS NPRAD1      ;C=1 SYMBOLIC LABEL
01842  21BD  AD 17 12           LDA XOPT        ;CHECK GENERATION
01843  21C0  F0 10              BEQ P1          ;NO LABELS
01844  21C2  20 32 24           JSR INTCHA      ;IS ADDRESS IN TAB
01845  21C5  B0 0B              BCS P1          ;C=1 YES
01846  21C7  AD 1C 12           LDA FOROPT      ;CHECK FORMAT
01847  21CA  F0 03              BEQ POVER       ;STD FORMAT
01848  21CC  4C 33 22           JMP SPACE       ;ONE SPACE
01849  21CF  4C 26 22    POVER  JMP SPAC6       ;SPACE OVER
01850  21D2              ;*********************************
01851  21D2              ; PRINT ADDRESS AS LABEL
01852  21D2              ;*********************************
01853  21D2  20 AE 21    P1     JSR PRLA        ;PRINT XX
01854  21D5  20 E4 21           JSR PSELEC      ;PRINT ADDRESS
01855  21D8  EA                 NOP
01856  21D9  EA                 NOP
01857  21DA  EA                 NOP
01858  21DB  60          NPRAD  RTS             ;RETURN
01859  21DC              ;*********************************
01860  21DC  AD 1C 12    NPRAD1 LDA FOROPT
01861  21DF  D0 FA              BNE NPRAD
01862  21E1  4C 0D 2D           JMP FIXSYM
01863  21E4              ;*********************************
01864  21E4              ; PRINT SELECT ADDRESS
01865  21E4              ;*********************************
01866  21E4  AD 22 12    PSELEC LDA SELECT      ;LOW BYTE
01867  21E7  AC 23 12           LDY SELECT+1    ;HIGH BYTE
01868  21EA  4C 41 1D           JMP PRBYTS      ;PRINT THEM
01869  21ED              ;*********************************
01870  21ED              ; PRINT WORKED ADDRESS WITH XX
01871  21ED              ;*********************************
01872  21ED  20 AE 21    PWORK  JSR PRLA        ;PRINT XX
01873  21F0              ;*********************************
01874  21F0              ; PRINT WORKED ADDRESS
01875  21F0              ;*********************************
01876  21F0  AD 45 12    PWORKD LDA WORKED      ;LOW BYTE
01877  21F3  AC 46 12           LDY WORKED+1    ;HIGH BYTE
01878  21F6  4C 41 1D           JMP PRBYTS      ;PRINT THEM
01879  21F9              ;********************************
01880  21F9              ; PRINT SEMICOLON FOR COMMENT
01881  21F9              ;********************************
01882  21F9  A9 3B       SEMIC  LDA #';'
01883  21FB  4C B3 1D           JMP PCHAR
01884  21FE              ;********************************
01885  21FE              ; PRINT DOLLAR SIGN FOR HEX
01886  21FE              ;********************************
01887  21FE  A9 24       DOLLAR LDA #'$'
01888  2200  4C B3 1D           JMP PCHAR
01889  2203              ;********************************
01890  2203              ; PRINT LEFT PARENTTHESES






DISASSEMBLER20......PAGE 0039

LINE# LOC   CODE        LINE


01891  2203              ;********************************
01892  2203  A9 28       LPAREN LDA #'('
01893  2205  4C B3 1D           JMP PCHAR
01894  2208              ;********************************
01895  2208              ; PRINT RIGHT PARENTTHESES
01896  2208              ;********************************
01897  2208  A9 29       RPAREN LDA #')'
01898  220A  4C B3 1D           JMP PCHAR
01899  220D              ;********************************
01900  220D              ; PRINT A COMMA AND AN "X"
01901  220D              ;********************************
01902  220D  A9 2C       XINDEX LDA #','
01903  220F  20 B3 1D           JSR PCHAR
01904  2212  A9 58              LDA #'X'
01905  2214  4C B3 1D           JMP PCHAR
01906  2217              ;********************************
01907  2217              ; PRINT A COMMA AND A "Y"
01908  2217              ;********************************
01909  2217  A9 2C       YINDEX LDA #','
01910  2219  20 B3 1D           JSR PCHAR
01911  221C  A9 59              LDA #'Y'
01912  221E  4C B3 1D           JMP PCHAR
01913  2221              ;********************************
01914  2221              ; PRINT CARRAIGE RETURN
01915  2221              ;*********************************
01916  2221  A9 0D       CRLF   LDA #$0D        ;ASCII CR
01917  2223  4C B3 1D           JMP PCHAR       ;PRINT
01918  2226              ;*********************************
01919  2226              ; PRINT SIX SPACES
01920  2226              ;*********************************
01921  2226  A9 05       SPAC6  LDA #$05
01922  2228  8D 51 12    SPACM  STA TEMP
01923  222B  20 33 22    SPAC   JSR SPACE
01924  222E  CE 51 12           DEC TEMP
01925  2231  D0 F8              BNE SPAC
01926  2233              ;*********************************
01927  2233              ; PRINT SPACE
01928  2233              ;*********************************
01929  2233  A9 20       SPACE  LDA #$20        ;ASCII SPACE
01930  2235  4C B3 1D           JMP PCHAR       ;PRINT
01931  2238              ;*********************************
01932  2238              ; SELECT NEXT BYTE
01933  2238              ;*********************************
01934  2238  AD 23 12    NEXTSL LDA SELECT+1
01935  223B  CD 21 12           CMP EA+1
01936  223E  90 0A              BCC SLOK
01937  2240  D0 0D              BNE NOINC
01938  2242  AD 22 12           LDA SELECT
01939  2245  CD 20 12           CMP EA
01940  2248  B0 05              BCS NOINC
01941  224A  20 51 22    SLOK   JSR INCSL
01942  224D  18                 CLC
01943  224E  60                 RTS
01944  224F  38          NOINC  SEC
01945  2250  60                 RTS






DISASSEMBLER20......PAGE 0040

LINE# LOC   CODE        LINE


01946  2251              ;*********************************
01947  2251              ; INC SLECTED BYTE
01948  2251              ;*********************************
01949  2251  EE 22 12    INCSL  INC SELECT
01950  2254  D0 03              BNE *+5
01951  2256  EE 23 12           INC SELECT+1
01952  2259  60                 RTS
01953  225A              ;*********************************
01954  225A              ; GET SELECTED BYTE
01955  225A              ;*********************************
01956  225A  18          GETSL  CLC
01957  225B  AD 22 12           LDA SELECT
01958  225E  6D 24 12           ADC OFFSET
01959  2261  85 02              STA ZEROUR
01960  2263  AD 23 12           LDA SELECT+1
01961  2266  6D 25 12           ADC OFFSET+1
01962  2269  85 03              STA ZEROUR+1
01963  226B  A0 00              LDY #$00
01964  226D  B1 02              LDA (ZEROUR),Y
01965  226F  60                 RTS
01966  2270              ;*********************************
01967  2270              ; DEC SLECTED BYTE
01968  2270              ;*********************************
01969  2270  AD 22 12    DECSL  LDA SELECT
01970  2273  D0 03              BNE *+5
01971  2275  CE 23 12           DEC SELECT+1
01972  2278  CE 22 12           DEC SELECT
01973  227B  60                 RTS
01974  227C              ;*********************************
01975  227C              ; INITIALIZE SELECT
01976  227C              ;*********************************
01977  227C  AD 1E 12    INTSA  LDA SA
01978  227F  8D 22 12           STA SELECT
01979  2282  AD 1F 12           LDA SA+1
01980  2285  8D 23 12           STA SELECT+1
01981  2288  60                 RTS
01982  2289              ;*********************************
01983  2289              ; ASCII STRING DATA
01984  2289              ;*********************************
01985  2289  2E 42       MSGBIT .BYTE '.BYTE $',0
01985  2290  00 
01986  2291  2A 2B 24    POSREL .BYTE '*+$',0
01986  2294  00 
01987  2295  2A 2D 24    NEGREL .BYTE '*-$',0
01987  2298  00 
01988  2299  2E 45       MSGEND .BYTE '.END',0
01988  229D  00 
01989  229E  3B 3F       ILLMSG .BYTE ';??? ILLEGAL OPCODE',0
01989  22B1  00 
01990  22B2              ;*********************************
01991  22B2              ; PRINT ONE BYTE OPCODE DATA
01992  22B2              ;*********************************
01993  22B2  20 5A 22    PRTONE JSR GETSL       ;GET BYTE
01994  22B5  20 47 1D           JSR PRBYT       ;PRINT BYTE
01995  22B8  AD 1C 12           LDA FOROPT






DISASSEMBLER20......PAGE 0041

LINE# LOC   CODE        LINE


01996  22BB  F0 03              BEQ PRTON1
01997  22BD  A9 07              LDA #$07
01998  22BF  2C                 .BYTE $2C
01999  22C0  A9 09       PRTON1 LDA #$09        ;10 SPACES
02000  22C2  20 28 22           JSR SPACM       ;
02001  22C5  4C 1E 23           JMP PRTEST      ;RESET I/O DEVICE
02002  22C8              ;*********************************
02003  22C8              ; PRINT TWO BYTE OPCODE DATA
02004  22C8              ;*********************************
02005  22C8  20 5A 22    PRTTWO JSR GETSL       ;GET BYTE
02006  22CB  20 47 1D           JSR PRBYT       ;PRINT BYTE
02007  22CE  20 33 22           JSR SPACE       ;
02008  22D1  20 51 22           JSR INCSL       ;INC TO OPERAND
02009  22D4  20 5A 22           JSR GETSL       ;GET BYTE
02010  22D7  20 47 1D           JSR PRBYT       ;PRINT IT
02011  22DA  AD 1C 12           LDA FOROPT
02012  22DD  F0 03              BEQ PRTTW1
02013  22DF  A9 04              LDA #$04
02014  22E1  2C                 .BYTE $2C
02015  22E2  A9 06       PRTTW1 LDA #$06        ;7 SPACES
02016  22E4  20 28 22           JSR SPACM       ;
02017  22E7  20 70 22           JSR DECSL       ;RESET POINTER
02018  22EA  4C 1E 23           JMP PRTEST      ;RESET I/O DEVICE
02019  22ED              ;*********************************
02020  22ED              ; PRINT THREE BYTE OPCODE DATA
02021  22ED              ;*********************************
02022  22ED  20 5A 22    PRTTHE JSR GETSL       ;GET BYTE
02023  22F0  20 47 1D           JSR PRBYT       ;PRINT BYTE
02024  22F3  20 33 22           JSR SPACE       ;
02025  22F6  20 51 22           JSR INCSL       ;INC TO OPERAND
02026  22F9  20 5A 22           JSR GETSL       ;GET BYTE
02027  22FC  20 47 1D           JSR PRBYT       ;PRINT IT
02028  22FF  20 33 22           JSR SPACE       ;
02029  2302  20 51 22           JSR INCSL       ;INC TO LAST BYTE
02030  2305  20 5A 22           JSR GETSL       ;GET BYTE
02031  2308  20 47 1D           JSR PRBYT       ;PRINT IT
02032  230B  AD 1C 12           LDA FOROPT
02033  230E  F0 03              BEQ PRTTH1
02034  2310  A9 01              LDA #$01
02035  2312  2C                 .BYTE $2C
02036  2313  A9 03       PRTTH1 LDA #$03        ;4 SPACES
02037  2315  20 28 22           JSR SPACM       ;
02038  2318  20 70 22           JSR DECSL       ;DEC POINTER
02039  231B  20 70 22           JSR DECSL       ;DEC POINTER
02040  231E              ;*********************************
02041  231E              ; RESET I/O DEVICE (DISK IF USED)
02042  231E              ;*********************************
02043  231E  AD 1A 12    PRTEST LDA OUTPUT      ;GET I/O DEVICE
02044  2321  8D 19 12           STA DEVICE      ;RESET I/O
02045  2324  60                 RTS             ;RETURN
02046  2325              ;*********************************
02047  2325              ; PRINT LINE DATA FOR OPCODE
02048  2325              ;*********************************
02049  2325  AD 19 12    PRTDAT LDA DEVICE      ;OUTPUT DEVICE
02050  2328  29 07              AND #$07        ;MASK DISK






DISASSEMBLER20......PAGE 0042

LINE# LOC   CODE        LINE


02051  232A  8D 19 12           STA DEVICE      ;RESET
02052  232D  AD 1C 12           LDA FOROPT      ;CHECK FORMAT
02053  2330  D0 0F              BNE PRTDAF      ;SKIP LINE #
02054  2332  AD 59 12           LDA LINECT+1    ;HIH BYTE LINE
02055  2335  AE 58 12           LDX LINECT      ;LOW BYTE LINE
02056  2338  20 79 1D           JSR PRTNUM      ;PRINT NUMBER
02057  233B  20 33 22           JSR SPACE       ;
02058  233E  20 33 22           JSR SPACE       ;
02059  2341  20 E4 21    PRTDAF JSR PSELEC      ;PRINT ADDRESS
02060  2344  A9 01              LDA #$01        ;2 SPACES
02061  2346  4C 28 22           JMP SPACM       ;
02062  2349              ;*********************************
02063  2349              ; PRINT LINE DATA FOR OTHER LINES
02064  2349              ;*********************************
02065  2349  20 25 23    PRTOTH JSR PRTDAT      ;PRINT LINE
02066  234C  AD 1C 12           LDA FOROPT
02067  234F  F0 03              BEQ PRTOT1
02068  2351  A9 09              LDA #$09
02069  2353  2C                 .BYTE $2C
02070  2354  A9 0B       PRTOT1 LDA #$0B        ;12 SPACES
02071  2356  20 28 22           JSR SPACM       ;
02072  2359  4C 1E 23           JMP PRTEST      ;RESET I/O
02073  235C              ;********************************
02074  235C              ;.FIL 0:INTERNAL.ASM
02075  235C              ;********************************
02076  235C              .END
02077  235C              ;*********************************
02078  235C              .LIB   INTERNAL.ASM
02079  235C              ;*********************************
02080  235C              ; FILE INTERNAL.ASM
02081  235C              ;*********************************
02082  235C              ;
02083  235C              ;        DISASSEMBLER64
02084  235C              ;    SYMBOLIC DISASSEMBLER
02085  235C              ;       BY DENTON MARLOWE
02086  235C              ;
02087  235C              ;  (C)1986 BY DENTON MARLOWE
02088  235C              ;
02089  235C              ;*********************************
02090  235C              ; INTERNAL ADDRESS TABLE ROUTINES
02091  235C              ;*********************************
02092  235C              ; CHECK FOR OUT OF RANGE ADDRESS
02093  235C              ;*********************************
02094  235C  AD 46 12    RANGE  LDA WORKED+1    ;GET HIGH
02095  235F  CD 29 12           CMP EAGOL+1     ;COMPARE
02096  2362  90 0A              BCC RANG        ;< CHECK START
02097  2364  D0 1A              BNE ROUT        ;> OUT OF RANGE
02098  2366  AD 45 12           LDA WORKED      ;GET LOW
02099  2369  CD 28 12           CMP EAGOL       ;COMPARE
02100  236C  B0 12              BCS ROUT        ;> OUT OF RANGE
02101  236E              ;*********************************
02102  236E  AD 46 12    RANG   LDA WORKED+1    ;GET HIGH
02103  2371  CD 27 12           CMP SAGOL+1     ;COMPARE
02104  2374  90 0A              BCC ROUT        ;< OUT OF RANGE
02105  2376  AD 45 12           LDA WORKED      ;GET LOW






DISASSEMBLER20......PAGE 0043

LINE# LOC   CODE        LINE


02106  2379  CD 26 12           CMP SAGOL       ;COMPARE
02107  237C  90 02              BCC ROUT        ;< OUT OF RANGE
02108  237E              ;*********************************
02109  237E  18                 CLC             ;C=0 IN RANGE
02110  237F  60                 RTS
02111  2380  38          ROUT   SEC             ;C=1 OUT RANGE
02112  2381  60                 RTS
02113  2382              ;*********************************
02114  2382              ; INITIALIZE INTERNAL TABLE
02115  2382              ;*********************************
02116  2382  AD EF 12    INITIN LDA DATABE
02117  2385  8D 30 12           STA TABINS
02118  2388  8D 32 12           STA TABINE
02119  238B  AD F0 12           LDA DATABE+1
02120  238E  8D 31 12           STA TABINS+1
02121  2391  8D 33 12           STA TABINE+1
02122  2394              ;*********************************
02123  2394              ; INITIALIZE INTERNAL TABLE POINT
02124  2394              ;*********************************
02125  2394  AD 30 12    INTSET LDA TABINS
02126  2397  8D 2E 12           STA TABINP
02127  239A  AD 31 12           LDA TABINS+1
02128  239D  8D 2F 12           STA TABINP+1
02129  23A0  60                 RTS
02130  23A1              ;*********************************
02131  23A1              ; SAVE INTERNAL TABLE POINTERS
02132  23A1              ;*********************************
02133  23A1  AD 30 12    SAVINT LDA TABINS
02134  23A4  8D 4B 12           STA SAVES
02135  23A7  AD 31 12           LDA TABINS+1
02136  23AA  8D 4C 12           STA SAVES+1
02137  23AD  AD 32 12           LDA TABINE
02138  23B0  8D 4D 12           STA SAVEE
02139  23B3  AD 33 12           LDA TABINE+1
02140  23B6  8D 4E 12           STA SAVEE+1
02141  23B9  60                 RTS
02142  23BA              ;*********************************
02143  23BA              ; RESTORE INTERNAL TABLE POINTERS
02144  23BA              ;*********************************
02145  23BA  AD 4B 12    RESINT LDA SAVES
02146  23BD  8D 30 12           STA TABINS
02147  23C0  AD 4C 12           LDA SAVES+1
02148  23C3  8D 31 12           STA TABINS+1
02149  23C6  AD 4D 12           LDA SAVEE
02150  23C9  8D 32 12           STA TABINE
02151  23CC  AD 4E 12           LDA SAVEE+1
02152  23CF  8D 33 12           STA TABINE+1
02153  23D2  60                 RTS
02154  23D3              ;*********************************
02155  23D3              ; PUT ADDRESS IN INTERNAL TABLE
02156  23D3              ;*********************************
02157  23D3  38          PUTI   SEC
02158  23D4  AD 30 12           LDA TABINS
02159  23D7  ED 32 12           SBC TABINE
02160  23DA  8D 51 12           STA TEMP






DISASSEMBLER20......PAGE 0044

LINE# LOC   CODE        LINE


02161  23DD  AD 31 12           LDA TABINS+1
02162  23E0  ED 33 12           SBC TABINE+1
02163  23E3  0D 51 12           ORA TEMP
02164  23E6  F0 05              BEQ PUIT
02165  23E8  20 3E 24           JSR INTCHK      ;IS ADDRESS IN TAB
02166  23EB  B0 23              BCS INTEXT      ;IF SO EXIT
02167  23ED  AD 32 12    PUIT   LDA TABINE      ;GET LOW END
02168  23F0  85 02              STA ZEROUR      ;STORE
02169  23F2  AD 33 12           LDA TABINE+1    ;GET HIGH END
02170  23F5  85 03              STA ZEROUR+1    ;STORE
02171  23F7  A0 00              LDY #$00        ;OFFSET
02172  23F9  AD 45 12           LDA WORKED      ;GET LOW ADDRESS
02173  23FC  91 02              STA (ZEROUR),Y  ;PUT IN TABLE
02174  23FE  C8                 INY             ;OFFSET TO HIGH
02175  23FF  AD 46 12           LDA WORKED+1    ;GET HIGH ADDRESS
02176  2402  91 02              STA (ZEROUR),Y  ;PUT IN TABLE
02177  2404  20 F9 21           JSR SEMIC
02178  2407  20 F0 21           JSR PWORKD
02179  240A              ;*********************************
02180  240A  20 12 24           JSR INCIE       ;INC TO HIGH & LOW
02181  240D  4C 12 24           JMP INCIE       ;INC TO HIGH & LOW
02182  2410  18          INTEXT CLC             ;C=0 FOR NO MATCH
02183  2411  60                 RTS             ;RETURN
02184  2412              ;*********************************
02185  2412              ; INC INTERNAL END TABLE POINTER
02186  2412              ;*********************************
02187  2412  EE 32 12    INCIE  INC TABINE
02188  2415  D0 03              BNE *+5
02189  2417  EE 33 12           INC TABINE+1
02190  241A              ;*********************************
02191  241A              ; INC INTERNAL ADDRESS POINTER
02192  241A              ;*********************************
02193  241A  EE 2E 12    INCI   INC TABINP
02194  241D  D0 03              BNE *+5
02195  241F  EE 2F 12           INC TABINP+1
02196  2422  60                 RTS
02197  2423              ;*********************************
02198  2423              ; GET BYTE FROM INTERNAL TABLE
02199  2423              ;*********************************
02200  2423  AD 2E 12    GETI   LDA TABINP
02201  2426  85 02              STA ZEROUR
02202  2428  AD 2F 12           LDA TABINP+1
02203  242B  85 03              STA ZEROUR+1
02204  242D  A0 00              LDY #$00
02205  242F  B1 02              LDA (ZEROUR),Y
02206  2431  60                 RTS
02207  2432              ;*********************************
02208  2432              ; CHECK IF ADDRESS IN TABLE
02209  2432              ;*********************************
02210  2432  AD 22 12    INTCHA LDA SELECT
02211  2435  8D 45 12           STA WORKED
02212  2438  AD 23 12           LDA SELECT+1
02213  243B  8D 46 12           STA WORKED+1
02214  243E              ;*********************************
02215  243E  20 94 23    INTCHK JSR INTSET






DISASSEMBLER20......PAGE 0045

LINE# LOC   CODE        LINE


02216  2441  20 23 24    INTCH  JSR GETI
02217  2444  8D 47 12           STA WORKER
02218  2447  20 1A 24           JSR INCI
02219  244A  20 23 24           JSR GETI
02220  244D  8D 48 12           STA WORKER+1
02221  2450  38                 SEC
02222  2451  AD 46 12           LDA WORKED+1
02223  2454  ED 48 12           SBC WORKER+1
02224  2457  8D 51 12           STA TEMP
02225  245A  AD 45 12           LDA WORKED
02226  245D  ED 47 12           SBC WORKER
02227  2460  0D 51 12           ORA TEMP
02228  2463  F0 17              BEQ INTMAT
02229  2465              ;*********************************
02230  2465  20 1A 24           JSR INCI
02231  2468  AD 2F 12           LDA TABINP+1
02232  246B  CD 33 12           CMP TABINE+1
02233  246E  90 D1              BCC INTCH
02234  2470  D0 08              BNE INTEND
02235  2472  AD 2E 12           LDA TABINP
02236  2475  CD 32 12           CMP TABINE
02237  2478  90 C7              BCC INTCH
02238  247A              ;*********************************
02239  247A  18          INTEND CLC
02240  247B  60                 RTS
02241  247C  38          INTMAT SEC
02242  247D  60                 RTS
02243  247E              ;*********************************
02244  247E              ; 2 BYTE TABLE SORT ROUTINE
02245  247E              ;*********************************
02246  247E  20 94 23    SORT   JSR INTSET      ;SET POINTERS
02247  2481  AD 30 12           LDA TABINS
02248  2484  8D 34 12           STA SMALLS
02249  2487  8D 36 12           STA SMALLP
02250  248A  AD 31 12           LDA TABINS+1
02251  248D  8D 35 12           STA SMALLS+1
02252  2490  8D 37 12           STA SMALLP+1
02253  2493              ;*********************************
02254  2493              ; PUT FIRST WORD INTO TEMP
02255  2493              ;*********************************
02256  2493  20 23 24    SORT1  JSR GETI
02257  2496  8D 51 12           STA TEMP
02258  2499  20 1A 24           JSR INCI
02259  249C  20 23 24           JSR GETI
02260  249F  8D 52 12           STA TEMP+1
02261  24A2              ;*********************************
02262  24A2              ; INC TO NEXT WORD AND COMPARE
02263  24A2              ; SMALLP POINTS TO LOW BYTE
02264  24A2              ;*********************************
02265  24A2  20 1A 24    SORT2  JSR INCI
02266  24A5  AD 2E 12           LDA TABINP
02267  24A8  8D 36 12           STA SMALLP
02268  24AB  AD 2F 12           LDA TABINP+1
02269  24AE  8D 37 12           STA SMALLP+1
02270  24B1  20 23 24           JSR GETI






DISASSEMBLER20......PAGE 0046

LINE# LOC   CODE        LINE


02271  24B4  8D 45 12           STA WORKED
02272  24B7  20 1A 24           JSR INCI
02273  24BA  AD 2F 12           LDA TABINP+1
02274  24BD  CD 33 12           CMP TABINE+1
02275  24C0  90 0D              BCC T2
02276  24C2  D0 08              BNE S3
02277  24C4  AD 2E 12           LDA TABINP
02278  24C7  CD 32 12           CMP TABINE
02279  24CA  90 03              BCC T2
02280  24CC  4C 24 25    S3     JMP SORT3
02281  24CF  20 23 24    T2     JSR GETI
02282  24D2  8D 46 12           STA WORKED+1
02283  24D5  CD 52 12           CMP TEMP+1
02284  24D8  90 0D              BCC SMALL
02285  24DA  D0 08              BNE LARGE
02286  24DC  AD 45 12           LDA WORKED
02287  24DF  CD 51 12           CMP TEMP
02288  24E2  90 03              BCC SMALL
02289  24E4  4C A2 24    LARGE  JMP SORT2
02290  24E7              ;*********************************
02291  24E7              ; WORD IS SMALL THAN TEMP PUT IT
02292  24E7              ; WHERE TEMP CAME FROM (SMALLS)
02293  24E7              ;*********************************
02294  24E7  AD 34 12    SMALL  LDA SMALLS
02295  24EA  85 02              STA ZEROUR
02296  24EC  AD 35 12           LDA SMALLS+1
02297  24EF  85 03              STA ZEROUR+1
02298  24F1  A0 00              LDY #$00
02299  24F3  AD 45 12           LDA WORKED
02300  24F6  91 02              STA (ZEROUR),Y
02301  24F8  C8                 INY
02302  24F9  AD 46 12           LDA WORKED+1
02303  24FC  91 02              STA (ZEROUR),Y
02304  24FE              ;*********************************
02305  24FE              ; PUT TEMP IN PLACE OF WORD
02306  24FE              ; SMALLP POINTS TO LO ADDRESS
02307  24FE              ;*********************************
02308  24FE  AD 36 12           LDA SMALLP
02309  2501  85 02              STA ZEROUR
02310  2503  AD 37 12           LDA SMALLP+1
02311  2506  85 03              STA ZEROUR+1
02312  2508  A0 00              LDY #$00
02313  250A  AD 51 12           LDA TEMP
02314  250D  91 02              STA (ZEROUR),Y
02315  250F  C8                 INY
02316  2510  AD 52 12           LDA TEMP+1
02317  2513  91 02              STA (ZEROUR),Y
02318  2515              ;*********************************
02319  2515  AD 34 12           LDA SMALLS
02320  2518  8D 2E 12           STA TABINP
02321  251B  AD 35 12           LDA SMALLS+1
02322  251E  8D 2F 12           STA TABINP+1
02323  2521  4C 93 24           JMP SORT1
02324  2524              ;*********************************
02325  2524              ; IF AFTER SCAN TO TABLE GOTO NEXT






DISASSEMBLER20......PAGE 0047

LINE# LOC   CODE        LINE


02326  2524              ; WORD IN TABLE FOR CHECK
02327  2524              ;*********************************
02328  2524  18          SORT3  CLC
02329  2525  AD 34 12           LDA SMALLS
02330  2528  69 02              ADC #$02
02331  252A  8D 34 12           STA SMALLS
02332  252D  8D 2E 12           STA TABINP
02333  2530  AD 35 12           LDA SMALLS+1
02334  2533  69 00              ADC #$00
02335  2535  8D 35 12           STA SMALLS+1
02336  2538  8D 2F 12           STA TABINP+1
02337  253B  AD 35 12           LDA SMALLS+1
02338  253E  CD 33 12           CMP TABINE+1
02339  2541  90 0A              BCC SORTOK
02340  2543  D0 0B              BNE SORT4
02341  2545  AD 34 12           LDA SMALLS
02342  2548  CD 32 12           CMP TABINE
02343  254B  B0 03              BCS SORT4
02344  254D  4C 93 24    SORTOK JMP SORT1
02345  2550              ;*********************************
02346  2550  4C 94 23    SORT4  JMP INTSET
02347  2553              ;*********************************
02348  2553              ; PRINT INTERNAL ADDRESS TABLE
02349  2553              ;*********************************
02350  2553  38          INTPRT SEC
02351  2554  AD 30 12           LDA TABINS
02352  2557  ED 32 12           SBC TABINE
02353  255A  8D 51 12           STA TEMP
02354  255D  AD 31 12           LDA TABINS+1
02355  2560  ED 33 12           SBC TABINE+1
02356  2563  0D 51 12           ORA TEMP
02357  2566  D0 01              BNE INTOUT
02358  2568  60                 RTS
02359  2569              ;*********************************
02360  2569  20 8A 1E    INTOUT JSR HEADSY
02361  256C  20 7E 24           JSR SORT
02362  256F              ;*********************************
02363  256F  A9 03       LOOP1  LDA #$03
02364  2571  8D 52 12           STA SAVA
02365  2574  20 23 24    INTPR  JSR GETI
02366  2577  8D 45 12           STA WORKED
02367  257A  20 1A 24           JSR INCI
02368  257D  20 23 24           JSR GETI
02369  2580  8D 46 12           STA WORKED+1
02370  2583  20 33 22           JSR SPACE
02371  2586  20 70 2C           JSR SYMOP
02372  2589  90 0B              BCC INTPRS
02373  258B  20 0D 2D           JSR FIXSYM
02374  258E  A9 02              LDA #$02
02375  2590  20 28 22           JSR SPACM
02376  2593  4C 9B 25           JMP INTPRM
02377  2596  A9 08       INTPRS LDA #$08
02378  2598  20 28 22           JSR SPACM
02379  259B  20 F0 21    INTPRM JSR PWORKD
02380  259E  20 1A 24           JSR INCI






DISASSEMBLER20......PAGE 0048

LINE# LOC   CODE        LINE


02381  25A1  AD 2F 12           LDA TABINP+1
02382  25A4  CD 33 12           CMP TABINE+1
02383  25A7  90 0A              BCC PRTOK
02384  25A9  D0 15              BNE PREND
02385  25AB  AD 2E 12           LDA TABINP
02386  25AE  CD 32 12           CMP TABINE
02387  25B1  B0 0D              BCS PREND
02388  25B3  CE 52 12    PRTOK  DEC SAVA
02389  25B6  30 0B              BMI LOOP2
02390  25B8  A9 02              LDA #$02
02391  25BA  20 28 22           JSR SPACM
02392  25BD  4C 74 25           JMP INTPR
02393  25C0  4C 5F 1E    PREND  JMP NEXPTS
02394  25C3  20 5F 1E    LOOP2  JSR NEXPTS
02395  25C6  4C 6F 25           JMP LOOP1
02396  25C9              ;*********************************
02397  25C9              ;.FIL 0:ASC.ASM
02398  25C9              ;*********************************
02399  25C9              .END
02400  25C9              ;*********************************
02401  25C9              .LIB   ASC.ASM
02402  25C9              ;*********************************
02403  25C9              ; FILE ASC.ASM
02404  25C9              ;*********************************
02405  25C9              ;
02406  25C9              ;        DISASSEMBLER64
02407  25C9              ;    SYMBOLIC DISASSEMBLER
02408  25C9              ;       BY DENTON MARLOWE
02409  25C9              ;
02410  25C9              ;  (C)1986 BY DENTON MARLOWE
02411  25C9              ;
02412  25C9              ;*********************************
02413  25C9              ; DATA TABLE HANDLER
02414  25C9              ;*********************************
02415  25C9  AD E9 12    DATAOP LDA NDATA       ;GET NUM TABLES
02416  25CC  F0 07              BEQ ENDAX       ;IF ZERO EXIT
02417  25CE  A9 00              LDA #$00        ;ZERO BYTE
02418  25D0  8D E7 12           STA CDATA       ;SET FIRST TABLE
02419  25D3  F0 03              BEQ DATAO1      ;
02420  25D5  4C B9 26    ENDAX  JMP ENDDAT      ;
02421  25D8              ;*********************************
02422  25D8  AD E7 12    DATAO1 LDA CDATA       ;CURRENT TABLE
02423  25DB  CD E9 12           CMP NDATA       ;LAST TABLE DONE
02424  25DE  F0 F5              BEQ ENDAX       ;IF SO EXIT
02425  25E0  0A                 ASL A           ;CDATA*2
02426  25E1  0A                 ASL A           ;CDATA*4
02427  25E2  18                 CLC
02428  25E3  6D E7 12           ADC CDATA       ;CDATA*5
02429  25E6  A8                 TAY             ;PUT INTO INDEX
02430  25E7  B9 F1 12           LDA TDATA,Y     ;START LOW
02431  25EA  8D 47 12           STA WORKER      ;STORE
02432  25ED  C8                 INY             ;INC OFFSET
02433  25EE  B9 F1 12           LDA TDATA,Y     ;START HIGH
02434  25F1  8D 48 12           STA WORKER+1    ;STORE
02435  25F4  38                 SEC             ;C=1






DISASSEMBLER20......PAGE 0049

LINE# LOC   CODE        LINE


02436  25F5  AD 47 12           LDA WORKER      ;
02437  25F8  ED 22 12           SBC SELECT      ;
02438  25FB  8D 51 12           STA TEMP        ;
02439  25FE  AD 48 12           LDA WORKER+1    ;
02440  2601  ED 23 12           SBC SELECT+1    ;
02441  2604  0D 51 12           ORA TEMP        ;
02442  2607  F0 05              BEQ DATAO2      ;MATCH
02443  2609  EE E7 12           INC CDATA       ;NEXT TABLE
02444  260C  D0 CA              BNE DATAO1      ;CHECK FOR MATCH
02445  260E              ;*********************************
02446  260E              ; GET TABLE DATA
02447  260E              ;*********************************
02448  260E  C8          DATAO2 INY             ;INC OFFSET
02449  260F  B9 F1 12           LDA TDATA,Y     ;END LOW
02450  2612  8D E4 12           STA EAS         ;STORE
02451  2615  C8                 INY             ;INC OFFSET
02452  2616  B9 F1 12           LDA TDATA,Y     ;END HIGH
02453  2619  8D E5 12           STA EAS+1       ;STORE
02454  261C  C8                 INY             ;INC OFFSET
02455  261D  B9 F1 12           LDA TDATA,Y     ;DATA TYPE
02456  2620  8D E6 12           STA TEXTER      ;STORE
02457  2623  C9 53              CMP #'S'        ;IS IT SKIPPER
02458  2625  D0 23              BNE ASCCCC      ;
02459  2627              ;*********************************
02460  2627              ; SKIP RANGE OF ADDRESSES
02461  2627              ;*********************************
02462  2627  AD 12 12           LDA PASS
02463  262A  CD 15 12           CMP CPASS
02464  262D  D0 1B              BNE ASCCCC
02465  262F  AD E4 12           LDA EAS
02466  2632  8D 22 12           STA SELECT
02467  2635  AD E5 12           LDA EAS+1
02468  2638  8D 23 12           STA SELECT+1
02469  263B  20 51 22           JSR INCSL
02470  263E  20 69 21           JSR ORGIN
02471  2641  20 70 22           JSR DECSL
02472  2644  20 8F 21           JSR COMENT
02473  2647  4C B6 26           JMP DATUT
02474  264A              ;*********************************
02475  264A              ; CHECK PASS
02476  264A              ;*********************************
02477  264A  AD 12 12    ASCCCC LDA PASS
02478  264D  CD 14 12           CMP EPASS       ;EXTERNAL
02479  2650  D0 0F              BNE ASCKK
02480  2652  AD E4 12    SKIPER LDA EAS
02481  2655  8D 22 12           STA SELECT
02482  2658  AD E5 12           LDA EAS+1
02483  265B  8D 23 12           STA SELECT+1
02484  265E  4C B6 26           JMP DATUT
02485  2661              ;*********************************
02486  2661              ; DISASSEMBLER LOOP FOR DATA
02487  2661              ;*********************************
02488  2661  AD 12 12    ASCKK  LDA PASS        ;GET PASS
02489  2664  CD 15 12           CMP CPASS       ;IS IT LAST
02490  2667  D0 0E              BNE ASCI1       ;NO PRINT






DISASSEMBLER20......PAGE 0050

LINE# LOC   CODE        LINE


02491  2669  20 8F 21           JSR COMENT      ;COMMENT LINE
02492  266C  AD 12 12    ASCII  LDA PASS        ;GET PASS
02493  266F  CD 15 12           CMP CPASS       ;IS IT LAST
02494  2672  D0 03              BNE ASCI1       ;NO PRINT
02495  2674  20 25 23           JSR PRTDAT      ;PRINT LINE
02496  2677  20 BC 26    ASCI1  JSR ACHECK      ;DIS ONE LINE
02497  267A  B0 29              BCS ASCIIQ      ;IF EA STOP
02498  267C              ;*********************************
02499  267C  20 E1 FF           JSR STOP
02500  267F  F0 24              BEQ ASCIIQ
02501  2681  20 E4 FF           JSR GETIN
02502  2684  F0 E6              BEQ ASCII
02503  2686  C9 20              CMP #' '
02504  2688  D0 E2              BNE ASCII
02505  268A  AD 19 12           LDA DEVICE
02506  268D  48                 PHA
02507  268E  A9 03              LDA #$03
02508  2690  8D 19 12           STA DEVICE
02509  2693  A9 F9              LDA #<PMSG
02510  2695  A0 13              LDY #>PMSG
02511  2697  20 5D 1D           JSR STRPNT
02512  269A  68                 PLA
02513  269B  8D 19 12           STA DEVICE
02514  269E  20 E4 FF    PAUS1  JSR GETIN
02515  26A1  F0 FB              BEQ PAUS1
02516  26A3  D0 C7              BNE ASCII
02517  26A5              ;*********************************
02518  26A5  AD 12 12    ASCIIQ LDA PASS        ;GET PASS
02519  26A8  CD 15 12           CMP CPASS       ;IS IT LAST
02520  26AB  D0 09              BNE DATUT       ;EXIT
02521  26AD  20 51 22           JSR INCSL
02522  26B0  20 8F 21           JSR COMENT      ;COMMENT LINE
02523  26B3  20 70 22           JSR DECSL
02524  26B6              ;*********************************
02525  26B6              ; EXIT TO NEXTSL
02526  26B6              ;*********************************
02527  26B6  A9 FF       DATUT  LDA #$FF        ;SET N=1
02528  26B8  60                 RTS             ;RETURN
02529  26B9  A9 00       ENDDAT LDA #$00        ;SET N=0
02530  26BB  60                 RTS             ;RETURN
02531  26BC              ;*********************************
02532  26BC              ; CHECK OPTIONS
02533  26BC              ;*********************************
02534  26BC  AD E6 12    ACHECK LDA TEXTER      ;GET DATA TYPE
02535  26BF  C9 34              CMP #'4'         ;WORD-1
02536  26C1  F0 0B              BEQ AC0
02537  26C3  C9 33              CMP #'3'         ;DBYTE
02538  26C5  F0 0A              BEQ AC1
02539  26C7  C9 32              CMP #'2'         ;WORD
02540  26C9  F0 03              BEQ AC0
02541  26CB  4C D4 26           JMP BYTES       ;BYTE OR ASCII
02542  26CE  4C 86 27    AC0    JMP WORDS       ;WORD OR WORD-1
02543  26D1  4C 56 27    AC1    JMP DBYTES      ;DBYTES
02544  26D4              ;*********************************
02545  26D4              ; .BYTE DIRECTIVE






DISASSEMBLER20......PAGE 0051

LINE# LOC   CODE        LINE


02546  26D4              ;*********************************
02547  26D4  AD 12 12    BYTES  LDA PASS        ;GET PASS
02548  26D7  CD 15 12           CMP CPASS       ;IS IT LAST
02549  26DA  D0 20              BNE BYTESX      ;IF NOT EXIT
02550  26DC  20 B2 22           JSR PRTONE      ;PRINT BYTE
02551  26DF  20 B8 21           JSR PRAD        ;PRINT ADDRESS
02552  26E2  A0 28              LDY #>MBYTE     ;.BYTE
02553  26E4  A9 42              LDA #<MBYTE     ;
02554  26E6  20 5D 1D           JSR STRPNT      ;PRINT IT
02555  26E9  AD E6 12           LDA TEXTER      ;GET TYPE
02556  26EC  C9 30              CMP #'0'          ;ASCII
02557  26EE  F0 0F              BEQ ALINE       ;ASCII BYTES
02558  26F0  20 FE 21           JSR DOLLAR      ;PRINT $
02559  26F3  20 5A 22           JSR GETSL       ;GET BYTE
02560  26F6  20 47 1D           JSR PRBYT       ;PRINT BYTE
02561  26F9  20 A0 1C           JSR NEWLIN      ;NEXT LINE
02562  26FC  4C 29 28    BYTESX JMP NEXTBY      ;NEXT BYTE
02563  26FF              ;*********************************
02564  26FF              ; ASCII TEXT
02565  26FF              ;*********************************
02566  26FF  A9 00       ALINE  LDA #$00        ;ZERO BYTE
02567  2701  8D 51 12           STA TEMP        ;STORE IN COUNT
02568  2704              ;*********************************
02569  2704              ; CHECK FIRST BYTE OF LINE
02570  2704              ;*********************************
02571  2704  20 5A 22           JSR GETSL       ;GET BYTE
02572  2707  20 4A 27           JSR CASCII      ;CHECK FOR ASCII
02573  270A  B0 2F              BCS NASCII      ;IF NOT BRANCH
02574  270C  A9 27              LDA #'''        ;PRINT ONE QUOTE
02575  270E  20 B3 1D           JSR PCHAR       ;PRINT IT
02576  2711              ;*********************************
02577  2711  20 5A 22    ALOP   JSR GETSL       ;GET BYTE
02578  2714  20 4A 27           JSR CASCII      ;IS IT ASCII
02579  2717  B0 1A              BCS EASCII      ;IF NOT END LINE
02580  2719  20 B3 1D           JSR PCHAR       ;PRINT ASCII
02581  271C  20 29 28           JSR NEXTBY      ;INC SELECT
02582  271F  B0 0D              BCS EASCI1      ;C=1 IF END
02583  2721  EE 51 12           INC TEMP        ;INC COUNT
02584  2724  AD 51 12           LDA TEMP        ;LOAD COUNT
02585  2727  C9 28              CMP #$28        ;40 CHAR
02586  2729  F0 08              BEQ EASCII      ;IF SO END
02587  272B  4C 11 27           JMP ALOP        ;NEXT
02588  272E              ;*********************************
02589  272E  20 33 27    EASCI1 JSR EASCII
02590  2731  38                 SEC
02591  2732  60                 RTS
02592  2733              ;*********************************
02593  2733  A9 27       EASCII LDA #'''        ;PRINT ONE QUOTE
02594  2735  20 B3 1D           JSR PCHAR       ;
02595  2738  4C A0 1C           JMP NEWLIN      ;PRINT CR
02596  273B              ;*********************************
02597  273B  20 FE 21    NASCII JSR DOLLAR      ;PRINT $
02598  273E  20 5A 22           JSR GETSL       ;GET BYTE
02599  2741  20 47 1D           JSR PRBYT       ;PRINT IT
02600  2744  20 A0 1C           JSR NEWLIN      ;PRINT CR






DISASSEMBLER20......PAGE 0052

LINE# LOC   CODE        LINE


02601  2747  4C 29 28           JMP NEXTBY      ;NEXT SL
02602  274A              ;*********************************
02603  274A              ; CHECK ACCUM FOR PRINTABLE ASCII
02604  274A              ;*********************************
02605  274A  C9 20       CASCII CMP #$20        ;< SPACE
02606  274C  30 06              BMI NOASC       ;IF LESS NOASCII
02607  274E  C9 60              CMP #$60        ;> _
02608  2750  B0 02              BCS NOASC       ;IF GREATER NO
02609  2752  18                 CLC             ;CLEAR CARRY OK
02610  2753  60                 RTS             ;RETURN
02611  2754  38          NOASC  SEC             ;SET CARRY BAD
02612  2755  60                 RTS             ;RETURN
02613  2756              ;*********************************
02614  2756              ; .DBYTE DIRECTIVE
02615  2756              ;*********************************
02616  2756  AD 12 12    DBYTES LDA PASS        ;CHECK PASS
02617  2759  CD 15 12           CMP CPASS       ;LAST PASS
02618  275C  D0 25              BNE DBYTEX      ;EXIT
02619  275E  20 C8 22           JSR PRTTWO      ;PRINT 2 BYTES
02620  2761  20 B8 21           JSR PRAD        ;PRINT ADDRESS
02621  2764  A0 28              LDY #>MDBYTE    ;.DBYTE
02622  2766  A9 52              LDA #<MDBYTE    ;
02623  2768  20 5D 1D           JSR STRPNT      ;PRINT IT
02624  276B  20 5A 22           JSR GETSL       ;GET BYTE
02625  276E  8D 46 12           STA WORKED+1    ;STORE
02626  2771  20 51 22           JSR INCSL       ;GET BYTE
02627  2774  20 5A 22           JSR GETSL       ;GET BYTE
02628  2777  8D 45 12           STA WORKED      ;STORE
02629  277A  20 FE 21           JSR DOLLAR      ;PRINT $
02630  277D  20 F0 21           JSR PWORKD      ;PRINT WORD
02631  2780  20 A0 1C           JSR NEWLIN      ;PRINT CR
02632  2783  4C 29 28    DBYTEX JMP NEXTBY      ;NEXT SL
02633  2786              ;*********************************
02634  2786              ; .WORD DIRECTIVE
02635  2786              ;*********************************
02636  2786  AD 12 12    WORDS  LDA PASS        ;GET PASS
02637  2789  CD 15 12           CMP CPASS         ;LAST
02638  278C  D0 0D              BNE WORD1       ;IF NOT BRANCH
02639  278E  20 C8 22           JSR PRTTWO      ;PRINT 2 BYTES
02640  2791  20 B8 21           JSR PRAD        ;PRINT ADDRESS
02641  2794  A0 28              LDY #>MWORD     ;.WORD
02642  2796  A9 4A              LDA #<MWORD     ;
02643  2798  20 5D 1D           JSR STRPNT      ;PRINT IT
02644  279B              ;*********************************
02645  279B              ; GET WORD INTO WORKED
02646  279B              ;*********************************
02647  279B  20 5A 22    WORD1  JSR GETSL       ;GET BYTE
02648  279E  8D 45 12           STA WORKED      ;STORE BYTE
02649  27A1  8D 36 12           STA SMALLP      ;STORE BYTE
02650  27A4  20 51 22           JSR INCSL       ;GET BYTE
02651  27A7  20 5A 22           JSR GETSL       ;GET BYTE
02652  27AA  8D 46 12           STA WORKED+1    ;STORE BYTE
02653  27AD  8D 37 12           STA SMALLP+1    ;STORE BYTE
02654  27B0  AD E6 12           LDA TEXTER      ;GET OPTION
02655  27B3  C9 34              CMP #'4'          ;.WORD ADRS-1






DISASSEMBLER20......PAGE 0053

LINE# LOC   CODE        LINE


02656  27B5  F0 2A              BEQ WORDM       ;BRANCH
02657  27B7              ;*********************************
02658  27B7              ; CHECK PASS
02659  27B7              ;*********************************
02660  27B7  AD 12 12           LDA PASS        ;CHECK PASS
02661  27BA  CD 13 12           CMP IPASS       ;INTERNAL
02662  27BD  F0 16              BEQ WORDPT      ;TABLE WORD
02663  27BF  CD 14 12           CMP EPASS
02664  27C2  F0 17              BEQ WORDSY
02665  27C4              ;*********************************
02666  27C4              ; PRINT WORD
02667  27C4              ;*********************************
02668  27C4  20 70 2C           JSR SYMOP       ;CHECK SYMBOL
02669  27C7  B0 5A              BCS WORDS3      ;C=1 SYMBOL
02670  27C9  20 FE 21           JSR DOLLAR      ;PRINT $
02671  27CC  20 F0 21           JSR PWORKD      ;PRINT WORD
02672  27CF  20 A0 1C           JSR NEWLIN      ;PRINT CR
02673  27D2  4C 29 28    WORDSX JMP NEXTBY      ;NEXT SL
02674  27D5  20 D3 23    WORDPT JSR PUTI        ;PUT IN TABLE
02675  27D8  4C 29 28           JMP NEXTBY      ;NEXT SL
02676  27DB  20 70 2C    WORDSY JSR SYMOP
02677  27DE  4C 29 28           JMP NEXTBY
02678  27E1              ;*********************************
02679  27E1              ; .WORD ADDRESS-1
02680  27E1              ;*********************************
02681  27E1  18          WORDM  CLC
02682  27E2  AD 45 12           LDA WORKED
02683  27E5  69 01              ADC #$01
02684  27E7  8D 45 12           STA WORKED
02685  27EA  AD 46 12           LDA WORKED+1
02686  27ED  69 00              ADC #$00
02687  27EF  8D 46 12           STA WORKED+1
02688  27F2              ;*********************************
02689  27F2              ; CHECK PASS
02690  27F2              ;*********************************
02691  27F2  AD 12 12           LDA PASS        ;CHECK PASS
02692  27F5  CD 13 12           CMP IPASS       ;INTERNAL
02693  27F8  F0 DB              BEQ WORDPT      ;TABLE WORD
02694  27FA  CD 14 12           CMP EPASS       ;EXTERNAL
02695  27FD  F0 DC              BEQ WORDSY      ;TABLE WORD
02696  27FF              ;*********************************
02697  27FF              ; PRINT WORD
02698  27FF              ;*********************************
02699  27FF  20 70 2C           JSR SYMOP       ;CHECK SYMBOL
02700  2802  90 0D              BCC WORDS2      ;C=0 NO SYMBOL
02701  2804  A9 2D              LDA #'-'
02702  2806  20 B3 1D           JSR PCHAR
02703  2809  A9 31              LDA #'1'
02704  280B  20 B3 1D           JSR PCHAR
02705  280E  4C 23 28           JMP WORDS3
02706  2811              ;*********************************
02707  2811  20 FE 21    WORDS2 JSR DOLLAR      ;PRINT $
02708  2814  AD 36 12           LDA SMALLP
02709  2817  8D 45 12           STA WORKED
02710  281A  AD 37 12           LDA SMALLP+1






DISASSEMBLER20......PAGE 0054

LINE# LOC   CODE        LINE


02711  281D  8D 46 12           STA WORKED+1
02712  2820  20 F0 21           JSR PWORKD      ;PRINT WORD
02713  2823  20 A0 1C    WORDS3 JSR NEWLIN      ;PRINT CR
02714  2826  4C 29 28    WORDXX JMP NEXTBY      ;NEXT SL
02715  2829              ;*********************************
02716  2829              ; SELECT NEXT BYTE OF DATA
02717  2829              ;*********************************
02718  2829  AD 23 12    NEXTBY LDA SELECT+1
02719  282C  CD E5 12           CMP EAS+1
02720  282F  90 0A              BCC SBLOK
02721  2831  D0 0D              BNE NOBINC
02722  2833  AD 22 12           LDA SELECT
02723  2836  CD E4 12           CMP EAS
02724  2839  B0 05              BCS NOBINC
02725  283B  20 51 22    SBLOK  JSR INCSL
02726  283E  18                 CLC
02727  283F  60                 RTS
02728  2840  38          NOBINC SEC
02729  2841  60                 RTS
02730  2842              ;*********************************
02731  2842  20 2E       MBYTE  .BYTE ' .BYTE ',0
02731  2849  00 
02732  284A  20 2E       MWORD  .BYTE ' .WORD ',0
02732  2851  00 
02733  2852  20 2E       MDBYTE .BYTE ' .DBYTE ',0
02733  285A  00 
02734  285B              ;*********************************
02735  285B              ;.FIL 0:TABLE.ASM
02736  285B              ;*********************************
02737  285B              .END
02738  285B              ;*********************************
02739  285B              .LIB   TABLE.ASM
02740  285B              ;*********************************
02741  285B              ; FILE TABLE.ASM
02742  285B              ;*********************************
02743  285B              ;
02744  285B              ;        DISASSEMBLER64
02745  285B              ;    SYMBOLIC DISASSEMBLER
02746  285B              ;       BY DENTON MARLOWE
02747  285B              ;
02748  285B              ;  (C)1986 BY DENTON MARLOWE
02749  285B              ;
02750  285B              ;*********************************
02751  285B              ;       PRINT MNEMONIC
02752  285B              ;*********************************
02753  285B  A2 03       MNEMON LDX #3          ;3 CHARACTERS
02754  285D  8E 51 12           STX TEMP        ;COUNTER
02755  2860  AA                 TAX             ;CODE IS INDEX
02756  2861  BD D4 29           LDA MCODES,X    ;GET OFFSET
02757  2864  AA                 TAX             ;INDEX OFFSET
02758  2865  BD FC 28    MNLOOP LDA MNAMES,X    ;GET CHARACTER
02759  2868  8E 53 12           STX SAVX        ;SAVE INDEX
02760  286B  20 B3 1D           JSR PCHAR       ;PRINT CHAR
02761  286E  AE 53 12           LDX SAVX        ;GET INDEX
02762  2871  E8                 INX             ;NEXT CHAR






DISASSEMBLER20......PAGE 0055

LINE# LOC   CODE        LINE


02763  2872  CE 51 12           DEC TEMP        ;DEC COUNT
02764  2875  D0 EE              BNE MNLOOP      ;LOOP TILL 0
02765  2877  60                 RTS             ;RETURN
02766  2878              ;*********************************
02767  2878              ;        PRINT OPERAND
02768  2878              ;*********************************
02769  2878  48          PRTASS PHA             ;STACK INDEX
02770  2879  20 25 23           JSR PRTDAT      ;PRINT LINE DATA
02771  287C  68                 PLA             ;PULL INDEX
02772  287D  A8                 TAY             ;SAVE INDEX
02773  287E  A9 A8              LDA #<SUBP
02774  2880  A2 28              LDX #>SUBP
02775  2882  4C 92 28           JMP GETOPE      ;LOOK UP ROUTINE
02776  2885              ;*********************************
02777  2885  A8          OPERN1 TAY             ;SAVE INDEX
02778  2886  A9 C4              LDA #<SUBS1
02779  2888  A2 28              LDX #>SUBS1
02780  288A  4C 92 28           JMP GETOPE      ;LOOK UP ROUTINE
02781  288D              ;*********************************
02782  288D  A8          OPERND TAY             ;SAVE INDEX
02783  288E  A9 E0              LDA #<SUBS
02784  2890  A2 28              LDX #>SUBS
02785  2892              ;*********************************
02786  2892              ; LOOK UP AND JMP TO ROUTINE
02787  2892              ;*********************************
02788  2892  85 02       GETOPE STA ZEROUR      ;LOW TABLE
02789  2894  86 03              STX ZEROUR+1    ;HIGH TABLE
02790  2896  B9 D4 2A           LDA MODES,Y     ;GET OFFSET
02791  2899  A8                 TAY             ;INDEX OFFSET
02792  289A  B1 02              LDA (ZEROUR),Y  ;GET LOW BYTE
02793  289C  8D 4F 12           STA ADRS        ;STORE
02794  289F  C8                 INY             ;INC INDEX
02795  28A0  B1 02              LDA (ZEROUR),Y  ;GET HIGH BYTE
02796  28A2  8D 50 12           STA ADRS+1      ;STORE
02797  28A5  6C 4F 12           JMP (ADRS)      ;INDIRECT JMP
02798  28A8              ;*********************************
02799  28A8              ; TABLE OF ADDRESSING MODE SUBS
02800  28A8              ;*********************************
02801  28A8              ; MACHINE LANGUAGE ROUTINES
02802  28A8              ;*********************************
02803  28A8  B2 22       SUBP   .WORD PRTONE    ;MODES 0  $00
02804  28AA  B2 22       .WORD  PRTONE          ; 2  $02
02805  28AC  C8 22       .WORD  PRTTWO          ; 4  $04
02806  28AE  C8 22       .WORD  PRTTWO          ; 6  $06
02807  28B0  C8 22       .WORD  PRTTWO          ; 8  $08
02808  28B2  C8 22       .WORD  PRTTWO          ; 10 $0A
02809  28B4  ED 22       .WORD  PRTTHE          ; 12 $0C
02810  28B6  ED 22       .WORD  PRTTHE          ; 14 $0E
02811  28B8  ED 22       .WORD  PRTTHE          ; 16 $10
02812  28BA  B2 22       .WORD  PRTONE          ; 18 $12
02813  28BC  C8 22       .WORD  PRTTWO          ; 20 $14
02814  28BE  C8 22       .WORD  PRTTWO          ; 22 $16
02815  28C0  C8 22       .WORD  PRTTWO          ; 24 $18
02816  28C2  ED 22       .WORD  PRTTHE          ; 26 $1A
02817  28C4              ;*********************************






DISASSEMBLER20......PAGE 0056

LINE# LOC   CODE        LINE


02818  28C4              ; CODE ANALYSIS ROUTINES
02819  28C4              ;*********************************
02820  28C4  B7 20       SUBS1  .WORD IMPONE    ;MODES 0  $00
02821  28C6  B7 20       .WORD  IMPONE          ; 2  $02
02822  28C8  34 20       .WORD  IMMEDT          ; 4  $04
02823  28CA  9D 1F       .WORD  ONEBYT          ; 6  $06
02824  28CC  9D 1F       .WORD  ONEBYT          ; 8  $08
02825  28CE  9D 1F       .WORD  ONEBYT          ; 10 $0A
02826  28D0  D1 1F       .WORD  TWOBYT          ; 12 $0C
02827  28D2  D1 1F       .WORD  TWOBYT          ; 14 $0E
02828  28D4  D1 1F       .WORD  TWOBYT          ; 16 $10
02829  28D6  B7 20       .WORD  IMPONE          ; 18 $12
02830  28D8  EE 20       .WORD  RELATV          ; 20 $14
02831  28DA  9D 1F       .WORD  ONEBYT          ; 22 $16
02832  28DC  9D 1F       .WORD  ONEBYT          ; 24 $18
02833  28DE  D1 1F       .WORD  TWOBYT          ; 26 $1A
02834  28E0              ;*********************************
02835  28E0              ; FINAL PASS ADDRESSING MODES
02836  28E0              ;*********************************
02837  28E0  0D 20       SUBS   .WORD ILLEGL    ;MODES 0  $00
02838  28E2  2F 20       .WORD  ACC             ; 2  $02
02839  28E4  34 20       .WORD  IMMEDT          ; 4  $04
02840  28E6  6A 20       .WORD  ZEROPG          ; 6  $06
02841  28E8  6D 20       .WORD  ZEROX           ; 8  $08
02842  28EA  73 20       .WORD  ZEROY           ; 10 $0A
02843  28EC  79 20       .WORD  ABSLUT          ; 12 $0C
02844  28EE  9E 20       .WORD  ABSX            ; 14 $0E
02845  28F0  A4 20       .WORD  ABSY            ; 16 $10
02846  28F2  AA 20       .WORD  IMPLID          ; 18 $12
02847  28F4  EE 20       .WORD  RELATV          ; 20 $14
02848  28F6  D9 20       .WORD  INDX            ; 22 $16
02849  28F8  E2 20       .WORD  INDY            ; 24 $18
02850  28FA  C4 20       .WORD  INDRCT          ; 26 $1A
02851  28FC              ;*********************************
02852  28FC              ; LIST OF MNEMONICS
02853  28FC              ;*********************************
02854  28FC  00          MNAMES .BYTE 0,0,0     ;MCODES 0   $00
02854  28FD  00 
02854  28FE  00 
02855  28FF  41 44 43    .BYTE  'ADC'           ; 3   $03
02856  2902  41 4E 44    .BYTE  'AND'           ; 6   $06
02857  2905  41 53 4C    .BYTE  'ASL'           ; 9   $09
02858  2908  42 43 43    .BYTE  'BCC'           ; 12  $0C
02859  290B  42 43 53    .BYTE  'BCS'           ; 15  $0F
02860  290E  42 45 51    .BYTE  'BEQ'           ; 18  $12
02861  2911  42 49 54    .BYTE  'BIT'           ; 21  $15
02862  2914  42 4D 49    .BYTE  'BMI'           ; 24  $18
02863  2917  42 4E 45    .BYTE  'BNE'           ; 27  $1B
02864  291A  42 50 4C    .BYTE  'BPL'           ; 30  $1E
02865  291D  42 52 4B    .BYTE  'BRK'           ; 33  $21
02866  2920  42 56 43    .BYTE  'BVC'           ; 36  $24
02867  2923  42 56 53    .BYTE  'BVS'           ; 39  $27
02868  2926  43 4C 43    .BYTE  'CLC'           ; 42  $2A
02869  2929  43 4C 44    .BYTE  'CLD'           ; 45  $2D
02870  292C  43 4C 49    .BYTE  'CLI'           ; 48  $30






DISASSEMBLER20......PAGE 0057

LINE# LOC   CODE        LINE


02871  292F  43 4C 56    .BYTE  'CLV'           ; 51  $33
02872  2932  43 4D 50    .BYTE  'CMP'           ; 54  $36
02873  2935  43 50 58    .BYTE  'CPX'           ; 57  $39
02874  2938  43 50 59    .BYTE  'CPY'           ; 60  $3C
02875  293B  44 45 43    .BYTE  'DEC'           ; 63  $3F
02876  293E  44 45 58    .BYTE  'DEX'           ; 66  $42
02877  2941  44 45 59    .BYTE  'DEY'           ; 69  $45
02878  2944  45 4F 52    .BYTE  'EOR'           ; 72  $48
02879  2947  49 4E 43    .BYTE  'INC'           ; 75  $4B
02880  294A  49 4E 58    .BYTE  'INX'           ; 78  $4E
02881  294D  49 4E 59    .BYTE  'INY'           ; 81  $51
02882  2950  4A 4D 50    .BYTE  'JMP'           ; 84  $54
02883  2953  4A 53 52    .BYTE  'JSR'           ; 87  $57
02884  2956  4C 44 41    .BYTE  'LDA'           ; 90  $5A
02885  2959  4C 44 58    .BYTE  'LDX'           ; 93  $5D
02886  295C  4C 44 59    .BYTE  'LDY'           ; 96  $60
02887  295F  4C 53 52    .BYTE  'LSR'           ; 99  $63
02888  2962  4E 4F 50    .BYTE  'NOP'           ; 102 $66
02889  2965  4F 52 41    .BYTE  'ORA'           ; 105 $69
02890  2968  50 48 41    .BYTE  'PHA'           ; 108 $6C
02891  296B  50 48 50    .BYTE  'PHP'           ; 111 $6F
02892  296E  50 4C 41    .BYTE  'PLA'           ; 114 $72
02893  2971  50 4C 50    .BYTE  'PLP'           ; 117 $75
02894  2974  52 4F 4C    .BYTE  'ROL'           ; 120 $78
02895  2977  52 4F 52    .BYTE  'ROR'           ; 123 $7B
02896  297A  52 54 49    .BYTE  'RTI'           ; 126 $7E
02897  297D  52 54 53    .BYTE  'RTS'           ; 129 $81
02898  2980  53 42 43    .BYTE  'SBC'           ; 132 $84
02899  2983  53 45 43    .BYTE  'SEC'           ; 135 $87
02900  2986  53 45 44    .BYTE  'SED'           ; 138 $8A
02901  2989  53 45 49    .BYTE  'SEI'           ; 141 $8D
02902  298C  53 54 41    .BYTE  'STA'           ; 144 $90
02903  298F  53 54 58    .BYTE  'STX'           ; 147 $93
02904  2992  53 54 59    .BYTE  'STY'           ; 150 $96
02905  2995  54 41 58    .BYTE  'TAX'           ; 153 $99
02906  2998  54 41 59    .BYTE  'TAY'           ; 156 $9C
02907  299B  54 53 58    .BYTE  'TSX'           ; 159 $9F
02908  299E  54 58 41    .BYTE  'TXA'           ; 162 $A2
02909  29A1  54 58 53    .BYTE  'TXS'           ; 165 $A5
02910  29A4  54 59 41    .BYTE  'TYA'           ; 168 $A8
02911  29A7              ;*********************************
02912  29A7              ; QUASI-OPCODES
02913  29A7              ;*********************************
02914  29A7  41 53 4F    .BYTE  'ASO'           ; 171 $AB
02915  29AA  52 4C 41    .BYTE  'RLA'           ; 174 $AE
02916  29AD  4C 53 45    .BYTE  'LSE'           ; 177 $B1
02917  29B0  52 52 41    .BYTE  'RRA'           ; 180 $B4
02918  29B3  41 58 53    .BYTE  'AXS'           ; 183 $B7
02919  29B6  4C 41 58    .BYTE  'LAX'           ; 186 $BA
02920  29B9  44 43 4D    .BYTE  'DCM'           ; 189 $BD
02921  29BC  49 4E 53    .BYTE  'INS'           ; 192 $C0
02922  29BF  41 4C 52    .BYTE  'ALR'           ; 195 $C3
02923  29C2  41 52 52    .BYTE  'ARR'           ; 198 $C6
02924  29C5  4F 41 4C    .BYTE  'OAL'           ; 201 $C9
02925  29C8  53 41 58    .BYTE  'SAX'           ; 204 $CC






DISASSEMBLER20......PAGE 0058

LINE# LOC   CODE        LINE


02926  29CB  4E 4F 50    .BYTE  'NOP'           ; 207 $CF
02927  29CE  53 4B 42    .BYTE  'SKB'           ; 210 $D2
02928  29D1  53 4B 57    .BYTE  'SKW'           ; 213 $D5
02929  29D4              ;*********************************
02930  29D4              ; TABLE OF MNEMONIC CODES
02931  29D4              ;*********************************
02932  29D4              ;
02933  29D4              ;A MNEMONIC'S CODE IS ITS OFFSET
02934  29D4              ;    INTO MNAMES, THE LIST OF
02935  29D4              ;         MNEONIC NAMES.
02936  29D4              ;
02937  29D4              ;*********************************
02938  29D4  21          MCODES .BYTE $21,$69,0,0,0,$69,$09,0
02938  29D5  69 
02938  29D6  00 
02938  29D7  00 
02938  29D8  00 
02938  29D9  69 
02938  29DA  09 
02938  29DB  00 
02939  29DC  6F          .BYTE  $6F,$69,$09,0,0,$69,$09,0
02939  29DD  69 
02939  29DE  09 
02939  29DF  00 
02939  29E0  00 
02939  29E1  69 
02939  29E2  09 
02939  29E3  00 
02940  29E4  1E          .BYTE  $1E,$69,0,0,0,$69,$09,0
02940  29E5  69 
02940  29E6  00 
02940  29E7  00 
02940  29E8  00 
02940  29E9  69 
02940  29EA  09 
02940  29EB  00 
02941  29EC  2A          .BYTE  $2A,$69,0,0,0,$69,$09,0
02941  29ED  69 
02941  29EE  00 
02941  29EF  00 
02941  29F0  00 
02941  29F1  69 
02941  29F2  09 
02941  29F3  00 
02942  29F4  57          .BYTE  $57,6,0,0,$15,6,$78,0
02942  29F5  06 
02942  29F6  00 
02942  29F7  00 
02942  29F8  15 
02942  29F9  06 
02942  29FA  78 
02942  29FB  00 
02943  29FC  75          .BYTE  $75,6,$78,0,$15,6,$78,0
02943  29FD  06 
02943  29FE  78 






DISASSEMBLER20......PAGE 0059

LINE# LOC   CODE        LINE


02943  29FF  00 
02943  2A00  15 
02943  2A01  06 
02943  2A02  78 
02943  2A03  00 
02944  2A04  18          .BYTE  $18,6,0,0,0,6,$78,0
02944  2A05  06 
02944  2A06  00 
02944  2A07  00 
02944  2A08  00 
02944  2A09  06 
02944  2A0A  78 
02944  2A0B  00 
02945  2A0C  87          .BYTE  $87,6,0,0,0,6,$78,0
02945  2A0D  06 
02945  2A0E  00 
02945  2A0F  00 
02945  2A10  00 
02945  2A11  06 
02945  2A12  78 
02945  2A13  00 
02946  2A14  7E          .BYTE  $7E,$48,0,0,0,$48,$63,0
02946  2A15  48 
02946  2A16  00 
02946  2A17  00 
02946  2A18  00 
02946  2A19  48 
02946  2A1A  63 
02946  2A1B  00 
02947  2A1C  6C          .BYTE  $6C,$48,$63,0,$54,$48,$63,0
02947  2A1D  48 
02947  2A1E  63 
02947  2A1F  00 
02947  2A20  54 
02947  2A21  48 
02947  2A22  63 
02947  2A23  00 
02948  2A24  24          .BYTE  $24,$48,0,0,0,$48,$63,0
02948  2A25  48 
02948  2A26  00 
02948  2A27  00 
02948  2A28  00 
02948  2A29  48 
02948  2A2A  63 
02948  2A2B  00 
02949  2A2C  30          .BYTE  $30,$48,0,0,0,$48,$63,0
02949  2A2D  48 
02949  2A2E  00 
02949  2A2F  00 
02949  2A30  00 
02949  2A31  48 
02949  2A32  63 
02949  2A33  00 
02950  2A34  81          .BYTE  $81,3,0,0,0,3,$7B,0
02950  2A35  03 






DISASSEMBLER20......PAGE 0060

LINE# LOC   CODE        LINE


02950  2A36  00 
02950  2A37  00 
02950  2A38  00 
02950  2A39  03 
02950  2A3A  7B 
02950  2A3B  00 
02951  2A3C  72          .BYTE  $72,3,$7B,0,$54,3,$7B,0
02951  2A3D  03 
02951  2A3E  7B 
02951  2A3F  00 
02951  2A40  54 
02951  2A41  03 
02951  2A42  7B 
02951  2A43  00 
02952  2A44  27          .BYTE  $27,3,0,0,0,3,$7B,0
02952  2A45  03 
02952  2A46  00 
02952  2A47  00 
02952  2A48  00 
02952  2A49  03 
02952  2A4A  7B 
02952  2A4B  00 
02953  2A4C  8D          .BYTE  $8D,3,0,0,0,3,$7B,0
02953  2A4D  03 
02953  2A4E  00 
02953  2A4F  00 
02953  2A50  00 
02953  2A51  03 
02953  2A52  7B 
02953  2A53  00 
02954  2A54  00          .BYTE  0,$90,0,0,$96,$90,$93,0
02954  2A55  90 
02954  2A56  00 
02954  2A57  00 
02954  2A58  96 
02954  2A59  90 
02954  2A5A  93 
02954  2A5B  00 
02955  2A5C  45          .BYTE  $45,0,$A2,0,$96,$90,$93,0
02955  2A5D  00 
02955  2A5E  A2 
02955  2A5F  00 
02955  2A60  96 
02955  2A61  90 
02955  2A62  93 
02955  2A63  00 
02956  2A64  0C          .BYTE  $0C,$90,0,0,$96,$90,$93,0
02956  2A65  90 
02956  2A66  00 
02956  2A67  00 
02956  2A68  96 
02956  2A69  90 
02956  2A6A  93 
02956  2A6B  00 
02957  2A6C  A8          .BYTE  $A8,$90,$A5,0,0,$90,0,0






DISASSEMBLER20......PAGE 0061

LINE# LOC   CODE        LINE


02957  2A6D  90 
02957  2A6E  A5 
02957  2A6F  00 
02957  2A70  00 
02957  2A71  90 
02957  2A72  00 
02957  2A73  00 
02958  2A74  60          .BYTE  $60,$5A,$5D,0,$60,$5A,$5D,0
02958  2A75  5A 
02958  2A76  5D 
02958  2A77  00 
02958  2A78  60 
02958  2A79  5A 
02958  2A7A  5D 
02958  2A7B  00 
02959  2A7C  9C          .BYTE  $9C,$5A,$99,0,$60,$5A,$5D,0
02959  2A7D  5A 
02959  2A7E  99 
02959  2A7F  00 
02959  2A80  60 
02959  2A81  5A 
02959  2A82  5D 
02959  2A83  00 
02960  2A84  0F          .BYTE  $0F,$5A,0,0,$60,$5A,$5D,0
02960  2A85  5A 
02960  2A86  00 
02960  2A87  00 
02960  2A88  60 
02960  2A89  5A 
02960  2A8A  5D 
02960  2A8B  00 
02961  2A8C  33          .BYTE  $33,$5A,$9F,0,$60,$5A,$5D,0
02961  2A8D  5A 
02961  2A8E  9F 
02961  2A8F  00 
02961  2A90  60 
02961  2A91  5A 
02961  2A92  5D 
02961  2A93  00 
02962  2A94  3C          .BYTE  $3C,$36,0,0,$3C,$36,$3F,0
02962  2A95  36 
02962  2A96  00 
02962  2A97  00 
02962  2A98  3C 
02962  2A99  36 
02962  2A9A  3F 
02962  2A9B  00 
02963  2A9C  51          .BYTE  $51,$36,$42,0,$3C,$36,$3F,0
02963  2A9D  36 
02963  2A9E  42 
02963  2A9F  00 
02963  2AA0  3C 
02963  2AA1  36 
02963  2AA2  3F 
02963  2AA3  00 






DISASSEMBLER20......PAGE 0062

LINE# LOC   CODE        LINE


02964  2AA4  1B          .BYTE  $1B,$36,0,0,0,$36,$3F,0
02964  2AA5  36 
02964  2AA6  00 
02964  2AA7  00 
02964  2AA8  00 
02964  2AA9  36 
02964  2AAA  3F 
02964  2AAB  00 
02965  2AAC  2D          .BYTE  $2D,$36,0,0,0,$36,$3F,0
02965  2AAD  36 
02965  2AAE  00 
02965  2AAF  00 
02965  2AB0  00 
02965  2AB1  36 
02965  2AB2  3F 
02965  2AB3  00 
02966  2AB4  39          .BYTE  $39,$84,0,0,$39,$84,$4B,0
02966  2AB5  84 
02966  2AB6  00 
02966  2AB7  00 
02966  2AB8  39 
02966  2AB9  84 
02966  2ABA  4B 
02966  2ABB  00 
02967  2ABC  4E          .BYTE  $4E,$84,$66,0,$39,$84,$4B,0
02967  2ABD  84 
02967  2ABE  66 
02967  2ABF  00 
02967  2AC0  39 
02967  2AC1  84 
02967  2AC2  4B 
02967  2AC3  00 
02968  2AC4  12          .BYTE  $12,$84,0,0,0,$84,$4B,0
02968  2AC5  84 
02968  2AC6  00 
02968  2AC7  00 
02968  2AC8  00 
02968  2AC9  84 
02968  2ACA  4B 
02968  2ACB  00 
02969  2ACC  8A          .BYTE  $8A,$84,0,0,0,$84,$4B,0
02969  2ACD  84 
02969  2ACE  00 
02969  2ACF  00 
02969  2AD0  00 
02969  2AD1  84 
02969  2AD2  4B 
02969  2AD3  00 
02970  2AD4              ;*********************************
02971  2AD4              ; TABLE OF ADDRESSING MODE CODES
02972  2AD4              ;*********************************
02973  2AD4              ;
02974  2AD4              ; AN ADDRESSING MODE'S CODE IS
02975  2AD4              ; ITS OFFSET INTO SUBS, THE TABLE
02976  2AD4              ; OF ADDRESSING MODE SUBROUTINES






DISASSEMBLER20......PAGE 0063

LINE# LOC   CODE        LINE


02977  2AD4              ;
02978  2AD4              ;*********************************
02979  2AD4  12          MODES  .BYTE 18,22,0,0,0,6,6,0
02979  2AD5  16 
02979  2AD6  00 
02979  2AD7  00 
02979  2AD8  00 
02979  2AD9  06 
02979  2ADA  06 
02979  2ADB  00 
02980  2ADC  12          .BYTE  18,4,2,0,0,12,12,0
02980  2ADD  04 
02980  2ADE  02 
02980  2ADF  00 
02980  2AE0  00 
02980  2AE1  0C 
02980  2AE2  0C 
02980  2AE3  00 
02981  2AE4  14          .BYTE  20,24,0,0,0,8,8,0
02981  2AE5  18 
02981  2AE6  00 
02981  2AE7  00 
02981  2AE8  00 
02981  2AE9  08 
02981  2AEA  08 
02981  2AEB  00 
02982  2AEC  12          .BYTE  18,16,0,0,0,14,14,0
02982  2AED  10 
02982  2AEE  00 
02982  2AEF  00 
02982  2AF0  00 
02982  2AF1  0E 
02982  2AF2  0E 
02982  2AF3  00 
02983  2AF4  0C          .BYTE  12,22,0,0,6,6,6,0
02983  2AF5  16 
02983  2AF6  00 
02983  2AF7  00 
02983  2AF8  06 
02983  2AF9  06 
02983  2AFA  06 
02983  2AFB  00 
02984  2AFC  12          .BYTE  18,4,2,0,12,12,12,0
02984  2AFD  04 
02984  2AFE  02 
02984  2AFF  00 
02984  2B00  0C 
02984  2B01  0C 
02984  2B02  0C 
02984  2B03  00 
02985  2B04  14          .BYTE  20,24,0,0,0,8,8,0
02985  2B05  18 
02985  2B06  00 
02985  2B07  00 
02985  2B08  00 






DISASSEMBLER20......PAGE 0064

LINE# LOC   CODE        LINE


02985  2B09  08 
02985  2B0A  08 
02985  2B0B  00 
02986  2B0C  12          .BYTE  18,16,0,0,0,14,14,0
02986  2B0D  10 
02986  2B0E  00 
02986  2B0F  00 
02986  2B10  00 
02986  2B11  0E 
02986  2B12  0E 
02986  2B13  00 
02987  2B14  12          .BYTE  18,22,0,0,0,6,6,0
02987  2B15  16 
02987  2B16  00 
02987  2B17  00 
02987  2B18  00 
02987  2B19  06 
02987  2B1A  06 
02987  2B1B  00 
02988  2B1C  12          .BYTE  18,4,2,0,12,12,12,0
02988  2B1D  04 
02988  2B1E  02 
02988  2B1F  00 
02988  2B20  0C 
02988  2B21  0C 
02988  2B22  0C 
02988  2B23  00 
02989  2B24  14          .BYTE  20,24,0,0,0,8,8,0
02989  2B25  18 
02989  2B26  00 
02989  2B27  00 
02989  2B28  00 
02989  2B29  08 
02989  2B2A  08 
02989  2B2B  00 
02990  2B2C  12          .BYTE  18,16,0,0,0,14,14,0
02990  2B2D  10 
02990  2B2E  00 
02990  2B2F  00 
02990  2B30  00 
02990  2B31  0E 
02990  2B32  0E 
02990  2B33  00 
02991  2B34  12          .BYTE  18,22,0,0,0,6,6,0
02991  2B35  16 
02991  2B36  00 
02991  2B37  00 
02991  2B38  00 
02991  2B39  06 
02991  2B3A  06 
02991  2B3B  00 
02992  2B3C  12          .BYTE  18,4,2,0,26,12,12,0
02992  2B3D  04 
02992  2B3E  02 
02992  2B3F  00 






DISASSEMBLER20......PAGE 0065

LINE# LOC   CODE        LINE


02992  2B40  1A 
02992  2B41  0C 
02992  2B42  0C 
02992  2B43  00 
02993  2B44  14          .BYTE  20,24,0,0,0,8,8,0
02993  2B45  18 
02993  2B46  00 
02993  2B47  00 
02993  2B48  00 
02993  2B49  08 
02993  2B4A  08 
02993  2B4B  00 
02994  2B4C  12          .BYTE  18,16,0,0,0,14,14,0
02994  2B4D  10 
02994  2B4E  00 
02994  2B4F  00 
02994  2B50  00 
02994  2B51  0E 
02994  2B52  0E 
02994  2B53  00 
02995  2B54  00          .BYTE  0,22,0,0,6,6,6,0
02995  2B55  16 
02995  2B56  00 
02995  2B57  00 
02995  2B58  06 
02995  2B59  06 
02995  2B5A  06 
02995  2B5B  00 
02996  2B5C  12          .BYTE  18,0,18,0,12,12,12,0
02996  2B5D  00 
02996  2B5E  12 
02996  2B5F  00 
02996  2B60  0C 
02996  2B61  0C 
02996  2B62  0C 
02996  2B63  00 
02997  2B64  14          .BYTE  20,24,0,0,8,8,10,0
02997  2B65  18 
02997  2B66  00 
02997  2B67  00 
02997  2B68  08 
02997  2B69  08 
02997  2B6A  0A 
02997  2B6B  00 
02998  2B6C  12          .BYTE  18,16,18,0,0,14,0,0
02998  2B6D  10 
02998  2B6E  12 
02998  2B6F  00 
02998  2B70  00 
02998  2B71  0E 
02998  2B72  00 
02998  2B73  00 
02999  2B74  04          .BYTE  4,22,4,0,6,6,6,0
02999  2B75  16 
02999  2B76  04 






DISASSEMBLER20......PAGE 0066

LINE# LOC   CODE        LINE


02999  2B77  00 
02999  2B78  06 
02999  2B79  06 
02999  2B7A  06 
02999  2B7B  00 
03000  2B7C  12          .BYTE  18,4,18,0,12,12,12,0
03000  2B7D  04 
03000  2B7E  12 
03000  2B7F  00 
03000  2B80  0C 
03000  2B81  0C 
03000  2B82  0C 
03000  2B83  00 
03001  2B84  14          .BYTE  20,24,0,0,8,8,10,0
03001  2B85  18 
03001  2B86  00 
03001  2B87  00 
03001  2B88  08 
03001  2B89  08 
03001  2B8A  0A 
03001  2B8B  00 
03002  2B8C  12          .BYTE  18,16,18,0,14,14,16,0
03002  2B8D  10 
03002  2B8E  12 
03002  2B8F  00 
03002  2B90  0E 
03002  2B91  0E 
03002  2B92  10 
03002  2B93  00 
03003  2B94  04          .BYTE  4,22,0,0,6,6,6,0
03003  2B95  16 
03003  2B96  00 
03003  2B97  00 
03003  2B98  06 
03003  2B99  06 
03003  2B9A  06 
03003  2B9B  00 
03004  2B9C  12          .BYTE  18,4,18,0,12,12,12,0
03004  2B9D  04 
03004  2B9E  12 
03004  2B9F  00 
03004  2BA0  0C 
03004  2BA1  0C 
03004  2BA2  0C 
03004  2BA3  00 
03005  2BA4  14          .BYTE  20,24,0,0,0,8,8,0
03005  2BA5  18 
03005  2BA6  00 
03005  2BA7  00 
03005  2BA8  00 
03005  2BA9  08 
03005  2BAA  08 
03005  2BAB  00 
03006  2BAC  12          .BYTE  18,16,0,0,0,14,14,0
03006  2BAD  10 






DISASSEMBLER20......PAGE 0067

LINE# LOC   CODE        LINE


03006  2BAE  00 
03006  2BAF  00 
03006  2BB0  00 
03006  2BB1  0E 
03006  2BB2  0E 
03006  2BB3  00 
03007  2BB4  04          .BYTE  4,22,0,0,6,6,6,0
03007  2BB5  16 
03007  2BB6  00 
03007  2BB7  00 
03007  2BB8  06 
03007  2BB9  06 
03007  2BBA  06 
03007  2BBB  00 
03008  2BBC  12          .BYTE  18,4,18,0,12,12,12,0
03008  2BBD  04 
03008  2BBE  12 
03008  2BBF  00 
03008  2BC0  0C 
03008  2BC1  0C 
03008  2BC2  0C 
03008  2BC3  00 
03009  2BC4  14          .BYTE  20,24,0,0,0,8,8,0
03009  2BC5  18 
03009  2BC6  00 
03009  2BC7  00 
03009  2BC8  00 
03009  2BC9  08 
03009  2BCA  08 
03009  2BCB  00 
03010  2BCC  12          .BYTE  18,16,0,0,0,14,14,0
03010  2BCD  10 
03010  2BCE  00 
03010  2BCF  00 
03010  2BD0  00 
03010  2BD1  0E 
03010  2BD2  0E 
03010  2BD3  00 
03011  2BD4              ;*********************************
03012  2BD4              ;.FIL 0:SYM.ASM
03013  2BD4              ;*********************************
03014  2BD4              .END
03015  2BD4              ;*********************************
03016  2BD4              .LIB   SYM.ASM
03017  2BD4              ;*********************************
03018  2BD4              ; FILE SYMBOL.ASM
03019  2BD4              ;*********************************
03020  2BD4              ;
03021  2BD4              ;        DISASSEMBLER64
03022  2BD4              ;    SYMBOLIC DISASSEMBLER
03023  2BD4              ;       BY DENTON MARLOWE
03024  2BD4              ;
03025  2BD4              ;  (C)1986 BY DENTON MARLOWE
03026  2BD4              ;
03027  2BD4              ;*********************************






DISASSEMBLER20......PAGE 0068

LINE# LOC   CODE        LINE


03028  2BD4              ; SYMBOLIC ROUTINES
03029  2BD4              ;*********************************
03030  2BD4              ; SYMBOLIC DISASSEMBLY OPTION
03031  2BD4              ;*********************************
03032  2BD4  A9 41       SOP    LDA #<MSS1      ;LOW BYTE MESSAGE
03033  2BD6  A0 2F              LDY #>MSS1      ;HIGH BYTE MESSAGE
03034  2BD8  20 5D 1D           JSR STRPNT      ;OUTPUT MESSAGE
03035  2BDB  20 32 1D           JSR CRNO        ;GET KEY PRESS
03036  2BDE  90 08              BCC SOP1        ;C=0 YES
03037  2BE0              ;*********************************
03038  2BE0              ; ABSOLUTE DISASSEMBLY SELECTED
03039  2BE0              ;*********************************
03040  2BE0  A9 00              LDA #$00        ;SET SYMBLOIC FLAG
03041  2BE2  8D 38 12           STA SYMBOL      ;STORE FLAG
03042  2BE5  4C 31 2C           JMP SY          ;FOR INTERNAL
03043  2BE8              ;*********************************
03044  2BE8              ; SYMBOLIC DISASSEMBLY SELECTED
03045  2BE8              ;*********************************
03046  2BE8  A9 01       SOP1   LDA #$01        ;SET SYMBOLIC FLAG
03047  2BEA  8D 38 12           STA SYMBOL      ;STORE FLAG
03048  2BED              ;*********************************
03049  2BED              ; SETUP START OF TABLE POINTER
03050  2BED              ;*********************************
03051  2BED  A9 5E              LDA #<STABLE
03052  2BEF  8D 3B 12           STA SYMBOS
03053  2BF2  8D 39 12           STA SYMBOP
03054  2BF5  A9 38              LDA #>STABLE
03055  2BF7  8D 3C 12           STA SYMBOS+1
03056  2BFA  8D 3A 12           STA SYMBOP+1
03057  2BFD              ;*********************************
03058  2BFD              ; CHECK FOR SYMBOL TABLE OPTION
03059  2BFD              ;*********************************
03060  2BFD  A9 66       SYTAB  LDA #<MSS2      ;LOW BYTE MESSAGE
03061  2BFF  A0 2F              LDY #>MSS2      ;HIGH BYTE MESSAGE
03062  2C01  20 5D 1D           JSR STRPNT      ;OUTPUT MESSAGE
03063  2C04  20 32 1D           JSR CRNO        ;GET KEY PRESS
03064  2C07  B0 28              BCS SY          ;C=1 NO
03065  2C09              ;*********************************
03066  2C09              ; APPEND SYMBOL TABLE
03067  2C09              ;*********************************
03068  2C09  A9 AC              LDA #<MSS4
03069  2C0B  A0 2F              LDY #>MSS4
03070  2C0D  20 5D 1D           JSR STRPNT
03071  2C10  20 32 1D           JSR CRNO
03072  2C13  B0 0A              BCS SOP4
03073  2C15  A9 E1              LDA #<UTABLE
03074  2C17  8D 39 12           STA SYMBOP
03075  2C1A  A9 39              LDA #>UTABLE
03076  2C1C  8D 3A 12           STA SYMBOP+1
03077  2C1F              ;*********************************
03078  2C1F              ; GO AND LOAD TABLE
03079  2C1F              ;*********************************
03080  2C1F  20 C4 2D    SOP4   JSR READXX      ;READ FILE
03081  2C22  B0 0D              BCS SY          ;C=1 ERROR
03082  2C24              ;*********************************






DISASSEMBLER20......PAGE 0069

LINE# LOC   CODE        LINE


03083  2C24              ; SETUP END OF TABLE POINTER
03084  2C24              ;*********************************
03085  2C24  AD 39 12           LDA SYMBOP      ;XREF POINTER
03086  2C27  8D 3D 12           STA SYMBOE
03087  2C2A  AD 3A 12           LDA SYMBOP+1
03088  2C2D  8D 3E 12           STA SYMBOE+1
03089  2C30  60                 RTS
03090  2C31              ;*********************************
03091  2C31              ; DEFAULT SYMBOL TABLE END
03092  2C31              ;*********************************
03093  2C31  A9 E1       SY     LDA #<UTABLE
03094  2C33  8D 3D 12           STA SYMBOE
03095  2C36  A9 39              LDA #>UTABLE
03096  2C38  8D 3E 12           STA SYMBOE+1
03097  2C3B  60                 RTS
03098  2C3C              ;*********************************
03099  2C3C              ; SET OR RESET SYMBOL TABLE
03100  2C3C              ;*********************************
03101  2C3C  AD 3B 12    SSET   LDA SYMBOS
03102  2C3F  8D 39 12           STA SYMBOP
03103  2C42  AD 3C 12           LDA SYMBOS+1
03104  2C45  8D 3A 12           STA SYMBOP+1
03105  2C48  60                 RTS
03106  2C49              ;*********************************
03107  2C49              ; EQUATE TABLE SETUP
03108  2C49              ;*********************************
03109  2C49  AD 32 12    EQUINT LDA TABINE
03110  2C4C  8D 2E 12           STA TABINP
03111  2C4F  8D 30 12           STA TABINS
03112  2C52  AD 33 12           LDA TABINE+1
03113  2C55  8D 2F 12           STA TABINP+1
03114  2C58  8D 31 12           STA TABINS+1
03115  2C5B  60                 RTS
03116  2C5C              ;*********************************
03117  2C5C              ; ENTRY POINT FOR ADDRESS
03118  2C5C              ;*********************************
03119  2C5C  AD 38 12    SYM    LDA SYMBOL
03120  2C5F  F0 43              BEQ SYMEND
03121  2C61  AD 22 12           LDA SELECT      ;COPY SELECT
03122  2C64  8D 45 12           STA WORKED      ;ADDRESS INTO
03123  2C67  AD 23 12           LDA SELECT+1    ;WORKED
03124  2C6A  8D 46 12           STA WORKED+1
03125  2C6D  4C 75 2C           JMP SYM1        ;CHECK FOR MATCH
03126  2C70              ;*********************************
03127  2C70              ; ENTRY POINT FOR OPCODES
03128  2C70              ;*********************************
03129  2C70  AD 38 12    SYMOP  LDA SYMBOL
03130  2C73  F0 2F              BEQ SYMEND
03131  2C75              ;*********************************
03132  2C75              ; COMPARE ADDRESS TO SYMBOL TABLE
03133  2C75              ;*********************************
03134  2C75  20 3C 2C    SYM1   JSR SSET
03135  2C78  20 45 2D    SYM2   JSR GETC
03136  2C7B  8D 48 12           STA WORKER+1
03137  2C7E  20 3C 2D           JSR INCC






DISASSEMBLER20......PAGE 0070

LINE# LOC   CODE        LINE


03138  2C81  20 45 2D           JSR GETC
03139  2C84  8D 47 12           STA WORKER
03140  2C87              ;*********************************
03141  2C87  38                 SEC             ;SET CARRY
03142  2C88  AD 47 12           LDA WORKER
03143  2C8B  ED 45 12           SBC WORKED      ;SUB FROM LOW
03144  2C8E  8D 51 12           STA TEMP        ;STORE RESULT
03145  2C91  AD 48 12           LDA WORKER+1
03146  2C94  ED 46 12           SBC WORKED+1    ;SUB FROM HIGH
03147  2C97  0D 51 12           ORA TEMP        ;OR RESULTS
03148  2C9A  F0 0A              BEQ MATCH       ;CHECK FOR MATCH
03149  2C9C  20 18 2D           JSR NEXTC       ;IF NOT NEXT
03150  2C9F  B0 03              BCS SYMEND      ;END OF TABLE?
03151  2CA1  4C 78 2C           JMP SYM2        ;NO CHECK NEXT
03152  2CA4  18          SYMEND CLC             ;NO MATCHES CLEAR
03153  2CA5  60                 RTS             ;RETURN
03154  2CA6              ;*********************************
03155  2CA6              ; FOUND MATCH
03156  2CA6              ;*********************************
03157  2CA6  AD 12 12    MATCH  LDA PASS        ;CHECK PASS
03158  2CA9  CD 15 12           CMP CPASS       ;IS IT LAST
03159  2CAC  F0 18              BEQ MATCHS      ;IF SO PRINT
03160  2CAE  CD 16 12           CMP SPASS
03161  2CB1  F0 3A              BEQ MATCHT
03162  2CB3  20 5C 23           JSR RANGE       ;SYMBOL IN RANGE
03163  2CB6  90 3F              BCC MATEXT      ;NO INTERNAL EQ
03164  2CB8  20 3C 2D           JSR INCC        ;INC TO SYMBOL
03165  2CBB  20 45 2D           JSR GETC        ;GET FIRST CHAR
03166  2CBE  C9 20              CMP #$20        ;SPACE
03167  2CC0  F0 03              BEQ MATONE      ;NOT EQUATE
03168  2CC2  4C D3 23           JMP PUTI        ;PUT IN EQUATE
03169  2CC5  60          MATONE RTS             ;RETURN
03170  2CC6              ;*********************************
03171  2CC6              ; CHECK FOR SYMBOL+1
03172  2CC6              ;*********************************
03173  2CC6  20 3C 2D    MATCHS JSR INCC        ;INC TO LABEL
03174  2CC9  20 45 2D           JSR GETC        ;GET CHARARCTER
03175  2CCC  C9 20              CMP #$20        ;IS IT SPACE
03176  2CCE  D0 1D              BNE MATCHT      ;IF NOT GO ON
03177  2CD0  38                 SEC             ;SET CARRY
03178  2CD1  AD 39 12           LDA SYMBOP      ;GET LOW POINT
03179  2CD4  E9 09              SBC #$09        ;LAST SYMBOL
03180  2CD6  48                 PHA             ;PUSH ON STACK
03181  2CD7  AD 3A 12           LDA SYMBOP+1    ;GET HIGH POINT
03182  2CDA  E9 00              SBC #$00        ;LAST SYMBOL
03183  2CDC  A8                 TAY             ;PUT IN Y
03184  2CDD  68                 PLA             ;GET LO POINT
03185  2CDE  20 F8 2C           JSR STRSYM      ;PRINT SYMBOL
03186  2CE1  A9 2B              LDA #'+'         ;ASCII +
03187  2CE3  20 B3 1D           JSR PCHAR       ;PRINT IT
03188  2CE6  A9 31              LDA #'1'         ;ASCII 1
03189  2CE8  20 B3 1D           JSR PCHAR       ;PRINT IT
03190  2CEB  38                 SEC             ;C=1 SYMBOL
03191  2CEC  60                 RTS             ;RETURN
03192  2CED              ;*********************************






DISASSEMBLER20......PAGE 0071

LINE# LOC   CODE        LINE


03193  2CED  AD 39 12    MATCHT LDA SYMBOP      ;LOW BYTE LABEL
03194  2CF0  AC 3A 12           LDY SYMBOP+1    ;HIGH BYTE LABEL
03195  2CF3  20 F8 2C           JSR STRSYM      ;PRINT LABEL
03196  2CF6              ;*********************************
03197  2CF6  38                 SEC             ;MATCH SET CARRY
03198  2CF7  60          MATEXT RTS             ;RETURN
03199  2CF8              ;*********************************
03200  2CF8              ; PRINT SYMBOL
03201  2CF8              ;*********************************
03202  2CF8  85 02       STRSYM STA ZEROUR
03203  2CFA  84 03              STY ZEROUR+1
03204  2CFC  A0 00              LDY #$00
03205  2CFE  B1 02       STRSY1 LDA (ZEROUR),Y
03206  2D00  F0 0A              BEQ SYEXIT
03207  2D02  C9 20              CMP #$20
03208  2D04  F0 06              BEQ SYEXIT
03209  2D06  20 B3 1D           JSR PCHAR
03210  2D09  C8                 INY
03211  2D0A  D0 F2              BNE STRSY1
03212  2D0C  60          SYEXIT RTS
03213  2D0D  B1 02       FIXSYM LDA (ZEROUR),Y
03214  2D0F  F0 FB              BEQ SYEXIT
03215  2D11  20 B3 1D           JSR PCHAR
03216  2D14  C8                 INY
03217  2D15  4C 0D 2D           JMP FIXSYM
03218  2D18              ;*********************************
03219  2D18              ; INC SYMBOL ADDRESS TABLE POINTER
03220  2D18              ;*********************************
03221  2D18  18          NEXTC  CLC
03222  2D19  AD 39 12           LDA SYMBOP
03223  2D1C  69 08              ADC #$08
03224  2D1E  8D 39 12           STA SYMBOP
03225  2D21  AD 3A 12           LDA SYMBOP+1
03226  2D24  69 00              ADC #$00
03227  2D26  8D 3A 12           STA SYMBOP+1
03228  2D29  CD 3E 12           CMP SYMBOE+1
03229  2D2C  90 0A              BCC COK
03230  2D2E  D0 0A              BNE NCOK
03231  2D30  AD 39 12           LDA SYMBOP
03232  2D33  CD 3D 12           CMP SYMBOE
03233  2D36  B0 02              BCS NCOK
03234  2D38  18          COK    CLC
03235  2D39  60                 RTS
03236  2D3A  38          NCOK   SEC
03237  2D3B  60                 RTS
03238  2D3C              ;*********************************
03239  2D3C  EE 39 12    INCC   INC SYMBOP
03240  2D3F  D0 03              BNE *+5
03241  2D41  EE 3A 12           INC SYMBOP+1
03242  2D44  60                 RTS
03243  2D45              ;*********************************
03244  2D45              ; GET BYTE FROM ADDRESS TABLE
03245  2D45              ;*********************************
03246  2D45  AD 39 12    GETC   LDA SYMBOP
03247  2D48  85 02              STA ZEROUR






DISASSEMBLER20......PAGE 0072

LINE# LOC   CODE        LINE


03248  2D4A  AD 3A 12           LDA SYMBOP+1
03249  2D4D  85 03              STA ZEROUR+1
03250  2D4F  A0 00              LDY #$00
03251  2D51  B1 02              LDA (ZEROUR),Y
03252  2D53  60                 RTS
03253  2D54              ;*********************************
03254  2D54              ; PRINT EQUATE TABLE
03255  2D54              ;*********************************
03256  2D54  38          EQUPRT SEC
03257  2D55  AD 30 12           LDA TABINS
03258  2D58  ED 32 12           SBC TABINE
03259  2D5B  8D 51 12           STA TEMP
03260  2D5E  AD 31 12           LDA TABINS+1
03261  2D61  ED 33 12           SBC TABINE+1
03262  2D64  0D 51 12           ORA TEMP
03263  2D67  F0 55              BEQ EQUEND
03264  2D69  20 7E 24           JSR SORT
03265  2D6C  20 8F 21           JSR COMENT
03266  2D6F  20 49 23           JSR PRTOTH
03267  2D72  A9 43              LDA #<EQUATE
03268  2D74  A0 30              LDY #>EQUATE
03269  2D76  20 5D 1D           JSR STRPNT
03270  2D79  20 A0 1C           JSR NEWLIN
03271  2D7C  20 8F 21           JSR COMENT
03272  2D7F  20 23 24    EQUOP  JSR GETI
03273  2D82  8D 45 12           STA WORKED
03274  2D85  20 1A 24           JSR INCI
03275  2D88  20 23 24           JSR GETI
03276  2D8B  8D 46 12           STA WORKED+1
03277  2D8E  20 49 23           JSR PRTOTH
03278  2D91  20 70 2C           JSR SYMOP
03279  2D94  B0 03              BCS EQUOP1
03280  2D96  20 ED 21           JSR PWORK
03281  2D99  A9 3D       EQUOP1 LDA #'='
03282  2D9B  20 B3 1D           JSR PCHAR
03283  2D9E  A9 24              LDA #'$'
03284  2DA0  20 B3 1D           JSR PCHAR
03285  2DA3  20 F0 21           JSR PWORKD
03286  2DA6  20 A0 1C           JSR NEWLIN
03287  2DA9              ;*********************************
03288  2DA9  20 1A 24           JSR INCI
03289  2DAC  AD 2F 12           LDA TABINP+1
03290  2DAF  CD 33 12           CMP TABINE+1
03291  2DB2  90 CB              BCC EQUOP
03292  2DB4  D0 08              BNE EQUEND
03293  2DB6  AD 2E 12           LDA TABINP
03294  2DB9  CD 32 12           CMP TABINE
03295  2DBC  90 C1              BCC EQUOP
03296  2DBE              ;*********************************
03297  2DBE  20 8F 21    EQUEND JSR COMENT
03298  2DC1  4C BA 23           JMP RESINT
03299  2DC4              ;*********************************
03300  2DC4              ; READ CROSS REFERENCE SEQ FILE
03301  2DC4              ;      INTO SYMBOL TABLE
03302  2DC4              ;*********************************






DISASSEMBLER20......PAGE 0073

LINE# LOC   CODE        LINE


03303  2DC4              ; READ FILE NAME DEFAULT ON CR
03304  2DC4              ;*********************************
03305  2DC4  A9 8D       READXX LDA #<MSS3
03306  2DC6  A0 2F              LDY #>MSS3
03307  2DC8  20 5D 1D           JSR STRPNT
03308  2DCB  20 E4 FF    SOP2   JSR GETIN
03309  2DCE  F0 FB              BEQ SOP2
03310  2DD0  C9 30              CMP #'0'
03311  2DD2  F0 04              BEQ SOP3
03312  2DD4  C9 31              CMP #'1'
03313  2DD6  D0 F3              BNE SOP2
03314  2DD8  20 D2 FF    SOP3   JSR CHROUT
03315  2DDB  8D E6 12           STA TEXTER
03316  2DDE              ;*********************************
03317  2DDE  A9 D1              LDA #<LOADF
03318  2DE0  A0 2F              LDY #>LOADF
03319  2DE2  20 5D 1D           JSR STRPNT
03320  2DE5              ;*********************************
03321  2DE5  20 BE 1C           JSR INSTNG
03322  2DE8  F0 20              BEQ READXF
03323  2DEA  98                 TYA
03324  2DEB  48                 PHA
03325  2DEC  20 AE 16           JSR INITD
03326  2DEF  68                 PLA
03327  2DF0  A8                 TAY
03328  2DF1  A2 00              LDX #$00
03329  2DF3  BD 3D 2F    XFILE1 LDA NAMS,X
03330  2DF6  99 5C 12           STA BUF,Y
03331  2DF9  C8                 INY
03332  2DFA  E8                 INX
03333  2DFB  E0 04              CPX #$04
03334  2DFD  D0 F4              BNE XFILE1
03335  2DFF  98                 TYA
03336  2E00  A0 12              LDY #>BUF
03337  2E02  A2 5C              LDX #<BUF
03338  2E04  20 BD FF           JSR SETNAM
03339  2E07  4C 13 2E           JMP REOPEN
03340  2E0A              ;*********************************
03341  2E0A              ; DEFAULT FILENAME XRFF0000
03342  2E0A              ;********************************
03343  2E0A  A9 0E       READXF LDA #$0E
03344  2E0C  A0 2F              LDY #>NAME
03345  2E0E  A2 33              LDX #<NAME
03346  2E10  20 BD FF           JSR SETNAM
03347  2E13              ;*********************************
03348  2E13              ; OPEN FILE
03349  2E13              ;********************************
03350  2E13  A9 03       REOPEN LDA #$03
03351  2E15  A2 08              LDX #$08
03352  2E17  A0 03              LDY #$03
03353  2E19  20 BA FF           JSR SETLFS
03354  2E1C  20 C0 FF           JSR OPEN
03355  2E1F              ;********************************
03356  2E1F              ; CHECK FOR DISK ERROR
03357  2E1F              ;*********************************






DISASSEMBLER20......PAGE 0074

LINE# LOC   CODE        LINE


03358  2E1F  20 66 1C           JSR DISERR
03359  2E22  B0 3F              BCS QUITXX
03360  2E24              ;*********************************
03361  2E24              ; OUTPUT LOADING MESSAGE
03362  2E24              ;*********************************
03363  2E24  A9 F1              LDA #<LOADM     ;MSG LOW
03364  2E26  A0 2F              LDY #>LOADM     ;MSG HIGH
03365  2E28  20 5D 1D           JSR STRPNT      ;OUTPUT MSG
03366  2E2B              ;*********************************
03367  2E2B  A9 00              LDA #$00        ;COL COUNTER
03368  2E2D  8D 51 12           STA TEMP
03369  2E30              ;*********************************
03370  2E30              ; INPUT AND LOAD SYMBOL TABLE
03371  2E30              ;*********************************
03372  2E30  20 74 2E    READX  JSR READS       ;INPUT SYMBOL
03373  2E33  20 F2 2E           JSR PUTC
03374  2E36  20 1A 2F           JSR LINES       ;SCREEN OUT
03375  2E39  20 E1 FF           JSR STOP
03376  2E3C  F0 05              BEQ QUITX
03377  2E3E  20 B7 FF           JSR READST
03378  2E41  F0 ED              BEQ READX
03379  2E43              ;*********************************
03380  2E43              ;    CLOSE OPEN FILE
03381  2E43              ;*********************************
03382  2E43  A9 03       QUITX  LDA #$03
03383  2E45  20 C3 FF           JSR CLOSE
03384  2E48  20 CC FF           JSR CLRCHN
03385  2E4B  20 21 22           JSR CRLF
03386  2E4E              ;*********************************
03387  2E4E              ; SET END OF TABLE
03388  2E4E              ;*********************************
03389  2E4E  AD 39 12           LDA SYMBOP
03390  2E51  8D 3D 12           STA SYMBOE
03391  2E54  AD 3A 12           LDA SYMBOP+1
03392  2E57  8D 3E 12           STA SYMBOE+1
03393  2E5A              ;*********************************
03394  2E5A              ; OUTPUT LOADED MESSAGE
03395  2E5A              ;*********************************
03396  2E5A  A9 0F              LDA #<LOADC
03397  2E5C  A0 30              LDY #>LOADC
03398  2E5E  20 5D 1D           JSR STRPNT
03399  2E61  18                 CLC
03400  2E62  60                 RTS
03401  2E63              ;*********************************
03402  2E63              ; OUTPUT ERROR MESSAGE
03403  2E63              ;*********************************
03404  2E63  A9 03       QUITXX LDA #$03
03405  2E65  20 C3 FF           JSR CLOSE
03406  2E68  20 CC FF           JSR CLRCHN
03407  2E6B  A9 27              LDA #<LOADE
03408  2E6D  A0 30              LDY #>LOADE
03409  2E6F  20 5D 1D           JSR STRPNT
03410  2E72  38                 SEC
03411  2E73  60                 RTS
03412  2E74              ;*********************************






DISASSEMBLER20......PAGE 0075

LINE# LOC   CODE        LINE


03413  2E74              ; READ SYMBOL FROM FILE
03414  2E74              ;*********************************
03415  2E74  A2 03       READS  LDX #$03        ;FILE NUMBER
03416  2E76  20 C6 FF           JSR CHKIN       ;FILE IS INPUT
03417  2E79  A0 02              LDY #$02        ;COUNTER
03418  2E7B  20 CF FF           JSR CHRIN       ;INPUT CHAR
03419  2E7E  99 DA 12           STA SYMBUF,Y    ;1ST CHAR
03420  2E81  20 D2 FF           JSR CHROUT      ;PRITN IT
03421  2E84  C8                 INY             ;INC POINTER
03422  2E85  20 CF FF    READY  JSR CHRIN       ;NEXT CHAR
03423  2E88  99 DA 12           STA SYMBUF,Y    ;STORE
03424  2E8B  20 D2 FF           JSR CHROUT      ;PRINT IT
03425  2E8E  C8                 INY             ;INC OFFSET
03426  2E8F  C0 08              CPY #$08        ;8 IS FOR NULL
03427  2E91  D0 F2              BNE READY       ;BRANCH IF NOT
03428  2E93  A9 00              LDA #$00        ;NULL MARKER
03429  2E95  99 DA 12           STA SYMBUF,Y    ;STORE AT END
03430  2E98              ;*********************************
03431  2E98  20 33 22           JSR SPACE       ;PRINT SPACE
03432  2E9B  20 FE 21           JSR DOLLAR      ;PRINT $ SIGN
03433  2E9E              ;*********************************
03434  2E9E  AD E6 12           LDA TEXTER
03435  2EA1  C9 30              CMP #'0'
03436  2EA3  F0 2F              BEQ STDREF
03437  2EA5              ;*********************************
03438  2EA5  A0 00              LDY #$00
03439  2EA7  20 B4 2E           JSR XGET
03440  2EAA  C8                 INY
03441  2EAB  20 B4 2E           JSR XGET
03442  2EAE  20 CF FF           JSR CHRIN       ;GET $0D
03443  2EB1  4C CC FF           JMP CLRCHN
03444  2EB4              ;*********************************
03445  2EB4  20 CF FF    XGET   JSR CHRIN
03446  2EB7  20 D2 FF           JSR CHROUT
03447  2EBA  20 0E 1D           JSR BINARY
03448  2EBD  0A                 ASL A
03449  2EBE  0A                 ASL A
03450  2EBF  0A                 ASL A
03451  2EC0  0A                 ASL A
03452  2EC1  99 DA 12           STA SYMBUF,Y
03453  2EC4  20 CF FF           JSR CHRIN
03454  2EC7  20 D2 FF           JSR CHROUT
03455  2ECA  20 0E 1D           JSR BINARY
03456  2ECD  19 DA 12           ORA SYMBUF,Y
03457  2ED0  99 DA 12           STA SYMBUF,Y
03458  2ED3  60                 RTS
03459  2ED4              ;*********************************
03460  2ED4  A0 00       STDREF LDY #$00        ;ZERO OFFSET
03461  2ED6  20 CF FF           JSR CHRIN       ;HIGH BYTES
03462  2ED9  99 DA 12           STA SYMBUF,Y    ;
03463  2EDC  8C 54 12           STY SAVY        ;
03464  2EDF  20 47 1D           JSR PRBYT       ;
03465  2EE2  AC 54 12           LDY SAVY        ;
03466  2EE5  C8                 INY             ;
03467  2EE6  20 CF FF           JSR CHRIN       ;LOW BYTE






DISASSEMBLER20......PAGE 0076

LINE# LOC   CODE        LINE


03468  2EE9  99 DA 12           STA SYMBUF,Y    ;
03469  2EEC  20 47 1D           JSR PRBYT       ;
03470  2EEF  4C CC FF           JMP CLRCHN      ;KEYBOARD INPUT
03471  2EF2              ;*********************************
03472  2EF2              ; MOVE SYMBOL FROM BUFFER TO TABLE
03473  2EF2              ;*********************************
03474  2EF2  A0 00       PUTC   LDY #$00
03475  2EF4  AD 39 12           LDA SYMBOP
03476  2EF7  85 02              STA ZEROUR
03477  2EF9  AD 3A 12           LDA SYMBOP+1
03478  2EFC  85 03              STA ZEROUR+1
03479  2EFE  B9 DA 12    PUT    LDA SYMBUF,Y
03480  2F01  91 02              STA (ZEROUR),Y
03481  2F03  C8                 INY
03482  2F04  C0 09              CPY #$09
03483  2F06  D0 F6              BNE PUT
03484  2F08  18                 CLC
03485  2F09  AD 39 12           LDA SYMBOP
03486  2F0C  69 09              ADC #$09
03487  2F0E  8D 39 12           STA SYMBOP
03488  2F11  AD 3A 12           LDA SYMBOP+1
03489  2F14  69 00              ADC #$00
03490  2F16  8D 3A 12           STA SYMBOP+1
03491  2F19  60                 RTS
03492  2F1A              ;*********************************
03493  2F1A              ; OUTPUT SYMBOL IN 4 COLUMNS
03494  2F1A              ;*********************************
03495  2F1A  EE 51 12    LINES  INC TEMP
03496  2F1D  A9 03              LDA #$03
03497  2F1F  CD 51 12           CMP TEMP
03498  2F22  F0 05              BEQ RESET
03499  2F24  A9 2E              LDA #'.'
03500  2F26  4C D2 FF           JMP CHROUT
03501  2F29  A9 00       RESET  LDA #$00
03502  2F2B  8D 51 12           STA TEMP
03503  2F2E  A9 0D              LDA #$0D
03504  2F30  4C D2 FF           JMP CHROUT
03505  2F33              ;*********************************
03506  2F33              ;   COMMAND MESSAGES
03507  2F33              ;*********************************
03508  2F33  30 3A       NAME   .BYTE '0:XRLL0000'
03509  2F3D  2C 53       NAMS   .BYTE ',S,R'
03510  2F41              ;*********************************
03511  2F41  0D          MSS1   .BYTE $0D
03512  2F42  0D                 .BYTE $0D
03513  2F43  53 59              .BYTE 'SYMBOLIC DISASSEMBLY'
03514  2F57  0D                 .BYTE $0D
03515  2F58  28 59              .BYTE '(Y OR N/CR)? '
03516  2F65  00                 .BYTE 0
03517  2F66                     
03518  2F66  0D                 MSS2 .BYTE $0D
03519  2F67  0D                 .BYTE $0D
03520  2F68  4C 4F              .BYTE 'LOAD USER'
03521  2F71  0D                 .BYTE $0D
03522  2F72  53 59              .BYTE 'SYMBOL TABLE'






DISASSEMBLER20......PAGE 0077

LINE# LOC   CODE        LINE


03523  2F7E  0D                 .BYTE $0D
03524  2F7F  28 59              .BYTE '(Y OR N/CR)? '
03525  2F8C  00                 .BYTE 0
03526  2F8D                     
03527  2F8D  0D                 MSS3 .BYTE $0D
03528  2F8E  0D                 .BYTE $0D
03529  2F8F  46 4F              .BYTE 'FORMAT'
03530  2F95  0D                 .BYTE $0D
03531  2F96  30 3D              .BYTE '0=STANDARD'
03532  2FA0  0D                 .BYTE $0D
03533  2FA1  31 3D              .BYTE '1=ASCII : '
03534  2FAB  00                 .BYTE 0
03535  2FAC                     
03536  2FAC  0D                 MSS4 .BYTE $0D
03537  2FAD  0D                 .BYTE $0D
03538  2FAE  41 50              .BYTE 'APPEND DEFAULT TABLE'
03539  2FC2  0D                 .BYTE $0D
03540  2FC3  28 59              .BYTE '(Y OR N/CR)? '
03541  2FD0  00                 .BYTE 0
03542  2FD1                     
03543  2FD1  0D          LOADF  .BYTE $0D
03544  2FD2  0D          .BYTE  $0D
03545  2FD3  53 59       .BYTE  'SYMBOL TABLE'
03546  2FDF  0D          .BYTE  $0D
03547  2FE0  28 43       .BYTE  '(CR OR D:NAME): '
03548  2FF0  00          .BYTE  0
03549  2FF1              .
03550  2FF1  0D          LOADM  .BYTE $0D,$0D
03550  2FF2  0D 
03551  2FF3  52 45       .BYTE  'READING SYMBOL'
03552  3001  0D          .BYTE  $0D
03553  3002  54 41       .BYTE  'TABLE FILE'
03554  300C  0D          .BYTE  $0D,$0D
03554  300D  0D 
03555  300E  00          .BYTE  0
03556  300F              .
03557  300F  0D          LOADC  .BYTE $0D
03558  3010  0D          .BYTE  $0D
03559  3011  53 59       .BYTE  'SYMBOL TABLE'
03560  301D  0D          .BYTE  $0D
03561  301E  4C 4F       .BYTE  'LOADED'
03562  3024  0D          .BYTE  $0D,$0D
03562  3025  0D 
03563  3026  00          .BYTE  0
03564  3027              .
03565  3027  0D          LOADE  .BYTE $0D
03566  3028  0D          .BYTE  $0D
03567  3029  53 59       .BYTE  'SYMBOL TABLE'
03568  3035  0D          .BYTE  $0D
03569  3036  4E 4F       .BYTE  'NOT LOADED'
03570  3040  0D          .BYTE  $0D,$0D
03570  3041  0D 
03571  3042  00          .BYTE  0
03572  3043              ;*********************************
03573  3043  3B 20       EQUATE .BYTE '; EXTERNAL ADDRESS EQUATES'






DISASSEMBLER20......PAGE 0078

LINE# LOC   CODE        LINE


03574  305D  00                 .BYTE 0
03575  305E              ;*********************************
03576  305E              ; PATCH CODE AREA
03577  305E              ;*********************************
03578  305E              *=*+$0800
03579  385E              ;*********************************
03580  385E              ; SYMBOL TABLE
03581  385E              ;*********************************
03582  385E              ;  KERNAL JUMP TABLE
03583  385E              ;*********************************
03584  385E  FF          STABLE .BYTE $FF,$80,'IDBYTE',0
03584  385F  80 
03584  3860  49 44 
03584  3866  00 
03585  3867  FF                 .BYTE $FF,$81,'CINT  ',0
03585  3868  81 
03585  3869  43 49 
03585  386F  00 
03586  3870  FF                 .BYTE $FF,$84,'IOINIT',0
03586  3871  84 
03586  3872  49 4F 
03586  3878  00 
03587  3879  FF                 .BYTE $FF,$87,'RAMTAS',0
03587  387A  87 
03587  387B  52 41 
03587  3881  00 
03588  3882  FF                 .BYTE $FF,$8A,'RESTOR',0
03588  3883  8A 
03588  3884  52 45 
03588  388A  00 
03589  388B  FF                 .BYTE $FF,$8D,'VECTOR',0
03589  388C  8D 
03589  388D  56 45 
03589  3893  00 
03590  3894  FF                 .BYTE $FF,$90,'SETMSG',0
03590  3895  90 
03590  3896  53 45 
03590  389C  00 
03591  389D  FF                 .BYTE $FF,$93,'SECOND',0
03591  389E  93 
03591  389F  53 45 
03591  38A5  00 
03592  38A6  FF                 .BYTE $FF,$96,'TKSA  ',0
03592  38A7  96 
03592  38A8  54 4B 
03592  38AE  00 
03593  38AF  FF                 .BYTE $FF,$99,'MEMTOP',0
03593  38B0  99 
03593  38B1  4D 45 
03593  38B7  00 
03594  38B8  FF                 .BYTE $FF,$9C,'MEMBOT',0
03594  38B9  9C 
03594  38BA  4D 45 
03594  38C0  00 
03595  38C1  FF                 .BYTE $FF,$9F,'SCNKEY',0






DISASSEMBLER20......PAGE 0079

LINE# LOC   CODE        LINE


03595  38C2  9F 
03595  38C3  53 43 
03595  38C9  00 
03596  38CA  FF                 .BYTE $FF,$A2,'SETTMO',0
03596  38CB  A2 
03596  38CC  53 45 
03596  38D2  00 
03597  38D3  FF                 .BYTE $FF,$A5,'ACPTR ',0
03597  38D4  A5 
03597  38D5  41 43 
03597  38DB  00 
03598  38DC  FF                 .BYTE $FF,$A8,'CIOUT ',0
03598  38DD  A8 
03598  38DE  43 49 
03598  38E4  00 
03599  38E5  FF                 .BYTE $FF,$AB,'UNTLK ',0
03599  38E6  AB 
03599  38E7  55 4E 
03599  38ED  00 
03600  38EE  FF                 .BYTE $FF,$AE,'UNLSN ',0
03600  38EF  AE 
03600  38F0  55 4E 
03600  38F6  00 
03601  38F7  FF                 .BYTE $FF,$B1,'LISTEN',0
03601  38F8  B1 
03601  38F9  4C 49 
03601  38FF  00 
03602  3900  FF                 .BYTE $FF,$B4,'TALK  ',0
03602  3901  B4 
03602  3902  54 41 
03602  3908  00 
03603  3909  FF                 .BYTE $FF,$B7,'READST',0
03603  390A  B7 
03603  390B  52 45 
03603  3911  00 
03604  3912  FF                 .BYTE $FF,$BA,'SETLFS',0
03604  3913  BA 
03604  3914  53 45 
03604  391A  00 
03605  391B  FF                 .BYTE $FF,$BD,'SETNAM',0
03605  391C  BD 
03605  391D  53 45 
03605  3923  00 
03606  3924  FF                 .BYTE $FF,$C0,'OPEN  ',0
03606  3925  C0 
03606  3926  4F 50 
03606  392C  00 
03607  392D  FF                 .BYTE $FF,$C3,'CLOSE ',0
03607  392E  C3 
03607  392F  43 4C 
03607  3935  00 
03608  3936  FF                 .BYTE $FF,$C6,'CHKIN ',0
03608  3937  C6 
03608  3938  43 48 
03608  393E  00 






DISASSEMBLER20......PAGE 0080

LINE# LOC   CODE        LINE


03609  393F  FF                 .BYTE $FF,$C9,'CHKOUT',0
03609  3940  C9 
03609  3941  43 48 
03609  3947  00 
03610  3948  FF                 .BYTE $FF,$CC,'CLRCHN',0
03610  3949  CC 
03610  394A  43 4C 
03610  3950  00 
03611  3951  FF                 .BYTE $FF,$CF,'CHRIN ',0
03611  3952  CF 
03611  3953  43 48 
03611  3959  00 
03612  395A  FF                 .BYTE $FF,$D2,'CHROUT',0
03612  395B  D2 
03612  395C  43 48 
03612  3962  00 
03613  3963  FF                 .BYTE $FF,$D5,'LOAD  ',0
03613  3964  D5 
03613  3965  4C 4F 
03613  396B  00 
03614  396C  FF                 .BYTE $FF,$D8,'SAVE  ',0
03614  396D  D8 
03614  396E  53 41 
03614  3974  00 
03615  3975  FF                 .BYTE $FF,$DB,'SETTIM',0
03615  3976  DB 
03615  3977  53 45 
03615  397D  00 
03616  397E  FF                 .BYTE $FF,$DE,'RDTIM ',0
03616  397F  DE 
03616  3980  52 44 
03616  3986  00 
03617  3987  FF                 .BYTE $FF,$E1,'STOP  ',0
03617  3988  E1 
03617  3989  53 54 
03617  398F  00 
03618  3990  FF                 .BYTE $FF,$E4,'GETIN ',0
03618  3991  E4 
03618  3992  47 45 
03618  3998  00 
03619  3999  FF                 .BYTE $FF,$E7,'CLALL ',0
03619  399A  E7 
03619  399B  43 4C 
03619  39A1  00 
03620  39A2  FF                 .BYTE $FF,$EA,'UDTIM ',0
03620  39A3  EA 
03620  39A4  55 44 
03620  39AA  00 
03621  39AB  FF                 .BYTE $FF,$ED,'SCREEN',0
03621  39AC  ED 
03621  39AD  53 43 
03621  39B3  00 
03622  39B4  FF                 .BYTE $FF,$F0,'PLOT  ',0
03622  39B5  F0 
03622  39B6  50 4C 






DISASSEMBLER20......PAGE 0081

LINE# LOC   CODE        LINE


03622  39BC  00 
03623  39BD  FF                 .BYTE $FF,$F3,'IOBASE',0
03623  39BE  F3 
03623  39BF  49 4F 
03623  39C5  00 
03624  39C6              ;*********************************
03625  39C6  FF                 .BYTE $FF,$FA,'NMIVEC',0
03625  39C7  FA 
03625  39C8  4E 4D 
03625  39CE  00 
03626  39CF  FF                 .BYTE $FF,$FC,'RESVEC',0
03626  39D0  FC 
03626  39D1  52 45 
03626  39D7  00 
03627  39D8  FF                 .BYTE $FF,$FE,'IRQVEC',0
03627  39D9  FE 
03627  39DA  49 52 
03627  39E0  00 
03628  39E1              ;*********************************
03629  39E1  00          UTABLE .BYTE 0
03630  39E2              ;*********************************
03631  39E2              .END
03632  39E2              ;*********************************
03633  39E2              .END


ERRORS = 00000


SYMBOL TABLE

SYMBOL VALUE
 ABSEXT   209D    ABSLUT   2079    ABSX     209E    ABSY     20A4
 AC0      26CE    AC1      26D1    ACC      202F    ACHECK   26BC
 ADRS     124F    AFILE    1875    AGET     18A9    AGET1    18B5
 ALINE    26FF    ALOP     2711    AOP      1841    AOP1     1906
 AOP2     1930    AOP3     1955    AOPX     1901    ASC      1972
 ASCCCC   264A    ASCI1    2677    ASCII    266C    ASCIIQ   26A5
 ASCKK    2661    BASIC    120D    BINARY   1D0E    BOP      186C
 BSTUB    0001    BUF      125C    BYTBIT   1F5A    BYTES    26D4
 BYTESX   26FC    BYTEXT   1F9A    BYTT     1F57    CASCII   274A
 CDATA    12E7    CHKIN    FFC6    CHKOUT   FFC9    CHRIN    FFCF
 CHROUT   FFD2    CLOSE    FFC3    CLRCHN   FFCC    COK      2D38
 COMENT   218F    COMET    2195    COMOPT   121D    COMPT    21A5
 CONST0   1EC3    CONST1   1EC8    CPASS    1215    CRLF     2221
 CRLFPR   1DFD    CRNO     1D32    CRNO1    1D3F    CRYS     1D25
 CRYS1    1D3D    CSHORT   21A3    DATABE   12EF    DATABP   12EB
 DATABS   12ED    DATAO1   25D8    DATAO2   260E    DATAOP   25C9
 DATUT    26B6    DBYTES   2756    DBYTEX   2783    DECSL    2270
 DEVICE   1219    DISA     1433    DISASS   1424    DISB     1461
 DISC     14F0    DISERR   1C66    DISFUL   14ED    DISL     1F2F
 DISL1    1F3D    DLOOA    1C91    DLOOC    1C87    DLOOE    1C7B
 DLOOP    1492    DOLLAR   21FE    DONE     1567    DONED    1548
 DOP      1570    DOP2     183C    DOP3     183E    DSLINE   1F1F








SYMBOL TABLE

SYMBOL VALUE
 EA       1220    EAGOL    1228    EAOUT    122C    EAS      12E4
 EASCI1   272E    EASCII   2733    EFILE    217F    ENDAX    25D5
 ENDDAT   26B9    EPASS    1214    EQUATE   3043    EQUEND   2DBE
 EQUINT   2C49    EQUOP    2D7F    EQUOP1   2D99    EQUPRT   2D54
 ERRCT    125A    FILE     1790    FILEOK   178A    FINAL    1F54
 FINISH   1DEA    FIXSYM   2D0D    FOP1     19AE    FOP2     19B0
 FOROPT   121C    FORWRD   2117    GETBYT   1CF1    GETC     2D45
 GETI     2423    GETIN    FFE4    GETOPE   2892    GETSL    225A
 GETWRD   1CCD    GFILE0   177E    HEADER   1E1C    HEADES   1E6F
 HEADFX   1E97    HEADOK   1E89    HEADSY   1E8A    HEXA     1EB3
 ILLEGL   200D    ILLMSG   229E    IMEXIT   2069    IMMEDT   2034
 IMPLI1   20B8    IMPLID   20AA    IMPONE   20B7    INCC     2D3C
 INCI     241A    INCIE    2412    INCSL    2251    INDRCT   20C4
 INDX     20D9    INDY     20E2    INEND    1CF0    INENX    1D0D
 INIT     1A55    INITD    16AE    INITIN   2382    INSTN1   1CC0
 INSTNG   1CBE    INTCH    2441    INTCHA   2432    INTCHK   243E
 INTEND   247A    INTEXT   2410    INTMAT   247C    INTOUT   2569
 INTPR    2574    INTPRM   259B    INTPRS   2596    INTPRT   2553
 INTSA    227C    INTSET   2394    IPASS    1213    LARGE    24E4
 LINECK   1C27    LINECO   1C65    LINECT   1258    LINEFL   12C0
 LINEOK   1E5E    LINES    2F1A    LISTCT   1257    LOADC    300F
 LOADE    3027    LOADF    2FD1    LOADM    2FF1    LOOP1    256F
 LOOP2    25C3    LPAREN   2203    LTITLE   1EE8    LTITLS   1F12
 MATCH    2CA6    MATCHS   2CC6    MATCHT   2CED    MATEXT   2CF7
 MATONE   2CC5    MBYTE    2842    MCODES   29D4    MDBYTE   2852
 MEMSIZ   0037    MNAMES   28FC    MNEMON   285B    MNLOOP   2865
 MODES    2AD4    MPASS    13F2    MSA1     1B26    MSA2     1B49
 MSA3     1B62    MSAOP    1B06    MSB4     1BE5    MSB5     1C06
 MSD1     1A71    MSD2     1A83    MSD4     1A93    MSD4A    1AAD
 MSD5     1AC0    MSF1     19FE    MSF2     1A1A    MSG      19B4
 MSG1     1A2F    MSG2     1A57    MSG5     1B79    MSGBIT   2289
 MSGDIS   1411    MSGEND   2299    MSGERR   1407    MSR1     1ADD
 MSS1     2F41    MSS2     2F66    MSS3     2F8D    MSS4     2FAC
 MWORD    284A    NAME     2F33    NAMS     2F3D    NASCII   273B
 NBUF     12C4    NCHARS   12C3    NCOK     2D3A    NDATA    12E9
 NEGREL   2295    NEWEXT   1CBD    NEWLIN   1CA0    NEXLIN   1E0F
 NEXPTR   1E0C    NEXPTS   1E5F    NEXTBY   2829    NEXTC    2D18
 NEXTP    14C3    NEXTSL   2238    NOASC    2754    NOBINC   2840
 NOFILE   178E    NOHEX    1D21    NOID     17A1    NOINC    224F
 NOPRT    1821    NOTABS   18EC    NPRAD    21DB    NPRAD1   21DC
 OFFSET   1224    OFILE    17A4    OFILE1   17B7    OFILE2   17BC
 OFILE3   17DF    OFILE4   17EE    OFILED   1799    ONEBX    1FCB
 ONEBY    1FC8    ONEBYT   1F9D    OPCPUT   2006    OPCSYM   2009
 OPEN     FFC0    OPERN1   2885    OPERND   288D    ORGIN    2169
 OUFILE   1763    OUTPUT   121A    P1       21D2    PAGECT   1255
 PAGER1   1E58    PASS     1212    PAUS1    269E    PAUSE    14BC
 PCHAR    1DB3    PEXIT    1DE8    PFILE0   1590    PFILE1   1592
 PMSG     13F9    POSREL   2291    POVER    21CF    PRAD     21B8
 PRBYT    1D47    PRBYTS   1D41    PREND    25C0    PRFILE   1688
 PRIN     1DC8    PRINT    1823    PRLA     21AE    PRO2RD   1664
 PROGED   15D8    PROGM    1A51    PROGOK   16AD    PROGRD   15C3
 PRTASS   2878    PRTDAF   2341    PRTDAL   18D0    PRTDAS   18BD
 PRTDAT   2325    PRTEST   231E    PRTGET   17EF    PRTNEX   18C8
 PRTNU1   1D82    PRTNU2   1D89    PRTNU3   1D8A    PRTNUM   1D79
 PRTOK    25B3    PRTON1   22C0    PRTONE   22B2    PRTOT1   2354








SYMBOL TABLE

SYMBOL VALUE
 PRTOTH   2349    PRTPAG   1D6E    PRTTH1   2313    PRTTHE   22ED
 PRTTW1   22E2    PRTTWO   22C8    PSELEC   21E4    PUIT     23ED
 PUT      2EFE    PUTC     2EF2    PUTI     23D3    PWORK    21ED
 PWORKD   21F0    QUITS    14F6    QUITX    2E43    QUITXX   2E63
 QUTERR   150D    RANG     236E    RANGE    235C    READS    2E74
 READST   FFB7    READX    2E30    READXF   2E0A    READXX   2DC4
 READY    2E85    RELATV   20EE    RELND    2120    RELNEG   214B
 RELP     215D    RELPC    213E    RELPM    214F    RELPUT   213A
 RELSYM   213D    REOPEN   2E13    RESET    2F29    RESINT   23BA
 ROPT     1218    ROUT     2380    RPAREN   2208    S3       24CC
 SA       121E    SAGOL    1226    SAOUT    122A    SAVA     1252
 SAVEE    124D    SAVEP    1249    SAVES    124B    SAVINT   23A1
 SAVX     1253    SAVY     1254    SBLOK    283B    SCREN    1DDC
 SCRNO1   1EA9    SCROFF   1E9A    SCRON    1EAA    SELECT   1222
 SEMIC    21F9    SETLFS   FFBA    SETNAM   FFBD    SEXIT    1D6D
 SKIPER   2652    SLOK     224A    SMALL    24E7    SMALLP   1236
 SMALLS   1234    SOP      2BD4    SOP1     2BE8    SOP2     2DCB
 SOP3     2DD8    SOP4     2C1F    SORT     247E    SORT1    2493
 SORT2    24A2    SORT3    2524    SORT4    2550    SORTOK   254D
 SOUT     1D63    SPAC     222B    SPAC6    2226    SPACE    2233
 SPACM    2228    SPASS    1216    SSET     2C3C    STABLE   385E
 STARTD   120F    STARTS   16C8    STDREF   2ED4    STOP     FFE1
 STRPNT   1D5D    STRSY1   2CFE    STRSYM   2CF8    SUBP     28A8
 SUBS     28E0    SUBS1    28C4    SY       2C31    SYEXIT   2D0C
 SYM      2C5C    SYM1     2C75    SYM2     2C78    SYMBOE   123D
 SYMBOL   1238    SYMBOP   1239    SYMBOS   123B    SYMBUF   12DA
 SYMEND   2CA4    SYMOP    2C70    SYTAB    2BFD    T2       24CF
 TABINE   1232    TABINP   122E    TABINS   1230    TDATA    12F1
 TEMP     1251    TEXTER   12E6    TWOB     200C    TWOBX    2003
 TWOBY    2000    TWOBYT   1FD1    UTABLE   39E1    UYMBOE   1243
 UYMBOP   123F    UYMBOS   1241    VERSON   12C2    VICREG   900F
 WIND1    1746    WIND2    1748    WINDOP   170A    WINDOW   121B
 WORD1    279B    WORDM    27E1    WORDPT   27D5    WORDS    2786
 WORDS2   2811    WORDS3   2823    WORDSX   27D2    WORDSY   27DB
 WORDXX   2826    WORKED   1245    WORKER   1247    WREADY   C474
 WRITE    1A4D    XFILE1   2DF3    XGET     2EB4    XINDEX   220D
 XOP0     1989    XOP1     1999    XOP2     199B    XOPT     1217
 XTITLE   1ECD    XTITLS   1F05    YINDEX   2217    YSHEX    1D23
 ZEROPG   206A    ZEROUR   0002    ZEROX    206D    ZEROY    2073


END OF ASSEMBLY
